const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EmployeePage-Dek0d4D2.js","assets/Modal-BUDUBpVK.js","assets/departmentsService-CqHIOhxl.js","assets/Select-BeY_WEo1.js","assets/faceRecognition-DmqH_ObE.js","assets/positionsService-LlSgPJBz.js","assets/DepartmentPage-CRQ9DlhP.js","assets/EmployeesListModal-BT8Rncgf.js","assets/PositionPage-CNc-O431.js","assets/IncomeReportPage-xdTzN2CE.js","assets/FaceAttendancePage-Btq68v21.js","assets/FaceAttendancePage-BigmG0zZ.css"])))=>i.map(i=>d[i]);
function ic(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in i)){const u=Object.getOwnPropertyDescriptor(o,a);u&&Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var iS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Bs(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var a=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return i[o]}})}),n}var _u={exports:{}},Rs={},Su={exports:{}},be={};var Gh;function xv(){if(Gh)return be;Gh=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,T={};function R(O,F,ve){this.props=O,this.context=F,this.refs=T,this.updater=ve||_}R.prototype.isReactComponent={},R.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},R.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=R.prototype;function U(O,F,ve){this.props=O,this.context=F,this.refs=T,this.updater=ve||_}var L=U.prototype=new $;L.constructor=U,b(L,R.prototype),L.isPureReactComponent=!0;var q=Array.isArray,ie=Object.prototype.hasOwnProperty,Y={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function te(O,F,ve){var Ee,we={},ke=null,Oe=null;if(F!=null)for(Ee in F.ref!==void 0&&(Oe=F.ref),F.key!==void 0&&(ke=""+F.key),F)ie.call(F,Ee)&&!C.hasOwnProperty(Ee)&&(we[Ee]=F[Ee]);var Pe=arguments.length-2;if(Pe===1)we.children=ve;else if(1<Pe){for(var Ve=Array(Pe),Rt=0;Rt<Pe;Rt++)Ve[Rt]=arguments[Rt+2];we.children=Ve}if(O&&O.defaultProps)for(Ee in Pe=O.defaultProps,Pe)we[Ee]===void 0&&(we[Ee]=Pe[Ee]);return{$$typeof:i,type:O,key:ke,ref:Oe,props:we,_owner:Y.current}}function Se(O,F){return{$$typeof:i,type:O.type,key:F,ref:O.ref,props:O.props,_owner:O._owner}}function ye(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function Je(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ve){return F[ve]})}var Le=/\/+/g;function Me(O,F){return typeof O=="object"&&O!==null&&O.key!=null?Je(""+O.key):F.toString(36)}function ze(O,F,ve,Ee,we){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(ke){case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case i:case r:Oe=!0}}if(Oe)return Oe=O,we=we(Oe),O=Ee===""?"."+Me(Oe,0):Ee,q(we)?(ve="",O!=null&&(ve=O.replace(Le,"$&/")+"/"),ze(we,F,ve,"",function(Rt){return Rt})):we!=null&&(ye(we)&&(we=Se(we,ve+(!we.key||Oe&&Oe.key===we.key?"":(""+we.key).replace(Le,"$&/")+"/")+O)),F.push(we)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",q(O))for(var Pe=0;Pe<O.length;Pe++){ke=O[Pe];var Ve=Ee+Me(ke,Pe);Oe+=ze(ke,F,ve,Ve,we)}else if(Ve=w(O),typeof Ve=="function")for(O=Ve.call(O),Pe=0;!(ke=O.next()).done;)ke=ke.value,Ve=Ee+Me(ke,Pe++),Oe+=ze(ke,F,ve,Ve,we);else if(ke==="object")throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Oe}function nt(O,F,ve){if(O==null)return O;var Ee=[],we=0;return ze(O,Ee,"","",function(ke){return F.call(ve,ke,we++)}),Ee}function lt(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(ve){(O._status===0||O._status===-1)&&(O._status=1,O._result=ve)},function(ve){(O._status===0||O._status===-1)&&(O._status=2,O._result=ve)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var Fe={current:null},H={transition:null},de={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:H,ReactCurrentOwner:Y};function J(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:nt,forEach:function(O,F,ve){nt(O,function(){F.apply(this,arguments)},ve)},count:function(O){var F=0;return nt(O,function(){F++}),F},toArray:function(O){return nt(O,function(F){return F})||[]},only:function(O){if(!ye(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=R,be.Fragment=n,be.Profiler=a,be.PureComponent=U,be.StrictMode=o,be.Suspense=p,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,be.act=J,be.cloneElement=function(O,F,ve){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ee=b({},O.props),we=O.key,ke=O.ref,Oe=O._owner;if(F!=null){if(F.ref!==void 0&&(ke=F.ref,Oe=Y.current),F.key!==void 0&&(we=""+F.key),O.type&&O.type.defaultProps)var Pe=O.type.defaultProps;for(Ve in F)ie.call(F,Ve)&&!C.hasOwnProperty(Ve)&&(Ee[Ve]=F[Ve]===void 0&&Pe!==void 0?Pe[Ve]:F[Ve])}var Ve=arguments.length-2;if(Ve===1)Ee.children=ve;else if(1<Ve){Pe=Array(Ve);for(var Rt=0;Rt<Ve;Rt++)Pe[Rt]=arguments[Rt+2];Ee.children=Pe}return{$$typeof:i,type:O.type,key:we,ref:ke,props:Ee,_owner:Oe}},be.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},be.createElement=te,be.createFactory=function(O){var F=te.bind(null,O);return F.type=O,F},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:f,render:O}},be.isValidElement=ye,be.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:lt}},be.memo=function(O,F){return{$$typeof:g,type:O,compare:F===void 0?null:F}},be.startTransition=function(O){var F=H.transition;H.transition={};try{O()}finally{H.transition=F}},be.unstable_act=J,be.useCallback=function(O,F){return Fe.current.useCallback(O,F)},be.useContext=function(O){return Fe.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return Fe.current.useDeferredValue(O)},be.useEffect=function(O,F){return Fe.current.useEffect(O,F)},be.useId=function(){return Fe.current.useId()},be.useImperativeHandle=function(O,F,ve){return Fe.current.useImperativeHandle(O,F,ve)},be.useInsertionEffect=function(O,F){return Fe.current.useInsertionEffect(O,F)},be.useLayoutEffect=function(O,F){return Fe.current.useLayoutEffect(O,F)},be.useMemo=function(O,F){return Fe.current.useMemo(O,F)},be.useReducer=function(O,F,ve){return Fe.current.useReducer(O,F,ve)},be.useRef=function(O){return Fe.current.useRef(O)},be.useState=function(O){return Fe.current.useState(O)},be.useSyncExternalStore=function(O,F,ve){return Fe.current.useSyncExternalStore(O,F,ve)},be.useTransition=function(){return Fe.current.useTransition()},be.version="18.3.1",be}var Jh;function oc(){return Jh||(Jh=1,Su.exports=xv()),Su.exports}var Qh;function Ov(){if(Qh)return Rs;Qh=1;var i=oc(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var v,y={},w=null,_=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(_=p.ref);for(v in p)o.call(p,v)&&!u.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:r,type:f,key:w,ref:_,props:y,_owner:a.current}}return Rs.Fragment=n,Rs.jsx=c,Rs.jsxs=c,Rs}var Yh;function Pv(){return Yh||(Yh=1,_u.exports=Ov()),_u.exports}var D=Pv(),M=oc();const Cv=sc(M),jv=ic({__proto__:null,default:Cv},[M]);var na={},Eu={exports:{}},It={},ku={exports:{}},bu={};var Xh;function Av(){return Xh||(Xh=1,(function(i){function r(H,de){var J=H.length;H.push(de);e:for(;0<J;){var O=J-1>>>1,F=H[O];if(0<a(F,de))H[O]=de,H[J]=F,J=O;else break e}}function n(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var de=H[0],J=H.pop();if(J!==de){H[0]=J;e:for(var O=0,F=H.length,ve=F>>>1;O<ve;){var Ee=2*(O+1)-1,we=H[Ee],ke=Ee+1,Oe=H[ke];if(0>a(we,J))ke<F&&0>a(Oe,we)?(H[O]=Oe,H[ke]=J,O=ke):(H[O]=we,H[Ee]=J,O=Ee);else if(ke<F&&0>a(Oe,J))H[O]=Oe,H[ke]=J,O=ke;else break e}}return de}function a(H,de){var J=H.sortIndex-de.sortIndex;return J!==0?J:H.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();i.unstable_now=function(){return c.now()-f}}var p=[],g=[],v=1,y=null,w=3,_=!1,b=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(H){for(var de=n(g);de!==null;){if(de.callback===null)o(g);else if(de.startTime<=H)o(g),de.sortIndex=de.expirationTime,r(p,de);else break;de=n(g)}}function q(H){if(T=!1,L(H),!b)if(n(p)!==null)b=!0,lt(ie);else{var de=n(g);de!==null&&Fe(q,de.startTime-H)}}function ie(H,de){b=!1,T&&(T=!1,$(te),te=-1),_=!0;var J=w;try{for(L(de),y=n(p);y!==null&&(!(y.expirationTime>de)||H&&!Je());){var O=y.callback;if(typeof O=="function"){y.callback=null,w=y.priorityLevel;var F=O(y.expirationTime<=de);de=i.unstable_now(),typeof F=="function"?y.callback=F:y===n(p)&&o(p),L(de)}else o(p);y=n(p)}if(y!==null)var ve=!0;else{var Ee=n(g);Ee!==null&&Fe(q,Ee.startTime-de),ve=!1}return ve}finally{y=null,w=J,_=!1}}var Y=!1,C=null,te=-1,Se=5,ye=-1;function Je(){return!(i.unstable_now()-ye<Se)}function Le(){if(C!==null){var H=i.unstable_now();ye=H;var de=!0;try{de=C(!0,H)}finally{de?Me():(Y=!1,C=null)}}else Y=!1}var Me;if(typeof U=="function")Me=function(){U(Le)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,nt=ze.port2;ze.port1.onmessage=Le,Me=function(){nt.postMessage(null)}}else Me=function(){R(Le,0)};function lt(H){C=H,Y||(Y=!0,Me())}function Fe(H,de){te=R(function(){H(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){b||_||(b=!0,lt(ie))},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(H){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var J=w;w=de;try{return H()}finally{w=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,de){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=w;w=H;try{return de()}finally{w=J}},i.unstable_scheduleCallback=function(H,de,J){var O=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=J+F,H={id:v++,callback:de,priorityLevel:H,startTime:J,expirationTime:F,sortIndex:-1},J>O?(H.sortIndex=J,r(g,H),n(p)===null&&H===n(g)&&(T?($(te),te=-1):T=!0,Fe(q,J-O))):(H.sortIndex=F,r(p,H),b||_||(b=!0,lt(ie))),H},i.unstable_shouldYield=Je,i.unstable_wrapCallback=function(H){var de=w;return function(){var J=w;w=de;try{return H.apply(this,arguments)}finally{w=J}}}})(bu)),bu}var Zh;function Nv(){return Zh||(Zh=1,ku.exports=Av()),ku.exports}var ef;function Iv(){if(ef)return It;ef=1;var i=oc(),r=Nv();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(e){return p.call(y,e)?!0:p.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function _(e,t,s,l){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,s,l){if(t===null||typeof t>"u"||_(e,t,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,s,l,d,h,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=m}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,U);R[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,U);R[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,U);R[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,s,l){var d=R.hasOwnProperty(t)?R[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,s,d,l)&&(s=null),l||d===null?w(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,l=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,l?e.setAttributeNS(l,t,s):e.setAttribute(t,s))))}var q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),Y=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),H=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,O;function F(e){if(O===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return`
`+O+e}var ve=!1;function Ee(e,t){if(!e||ve)return"";ve=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var l=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){l=N}e.call(t.prototype)}else{try{throw Error()}catch(N){l=N}e()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var d=N.stack.split(`
`),h=l.stack.split(`
`),m=d.length-1,S=h.length-1;1<=m&&0<=S&&d[m]!==h[S];)S--;for(;1<=m&&0<=S;m--,S--)if(d[m]!==h[S]){if(m!==1||S!==1)do if(m--,S--,0>S||d[m]!==h[S]){var k=`
`+d[m].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=m&&0<=S);break}}}finally{ve=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?F(e):""}function we(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=Ee(e.type,!1),e;case 11:return e=Ee(e.type.render,!1),e;case 1:return e=Ee(e.type,!0),e;default:return""}}function ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case Y:return"Portal";case Se:return"Profiler";case te:return"StrictMode";case Me:return"Suspense";case ze:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case Le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return t=e.displayName||null,t!==null?t:ke(e.type)||"Memo";case lt:t=e._payload,e=e._init;try{return ke(e(t))}catch{}}return null}function Oe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(t);case 8:return t===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rt(e){var t=Ve(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(m){l=""+m,h.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kn(e){e._valueTracker||(e._valueTracker=Rt(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Ve(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Xt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gn(e,t){var s=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Hs(e,t){var s=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;s=Pe(t.value!=null?t.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dr(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function Mi(e,t){dr(e,t);var s=Pe(t.value),l=t.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jn(e,t.type,s):t.hasOwnProperty("defaultValue")&&Jn(e,t.type,Pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qs(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Jn(e,t,s){(t!=="number"||Xt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var gn=Array.isArray;function Ur(e,t,s,l){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Pe(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ks(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(gn(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Pe(s)}}function hr(e,t){var s=Pe(t.value),l=Pe(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function $r(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $t,Ht=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,l,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$t.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ma=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){Ma.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function Zt(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function zi(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=s.indexOf("--")===0,d=Zt(s,t[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,d):e[s]=d}}var Gs=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(e,t){if(t){if(Gs[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function Fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,pr=null,gr=null;function Js(e){if(e=ds(e)){if(typeof Xn!="function")throw Error(n(280));var t=e.stateNode;t&&(t=yo(t),Xn(e.stateNode,e.type,t))}}function Wi(e){pr?gr?gr.push(e):gr=[e]:pr=e}function Qs(){if(pr){var e=pr,t=gr;if(gr=pr=null,Js(e),t)for(e=0;e<t.length;e++)Js(t[e])}}function Hi(e,t){return e(t)}function vn(){}var Br=!1;function Ys(e,t,s){if(Br)return e(t,s);Br=!0;try{return Hi(e,t,s)}finally{Br=!1,(pr!==null||gr!==null)&&(vn(),Qs())}}function yn(e,t){var s=e.stateNode;if(s===null)return null;var l=yo(s);if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var E=!1;if(f)try{var P={};Object.defineProperty(P,"passive",{get:function(){E=!0}}),window.addEventListener("test",P,P),window.removeEventListener("test",P,P)}catch{E=!1}function I(e,t,s,l,d,h,m,S,k){var N=Array.prototype.slice.call(arguments,3);try{t.apply(s,N)}catch(V){this.onError(V)}}var B=!1,G=null,ce=!1,pe=null,re={onError:function(e){B=!0,G=e}};function se(e,t,s,l,d,h,m,S,k){B=!1,G=null,I.apply(re,arguments)}function X(e,t,s,l,d,h,m,S,k){if(se.apply(this,arguments),B){if(B){var N=G;B=!1,G=null}else throw Error(n(198));ce||(ce=!0,pe=N)}}function ee(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function _e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Te(e){if(ee(e)!==e)throw Error(n(188))}function ut(e){var t=e.alternate;if(!t){if(t=ee(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,l=t;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return Te(d),e;if(h===l)return Te(d),t;h=h.sibling}throw Error(n(188))}if(s.return!==l.return)s=d,l=h;else{for(var m=!1,S=d.child;S;){if(S===s){m=!0,s=d,l=h;break}if(S===l){m=!0,l=d,s=h;break}S=S.sibling}if(!m){for(S=h.child;S;){if(S===s){m=!0,s=h,l=d;break}if(S===l){m=!0,l=h,s=d;break}S=S.sibling}if(!m)throw Error(n(189))}}if(s.alternate!==l)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function De(e){return e=ut(e),e!==null?Ce(e):null}function Ce(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ce(e);if(t!==null)return t;e=e.sibling}return null}var qe=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,wn=r.unstable_shouldYield,er=r.unstable_requestPaint,Ae=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,kr=r.unstable_ImmediatePriority,mr=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,Zn=r.unstable_LowPriority,xe=r.unstable_IdlePriority,Be=null,mt=null;function _n(e){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Be,e,void 0,(e.current.flags&128)===128)}catch{}}var Ne=Math.clz32?Math.clz32:Fa,zr=Math.log,Xs=Math.LN2;function Fa(e){return e>>>=0,e===0?32:31-(zr(e)/Xs|0)|0}var Zs=64,eo=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function to(e,t){var s=e.pendingLanes;if(s===0)return 0;var l=0,d=e.suspendedLanes,h=e.pingedLanes,m=s&268435455;if(m!==0){var S=m&~d;S!==0?l=Ki(S):(h&=m,h!==0&&(l=Ki(h)))}else m=s&~d,m!==0?l=Ki(m):h!==0&&(l=Ki(h));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((l&4)!==0&&(l|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)s=31-Ne(t),d=1<<s,l|=e[s],t&=~d;return l}function qg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var m=31-Ne(h),S=1<<m,k=d[m];k===-1?((S&s)===0||(S&l)!==0)&&(d[m]=qg(S,t)):k<=t&&(e.expiredLanes|=S),h&=~S}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tc(){var e=Zs;return Zs<<=1,(Zs&4194240)===0&&(Zs=64),e}function za(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Gi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ne(t),e[t]=s}function Gg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-Ne(s),h=1<<d;t[d]=0,l[d]=-1,e[d]=-1,s&=~h}}function Va(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Ne(s),d=1<<l;d&t|e[l]&t&&(e[l]|=t),s&=~d}}var Ue=0;function Rc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xc,Wa,Oc,Pc,Cc,Ha=!1,ro=[],Vr=null,Wr=null,Hr=null,Ji=new Map,Qi=new Map,qr=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Yi(e,t,s,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ds(t),t!==null&&Wa(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Qg(e,t,s,l,d){switch(t){case"focusin":return Vr=Yi(Vr,e,t,s,l,d),!0;case"dragenter":return Wr=Yi(Wr,e,t,s,l,d),!0;case"mouseover":return Hr=Yi(Hr,e,t,s,l,d),!0;case"pointerover":var h=d.pointerId;return Ji.set(h,Yi(Ji.get(h)||null,e,t,s,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Qi.set(h,Yi(Qi.get(h)||null,e,t,s,l,d)),!0}return!1}function Ac(e){var t=Sn(e.target);if(t!==null){var s=ee(t);if(s!==null){if(t=s.tag,t===13){if(t=_e(s),t!==null){e.blockedOn=t,Cc(e.priority,function(){Oc(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Yn=l,s.target.dispatchEvent(l),Yn=null}else return t=ds(s),t!==null&&Wa(t),e.blockedOn=s,!1;t.shift()}return!0}function Nc(e,t,s){no(e)&&s.delete(t)}function Yg(){Ha=!1,Vr!==null&&no(Vr)&&(Vr=null),Wr!==null&&no(Wr)&&(Wr=null),Hr!==null&&no(Hr)&&(Hr=null),Ji.forEach(Nc),Qi.forEach(Nc)}function Xi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ha||(Ha=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yg)))}function Zi(e){function t(d){return Xi(d,e)}if(0<ro.length){Xi(ro[0],e);for(var s=1;s<ro.length;s++){var l=ro[s];l.blockedOn===e&&(l.blockedOn=null)}}for(Vr!==null&&Xi(Vr,e),Wr!==null&&Xi(Wr,e),Hr!==null&&Xi(Hr,e),Ji.forEach(t),Qi.forEach(t),s=0;s<qr.length;s++)l=qr[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)Ac(s),s.blockedOn===null&&qr.shift()}var ei=q.ReactCurrentBatchConfig,io=!0;function Xg(e,t,s,l){var d=Ue,h=ei.transition;ei.transition=null;try{Ue=1,qa(e,t,s,l)}finally{Ue=d,ei.transition=h}}function Zg(e,t,s,l){var d=Ue,h=ei.transition;ei.transition=null;try{Ue=4,qa(e,t,s,l)}finally{Ue=d,ei.transition=h}}function qa(e,t,s,l){if(io){var d=Ka(e,t,s,l);if(d===null)cl(e,t,l,so,s),jc(e,l);else if(Qg(d,e,t,s,l))l.stopPropagation();else if(jc(e,l),t&4&&-1<Jg.indexOf(e)){for(;d!==null;){var h=ds(d);if(h!==null&&xc(h),h=Ka(e,t,s,l),h===null&&cl(e,t,l,so,s),h===d)break;d=h}d!==null&&l.stopPropagation()}else cl(e,t,l,null,s)}}var so=null;function Ka(e,t,s,l){if(so=null,e=Fr(l),e=Sn(e),e!==null)if(t=ee(e),t===null)e=null;else if(s=t.tag,s===13){if(e=_e(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return so=e,null}function Ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qi()){case kr:return 1;case mr:return 4;case br:case Zn:return 16;case xe:return 536870912;default:return 16}default:return 16}}var Kr=null,Ga=null,oo=null;function Lc(){if(oo)return oo;var e,t=Ga,s=t.length,l,d="value"in Kr?Kr.value:Kr.textContent,h=d.length;for(e=0;e<s&&t[e]===d[e];e++);var m=s-e;for(l=1;l<=m&&t[s-l]===d[h-l];l++);return oo=d.slice(e,1<l?1-l:void 0)}function ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lo(){return!0}function Dc(){return!1}function Mt(e){function t(s,l,d,h,m){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?lo:Dc,this.isPropagationStopped=Dc,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),t}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Mt(ti),es=J({},ti,{view:0,detail:0}),em=Mt(es),Qa,Ya,ts,uo=J({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(Qa=e.screenX-ts.screenX,Ya=e.screenY-ts.screenY):Ya=Qa=0,ts=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),Uc=Mt(uo),tm=J({},uo,{dataTransfer:0}),rm=Mt(tm),nm=J({},es,{relatedTarget:0}),Xa=Mt(nm),im=J({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),sm=Mt(im),om=J({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),am=Mt(om),lm=J({},ti,{data:0}),$c=Mt(lm),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dm[e])?!!t[e]:!1}function Za(){return hm}var fm=J({},es,{key:function(e){if(e.key){var t=um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(e){return e.type==="keypress"?ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pm=Mt(fm),gm=J({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=Mt(gm),mm=J({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),vm=Mt(mm),ym=J({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),wm=Mt(ym),_m=J({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=Mt(_m),Em=[9,13,27,32],el=f&&"CompositionEvent"in window,rs=null;f&&"documentMode"in document&&(rs=document.documentMode);var km=f&&"TextEvent"in window&&!rs,Fc=f&&(!el||rs&&8<rs&&11>=rs),Bc=" ",zc=!1;function Vc(e,t){switch(e){case"keyup":return Em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ri=!1;function bm(e,t){switch(e){case"compositionend":return Wc(t);case"keypress":return t.which!==32?null:(zc=!0,Bc);case"textInput":return e=t.data,e===Bc&&zc?null:e;default:return null}}function Tm(e,t){if(ri)return e==="compositionend"||!el&&Vc(e,t)?(e=Lc(),oo=Ga=Kr=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fc&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function qc(e,t,s,l){Wi(l),t=go(t,"onChange"),0<t.length&&(s=new Ja("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var ns=null,is=null;function xm(e){cd(e,0)}function co(e){var t=ai(e);if(ht(t))return e}function Om(e,t){if(e==="change")return t}var Kc=!1;if(f){var tl;if(f){var rl="oninput"in document;if(!rl){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),rl=typeof Gc.oninput=="function"}tl=rl}else tl=!1;Kc=tl&&(!document.documentMode||9<document.documentMode)}function Jc(){ns&&(ns.detachEvent("onpropertychange",Qc),is=ns=null)}function Qc(e){if(e.propertyName==="value"&&co(is)){var t=[];qc(t,is,e,Fr(e)),Ys(xm,t)}}function Pm(e,t,s){e==="focusin"?(Jc(),ns=t,is=s,ns.attachEvent("onpropertychange",Qc)):e==="focusout"&&Jc()}function Cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(is)}function jm(e,t){if(e==="click")return co(t)}function Am(e,t){if(e==="input"||e==="change")return co(t)}function Nm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:Nm;function ss(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!p.call(t,d)||!tr(e[d],t[d]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,t){var s=Yc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yc(s)}}function Zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(){for(var e=window,t=Xt();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Xt(e.document)}return t}function nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Im(e){var t=ed(),s=e.focusedElem,l=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Zc(s.ownerDocument.documentElement,s)){if(l!==null&&nl(s)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!e.extend&&h>l&&(d=l,l=h,h=d),d=Xc(s,h);var m=Xc(s,l);d&&m&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>l?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lm=f&&"documentMode"in document&&11>=document.documentMode,ni=null,il=null,os=null,sl=!1;function td(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;sl||ni==null||ni!==Xt(l)||(l=ni,"selectionStart"in l&&nl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),os&&ss(os,l)||(os=l,l=go(il,"onSelect"),0<l.length&&(t=new Ja("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=ni)))}function ho(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ii={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},ol={},rd={};f&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function fo(e){if(ol[e])return ol[e];if(!ii[e])return e;var t=ii[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in rd)return ol[e]=t[s];return e}var nd=fo("animationend"),id=fo("animationiteration"),sd=fo("animationstart"),od=fo("transitionend"),ad=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){ad.set(e,t),u(t,[e])}for(var al=0;al<ld.length;al++){var ll=ld[al],Dm=ll.toLowerCase(),Um=ll[0].toUpperCase()+ll.slice(1);Gr(Dm,"on"+Um)}Gr(nd,"onAnimationEnd"),Gr(id,"onAnimationIteration"),Gr(sd,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(od,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function ud(e,t,s){var l=e.type||"unknown-event";e.currentTarget=s,X(l,t,void 0,e),e.currentTarget=null}function cd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var m=l.length-1;0<=m;m--){var S=l[m],k=S.instance,N=S.currentTarget;if(S=S.listener,k!==h&&d.isPropagationStopped())break e;ud(d,S,N),h=k}else for(m=0;m<l.length;m++){if(S=l[m],k=S.instance,N=S.currentTarget,S=S.listener,k!==h&&d.isPropagationStopped())break e;ud(d,S,N),h=k}}}if(ce)throw e=pe,ce=!1,pe=null,e}function Ke(e,t){var s=t[ml];s===void 0&&(s=t[ml]=new Set);var l=e+"__bubble";s.has(l)||(dd(t,e,2,!1),s.add(l))}function ul(e,t,s){var l=0;t&&(l|=4),dd(s,e,l,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[po]){e[po]=!0,o.forEach(function(s){s!=="selectionchange"&&($m.has(s)||ul(s,!1,e),ul(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,ul("selectionchange",!1,t))}}function dd(e,t,s,l){switch(Ic(t)){case 1:var d=Xg;break;case 4:d=Zg;break;default:d=qa}s=d.bind(null,t,s,e),d=void 0,!E||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function cl(e,t,s,l,d){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(m===4)for(m=l.return;m!==null;){var k=m.tag;if((k===3||k===4)&&(k=m.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;m=m.return}for(;S!==null;){if(m=Sn(S),m===null)return;if(k=m.tag,k===5||k===6){l=h=m;continue e}S=S.parentNode}}l=l.return}Ys(function(){var N=h,V=Fr(s),W=[];e:{var z=ad.get(e);if(z!==void 0){var Q=Ja,ne=e;switch(e){case"keypress":if(ao(s)===0)break e;case"keydown":case"keyup":Q=pm;break;case"focusin":ne="focus",Q=Xa;break;case"focusout":ne="blur",Q=Xa;break;case"beforeblur":case"afterblur":Q=Xa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=vm;break;case nd:case id:case sd:Q=sm;break;case od:Q=wm;break;case"scroll":Q=em;break;case"wheel":Q=Sm;break;case"copy":case"cut":case"paste":Q=am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Mc}var oe=(t&4)!==0,rt=!oe&&e==="scroll",j=oe?z!==null?z+"Capture":null:z;oe=[];for(var x=N,A;x!==null;){A=x;var K=A.stateNode;if(A.tag===5&&K!==null&&(A=K,j!==null&&(K=yn(x,j),K!=null&&oe.push(us(x,K,A)))),rt)break;x=x.return}0<oe.length&&(z=new Q(z,ne,null,s,V),W.push({event:z,listeners:oe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",z&&s!==Yn&&(ne=s.relatedTarget||s.fromElement)&&(Sn(ne)||ne[Tr]))break e;if((Q||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,Q?(ne=s.relatedTarget||s.toElement,Q=N,ne=ne?Sn(ne):null,ne!==null&&(rt=ee(ne),ne!==rt||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Q=null,ne=N),Q!==ne)){if(oe=Uc,K="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Mc,K="onPointerLeave",j="onPointerEnter",x="pointer"),rt=Q==null?z:ai(Q),A=ne==null?z:ai(ne),z=new oe(K,x+"leave",Q,s,V),z.target=rt,z.relatedTarget=A,K=null,Sn(V)===N&&(oe=new oe(j,x+"enter",ne,s,V),oe.target=A,oe.relatedTarget=rt,K=oe),rt=K,Q&&ne)t:{for(oe=Q,j=ne,x=0,A=oe;A;A=si(A))x++;for(A=0,K=j;K;K=si(K))A++;for(;0<x-A;)oe=si(oe),x--;for(;0<A-x;)j=si(j),A--;for(;x--;){if(oe===j||j!==null&&oe===j.alternate)break t;oe=si(oe),j=si(j)}oe=null}else oe=null;Q!==null&&hd(W,z,Q,oe,!1),ne!==null&&rt!==null&&hd(W,rt,ne,oe,!0)}}e:{if(z=N?ai(N):window,Q=z.nodeName&&z.nodeName.toLowerCase(),Q==="select"||Q==="input"&&z.type==="file")var le=Om;else if(Hc(z))if(Kc)le=Am;else{le=Cm;var he=Pm}else(Q=z.nodeName)&&Q.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(le=jm);if(le&&(le=le(e,N))){qc(W,le,s,V);break e}he&&he(e,z,N),e==="focusout"&&(he=z._wrapperState)&&he.controlled&&z.type==="number"&&Jn(z,"number",z.value)}switch(he=N?ai(N):window,e){case"focusin":(Hc(he)||he.contentEditable==="true")&&(ni=he,il=N,os=null);break;case"focusout":os=il=ni=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,td(W,s,V);break;case"selectionchange":if(Lm)break;case"keydown":case"keyup":td(W,s,V)}var fe;if(el)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ri?Vc(e,s)&&(me="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(Fc&&s.locale!=="ko"&&(ri||me!=="onCompositionStart"?me==="onCompositionEnd"&&ri&&(fe=Lc()):(Kr=V,Ga="value"in Kr?Kr.value:Kr.textContent,ri=!0)),he=go(N,me),0<he.length&&(me=new $c(me,e,null,s,V),W.push({event:me,listeners:he}),fe?me.data=fe:(fe=Wc(s),fe!==null&&(me.data=fe)))),(fe=km?bm(e,s):Tm(e,s))&&(N=go(N,"onBeforeInput"),0<N.length&&(V=new $c("onBeforeInput","beforeinput",null,s,V),W.push({event:V,listeners:N}),V.data=fe))}cd(W,t)})}function us(e,t,s){return{instance:e,listener:t,currentTarget:s}}function go(e,t){for(var s=t+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=yn(e,s),h!=null&&l.unshift(us(e,h,d)),h=yn(e,t),h!=null&&l.push(us(e,h,d))),e=e.return}return l}function si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,t,s,l,d){for(var h=t._reactName,m=[];s!==null&&s!==l;){var S=s,k=S.alternate,N=S.stateNode;if(k!==null&&k===l)break;S.tag===5&&N!==null&&(S=N,d?(k=yn(s,h),k!=null&&m.unshift(us(s,k,S))):d||(k=yn(s,h),k!=null&&m.push(us(s,k,S)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Mm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Mm,`
`).replace(Fm,"")}function mo(e,t,s){if(t=fd(t),fd(e)!==t&&s)throw Error(n(425))}function vo(){}var dl=null,hl=null;function fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(Vm)}:pl;function Vm(e){setTimeout(function(){throw e})}function gl(e,t){var s=t,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(l===0){e.removeChild(d),Zi(t);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=d}while(s);Zi(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),vr="__reactFiber$"+oi,cs="__reactProps$"+oi,Tr="__reactContainer$"+oi,ml="__reactEvents$"+oi,Wm="__reactListeners$"+oi,Hm="__reactHandles$"+oi;function Sn(e){var t=e[vr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Tr]||s[vr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=gd(e);e!==null;){if(s=e[vr])return s;e=gd(e)}return t}e=s,s=e.parentNode}return null}function ds(e){return e=e[vr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function yo(e){return e[cs]||null}var vl=[],li=-1;function Qr(e){return{current:e}}function Ge(e){0>li||(e.current=vl[li],vl[li]=null,li--)}function We(e,t){li++,vl[li]=e.current,e.current=t}var Yr={},St=Qr(Yr),Pt=Qr(!1),En=Yr;function ui(e,t){var s=e.type.contextTypes;if(!s)return Yr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in s)d[h]=t[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(e){return e=e.childContextTypes,e!=null}function wo(){Ge(Pt),Ge(St)}function md(e,t,s){if(St.current!==Yr)throw Error(n(168));We(St,t),We(Pt,s)}function vd(e,t,s){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(n(108,Oe(e)||"Unknown",d));return J({},s,l)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,En=St.current,We(St,e),We(Pt,Pt.current),!0}function yd(e,t,s){var l=e.stateNode;if(!l)throw Error(n(169));s?(e=vd(e,t,En),l.__reactInternalMemoizedMergedChildContext=e,Ge(Pt),Ge(St),We(St,e)):Ge(Pt),We(Pt,s)}var Rr=null,So=!1,yl=!1;function wd(e){Rr===null?Rr=[e]:Rr.push(e)}function qm(e){So=!0,wd(e)}function Xr(){if(!yl&&Rr!==null){yl=!0;var e=0,t=Ue;try{var s=Rr;for(Ue=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Rr=null,So=!1}catch(d){throw Rr!==null&&(Rr=Rr.slice(e+1)),qe(kr,Xr),d}finally{Ue=t,yl=!1}}return null}var ci=[],di=0,Eo=null,ko=0,qt=[],Kt=0,kn=null,xr=1,Or="";function bn(e,t){ci[di++]=ko,ci[di++]=Eo,Eo=e,ko=t}function _d(e,t,s){qt[Kt++]=xr,qt[Kt++]=Or,qt[Kt++]=kn,kn=e;var l=xr;e=Or;var d=32-Ne(l)-1;l&=~(1<<d),s+=1;var h=32-Ne(t)+d;if(30<h){var m=d-d%5;h=(l&(1<<m)-1).toString(32),l>>=m,d-=m,xr=1<<32-Ne(t)+d|s<<d|l,Or=h+e}else xr=1<<h|s<<d|l,Or=e}function wl(e){e.return!==null&&(bn(e,1),_d(e,1,0))}function _l(e){for(;e===Eo;)Eo=ci[--di],ci[di]=null,ko=ci[--di],ci[di]=null;for(;e===kn;)kn=qt[--Kt],qt[Kt]=null,Or=qt[--Kt],qt[Kt]=null,xr=qt[--Kt],qt[Kt]=null}var Ft=null,Bt=null,Qe=!1,rr=null;function Sd(e,t){var s=Yt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ed(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Bt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=kn!==null?{id:xr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Yt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ft=e,Bt=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function El(e){if(Qe){var t=Bt;if(t){var s=t;if(!Ed(e,t)){if(Sl(e))throw Error(n(418));t=Jr(s.nextSibling);var l=Ft;t&&Ed(e,t)?Sd(l,s):(e.flags=e.flags&-4097|2,Qe=!1,Ft=e)}}else{if(Sl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Qe=!1,Ft=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function bo(e){if(e!==Ft)return!1;if(!Qe)return kd(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fl(e.type,e.memoizedProps)),t&&(t=Bt)){if(Sl(e))throw bd(),Error(n(418));for(;t;)Sd(e,t),t=Jr(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Bt=Jr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Ft?Jr(e.stateNode.nextSibling):null;return!0}function bd(){for(var e=Bt;e;)e=Jr(e.nextSibling)}function hi(){Bt=Ft=null,Qe=!1}function kl(e){rr===null?rr=[e]:rr.push(e)}var Km=q.ReactCurrentBatchConfig;function hs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var l=s.stateNode}if(!l)throw Error(n(147,e));var d=l,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(m){var S=d.refs;m===null?delete S[h]:S[h]=m},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function To(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Td(e){var t=e._init;return t(e._payload)}function Rd(e){function t(j,x){if(e){var A=j.deletions;A===null?(j.deletions=[x],j.flags|=16):A.push(x)}}function s(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function l(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function d(j,x){return j=an(j,x),j.index=0,j.sibling=null,j}function h(j,x,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<x?(j.flags|=2,x):A):(j.flags|=2,x)):(j.flags|=1048576,x)}function m(j){return e&&j.alternate===null&&(j.flags|=2),j}function S(j,x,A,K){return x===null||x.tag!==6?(x=pu(A,j.mode,K),x.return=j,x):(x=d(x,A),x.return=j,x)}function k(j,x,A,K){var le=A.type;return le===C?V(j,x,A.props.children,K,A.key):x!==null&&(x.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===lt&&Td(le)===x.type)?(K=d(x,A.props),K.ref=hs(j,x,A),K.return=j,K):(K=Jo(A.type,A.key,A.props,null,j.mode,K),K.ref=hs(j,x,A),K.return=j,K)}function N(j,x,A,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=gu(A,j.mode,K),x.return=j,x):(x=d(x,A.children||[]),x.return=j,x)}function V(j,x,A,K,le){return x===null||x.tag!==7?(x=An(A,j.mode,K,le),x.return=j,x):(x=d(x,A),x.return=j,x)}function W(j,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pu(""+x,j.mode,A),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ie:return A=Jo(x.type,x.key,x.props,null,j.mode,A),A.ref=hs(j,null,x),A.return=j,A;case Y:return x=gu(x,j.mode,A),x.return=j,x;case lt:var K=x._init;return W(j,K(x._payload),A)}if(gn(x)||de(x))return x=An(x,j.mode,A,null),x.return=j,x;To(j,x)}return null}function z(j,x,A,K){var le=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return le!==null?null:S(j,x,""+A,K);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ie:return A.key===le?k(j,x,A,K):null;case Y:return A.key===le?N(j,x,A,K):null;case lt:return le=A._init,z(j,x,le(A._payload),K)}if(gn(A)||de(A))return le!==null?null:V(j,x,A,K,null);To(j,A)}return null}function Q(j,x,A,K,le){if(typeof K=="string"&&K!==""||typeof K=="number")return j=j.get(A)||null,S(x,j,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ie:return j=j.get(K.key===null?A:K.key)||null,k(x,j,K,le);case Y:return j=j.get(K.key===null?A:K.key)||null,N(x,j,K,le);case lt:var he=K._init;return Q(j,x,A,he(K._payload),le)}if(gn(K)||de(K))return j=j.get(A)||null,V(x,j,K,le,null);To(x,K)}return null}function ne(j,x,A,K){for(var le=null,he=null,fe=x,me=x=0,gt=null;fe!==null&&me<A.length;me++){fe.index>me?(gt=fe,fe=null):gt=fe.sibling;var Ie=z(j,fe,A[me],K);if(Ie===null){fe===null&&(fe=gt);break}e&&fe&&Ie.alternate===null&&t(j,fe),x=h(Ie,x,me),he===null?le=Ie:he.sibling=Ie,he=Ie,fe=gt}if(me===A.length)return s(j,fe),Qe&&bn(j,me),le;if(fe===null){for(;me<A.length;me++)fe=W(j,A[me],K),fe!==null&&(x=h(fe,x,me),he===null?le=fe:he.sibling=fe,he=fe);return Qe&&bn(j,me),le}for(fe=l(j,fe);me<A.length;me++)gt=Q(fe,j,me,A[me],K),gt!==null&&(e&&gt.alternate!==null&&fe.delete(gt.key===null?me:gt.key),x=h(gt,x,me),he===null?le=gt:he.sibling=gt,he=gt);return e&&fe.forEach(function(ln){return t(j,ln)}),Qe&&bn(j,me),le}function oe(j,x,A,K){var le=de(A);if(typeof le!="function")throw Error(n(150));if(A=le.call(A),A==null)throw Error(n(151));for(var he=le=null,fe=x,me=x=0,gt=null,Ie=A.next();fe!==null&&!Ie.done;me++,Ie=A.next()){fe.index>me?(gt=fe,fe=null):gt=fe.sibling;var ln=z(j,fe,Ie.value,K);if(ln===null){fe===null&&(fe=gt);break}e&&fe&&ln.alternate===null&&t(j,fe),x=h(ln,x,me),he===null?le=ln:he.sibling=ln,he=ln,fe=gt}if(Ie.done)return s(j,fe),Qe&&bn(j,me),le;if(fe===null){for(;!Ie.done;me++,Ie=A.next())Ie=W(j,Ie.value,K),Ie!==null&&(x=h(Ie,x,me),he===null?le=Ie:he.sibling=Ie,he=Ie);return Qe&&bn(j,me),le}for(fe=l(j,fe);!Ie.done;me++,Ie=A.next())Ie=Q(fe,j,me,Ie.value,K),Ie!==null&&(e&&Ie.alternate!==null&&fe.delete(Ie.key===null?me:Ie.key),x=h(Ie,x,me),he===null?le=Ie:he.sibling=Ie,he=Ie);return e&&fe.forEach(function(Rv){return t(j,Rv)}),Qe&&bn(j,me),le}function rt(j,x,A,K){if(typeof A=="object"&&A!==null&&A.type===C&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ie:e:{for(var le=A.key,he=x;he!==null;){if(he.key===le){if(le=A.type,le===C){if(he.tag===7){s(j,he.sibling),x=d(he,A.props.children),x.return=j,j=x;break e}}else if(he.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===lt&&Td(le)===he.type){s(j,he.sibling),x=d(he,A.props),x.ref=hs(j,he,A),x.return=j,j=x;break e}s(j,he);break}else t(j,he);he=he.sibling}A.type===C?(x=An(A.props.children,j.mode,K,A.key),x.return=j,j=x):(K=Jo(A.type,A.key,A.props,null,j.mode,K),K.ref=hs(j,x,A),K.return=j,j=K)}return m(j);case Y:e:{for(he=A.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){s(j,x.sibling),x=d(x,A.children||[]),x.return=j,j=x;break e}else{s(j,x);break}else t(j,x);x=x.sibling}x=gu(A,j.mode,K),x.return=j,j=x}return m(j);case lt:return he=A._init,rt(j,x,he(A._payload),K)}if(gn(A))return ne(j,x,A,K);if(de(A))return oe(j,x,A,K);To(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(s(j,x.sibling),x=d(x,A),x.return=j,j=x):(s(j,x),x=pu(A,j.mode,K),x.return=j,j=x),m(j)):s(j,x)}return rt}var fi=Rd(!0),xd=Rd(!1),Ro=Qr(null),xo=null,pi=null,bl=null;function Tl(){bl=pi=xo=null}function Rl(e){var t=Ro.current;Ge(Ro),e._currentValue=t}function xl(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function gi(e,t){xo=e,bl=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(jt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(bl!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(xo===null)throw Error(n(308));pi=e,xo.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var Tn=null;function Ol(e){Tn===null?Tn=[e]:Tn.push(e)}function Od(e,t,s,l){var d=t.interleaved;return d===null?(s.next=s,Ol(t)):(s.next=d.next,d.next=s),t.interleaved=s,Pr(e,l)}function Pr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Zr=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,Pr(e,s)}return d=l.interleaved,d===null?(t.next=t,Ol(l)):(t.next=d.next,d.next=t),l.interleaved=t,Pr(e,s)}function Oo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Va(e,s)}}function Cd(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?d=h=m:h=h.next=m,s=s.next}while(s!==null);h===null?d=h=t:h=h.next=t}else d=h=t;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Po(e,t,s,l){var d=e.updateQueue;Zr=!1;var h=d.firstBaseUpdate,m=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,N=k.next;k.next=null,m===null?h=N:m.next=N,m=k;var V=e.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==m&&(S===null?V.firstBaseUpdate=N:S.next=N,V.lastBaseUpdate=k))}if(h!==null){var W=d.baseState;m=0,V=N=k=null,S=h;do{var z=S.lane,Q=S.eventTime;if((l&z)===z){V!==null&&(V=V.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ne=e,oe=S;switch(z=t,Q=s,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){W=ne.call(Q,W,z);break e}W=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,z=typeof ne=="function"?ne.call(Q,W,z):ne,z==null)break e;W=J({},W,z);break e;case 2:Zr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,z=d.effects,z===null?d.effects=[S]:z.push(S))}else Q={eventTime:Q,lane:z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(N=V=Q,k=W):V=V.next=Q,m|=z;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;z=S,S=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);if(V===null&&(k=W),d.baseState=k,d.firstBaseUpdate=N,d.lastBaseUpdate=V,t=d.shared.interleaved,t!==null){d=t;do m|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);On|=m,e.lanes=m,e.memoizedState=W}}function jd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=s,typeof d!="function")throw Error(n(191,d));d.call(l)}}}var fs={},yr=Qr(fs),ps=Qr(fs),gs=Qr(fs);function Rn(e){if(e===fs)throw Error(n(174));return e}function Cl(e,t){switch(We(gs,t),We(ps,e),We(yr,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mn(t,e)}Ge(yr),We(yr,t)}function mi(){Ge(yr),Ge(ps),Ge(gs)}function Ad(e){Rn(gs.current);var t=Rn(yr.current),s=mn(t,e.type);t!==s&&(We(ps,e),We(yr,s))}function jl(e){ps.current===e&&(Ge(yr),Ge(ps))}var Ze=Qr(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function Nl(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var jo=q.ReactCurrentDispatcher,Il=q.ReactCurrentBatchConfig,xn=0,et=null,ct=null,ft=null,Ao=!1,ms=!1,vs=0,Gm=0;function Et(){throw Error(n(321))}function Ll(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!tr(e[s],t[s]))return!1;return!0}function Dl(e,t,s,l,d,h){if(xn=h,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?Xm:Zm,e=s(l,d),ms){h=0;do{if(ms=!1,vs=0,25<=h)throw Error(n(301));h+=1,ft=ct=null,t.updateQueue=null,jo.current=ev,e=s(l,d)}while(ms)}if(jo.current=Lo,t=ct!==null&&ct.next!==null,xn=0,ft=ct=et=null,Ao=!1,t)throw Error(n(300));return e}function Ul(){var e=vs!==0;return vs=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?et.memoizedState=ft=e:ft=ft.next=e,ft}function Jt(){if(ct===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?et.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(n(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?et.memoizedState=ft=e:ft=ft.next=e}return ft}function ys(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Jt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var l=ct,d=l.baseQueue,h=s.pending;if(h!==null){if(d!==null){var m=d.next;d.next=h.next,h.next=m}l.baseQueue=d=h,s.pending=null}if(d!==null){h=d.next,l=l.baseState;var S=m=null,k=null,N=h;do{var V=N.lane;if((xn&V)===V)k!==null&&(k=k.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:e(l,N.action);else{var W={lane:V,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};k===null?(S=k=W,m=l):k=k.next=W,et.lanes|=V,On|=V}N=N.next}while(N!==null&&N!==h);k===null?m=l:k.next=S,tr(l,t.memoizedState)||(jt=!0),t.memoizedState=l,t.baseState=m,t.baseQueue=k,s.lastRenderedState=l}if(e=s.interleaved,e!==null){d=e;do h=d.lane,et.lanes|=h,On|=h,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ml(e){var t=Jt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,h=t.memoizedState;if(d!==null){s.pending=null;var m=d=d.next;do h=e(h,m.action),m=m.next;while(m!==d);tr(h,t.memoizedState)||(jt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,l]}function Nd(){}function Id(e,t){var s=et,l=Jt(),d=t(),h=!tr(l.memoizedState,d);if(h&&(l.memoizedState=d,jt=!0),l=l.queue,Fl(Ud.bind(null,s,l,e),[e]),l.getSnapshot!==t||h||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,ws(9,Dd.bind(null,s,l,d,t),void 0,null),pt===null)throw Error(n(349));(xn&30)!==0||Ld(s,t,d)}return d}function Ld(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Dd(e,t,s,l){t.value=s,t.getSnapshot=l,$d(t)&&Md(e)}function Ud(e,t,s){return s(function(){$d(t)&&Md(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!tr(e,s)}catch{return!0}}function Md(e){var t=Pr(e,1);t!==null&&or(t,e,1,-1)}function Fd(e){var t=wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Ym.bind(null,et,e),[t.memoizedState,e]}function ws(e,t,s,l){return e={tag:e,create:t,destroy:s,deps:l,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e)),e}function Bd(){return Jt().memoizedState}function No(e,t,s,l){var d=wr();et.flags|=e,d.memoizedState=ws(1|t,s,void 0,l===void 0?null:l)}function Io(e,t,s,l){var d=Jt();l=l===void 0?null:l;var h=void 0;if(ct!==null){var m=ct.memoizedState;if(h=m.destroy,l!==null&&Ll(l,m.deps)){d.memoizedState=ws(t,s,h,l);return}}et.flags|=e,d.memoizedState=ws(1|t,s,h,l)}function zd(e,t){return No(8390656,8,e,t)}function Fl(e,t){return Io(2048,8,e,t)}function Vd(e,t){return Io(4,2,e,t)}function Wd(e,t){return Io(4,4,e,t)}function Hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,s){return s=s!=null?s.concat([e]):null,Io(4,4,Hd.bind(null,t,e),s)}function Bl(){}function Kd(e,t){var s=Jt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&Ll(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function Gd(e,t){var s=Jt();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&Ll(t,l[1])?l[0]:(e=e(),s.memoizedState=[e,t],e)}function Jd(e,t,s){return(xn&21)===0?(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=s):(tr(s,t)||(s=Tc(),et.lanes|=s,On|=s,e.baseState=!0),t)}function Jm(e,t){var s=Ue;Ue=s!==0&&4>s?s:4,e(!0);var l=Il.transition;Il.transition={};try{e(!1),t()}finally{Ue=s,Il.transition=l}}function Qd(){return Jt().memoizedState}function Qm(e,t,s){var l=sn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Yd(e))Xd(t,s);else if(s=Od(e,t,s,l),s!==null){var d=Ot();or(s,e,l,d),Zd(s,t,l)}}function Ym(e,t,s){var l=sn(e),d={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Xd(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var m=t.lastRenderedState,S=h(m,s);if(d.hasEagerState=!0,d.eagerState=S,tr(S,m)){var k=t.interleaved;k===null?(d.next=d,Ol(t)):(d.next=k.next,k.next=d),t.interleaved=d;return}}catch{}finally{}s=Od(e,t,d,l),s!==null&&(d=Ot(),or(s,e,l,d),Zd(s,t,l))}}function Yd(e){var t=e.alternate;return e===et||t!==null&&t===et}function Xd(e,t){ms=Ao=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Zd(e,t,s){if((s&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Va(e,s)}}var Lo={readContext:Gt,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Xm={readContext:Gt,useCallback:function(e,t){return wr().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:zd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,No(4194308,4,Hd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var s=wr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var l=wr();return t=s!==void 0?s(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Qm.bind(null,et,e),[l.memoizedState,e]},useRef:function(e){var t=wr();return e={current:e},t.memoizedState=e},useState:Fd,useDebugValue:Bl,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=Fd(!1),t=e[0];return e=Jm.bind(null,e[1]),wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var l=et,d=wr();if(Qe){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),pt===null)throw Error(n(349));(xn&30)!==0||Ld(l,t,s)}d.memoizedState=s;var h={value:s,getSnapshot:t};return d.queue=h,zd(Ud.bind(null,l,h,e),[e]),l.flags|=2048,ws(9,Dd.bind(null,l,h,s,t),void 0,null),s},useId:function(){var e=wr(),t=pt.identifierPrefix;if(Qe){var s=Or,l=xr;s=(l&~(1<<32-Ne(l)-1)).toString(32)+s,t=":"+t+"R"+s,s=vs++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Gm++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zm={readContext:Gt,useCallback:Kd,useContext:Gt,useEffect:Fl,useImperativeHandle:qd,useInsertionEffect:Vd,useLayoutEffect:Wd,useMemo:Gd,useReducer:$l,useRef:Bd,useState:function(){return $l(ys)},useDebugValue:Bl,useDeferredValue:function(e){var t=Jt();return Jd(t,ct.memoizedState,e)},useTransition:function(){var e=$l(ys)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Nd,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1},ev={readContext:Gt,useCallback:Kd,useContext:Gt,useEffect:Fl,useImperativeHandle:qd,useInsertionEffect:Vd,useLayoutEffect:Wd,useMemo:Gd,useReducer:Ml,useRef:Bd,useState:function(){return Ml(ys)},useDebugValue:Bl,useDeferredValue:function(e){var t=Jt();return ct===null?t.memoizedState=e:Jd(t,ct.memoizedState,e)},useTransition:function(){var e=Ml(ys)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Nd,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function zl(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:J({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Do={isMounted:function(e){return(e=e._reactInternals)?ee(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Ot(),d=sn(e),h=Cr(l,d);h.payload=t,s!=null&&(h.callback=s),t=en(e,h,d),t!==null&&(or(t,e,d,l),Oo(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Ot(),d=sn(e),h=Cr(l,d);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=en(e,h,d),t!==null&&(or(t,e,d,l),Oo(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ot(),l=sn(e),d=Cr(s,l);d.tag=2,t!=null&&(d.callback=t),t=en(e,d,l),t!==null&&(or(t,e,l,s),Oo(t,e,l))}};function eh(e,t,s,l,d,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,m):t.prototype&&t.prototype.isPureReactComponent?!ss(s,l)||!ss(d,h):!0}function th(e,t,s){var l=!1,d=Yr,h=t.contextType;return typeof h=="object"&&h!==null?h=Gt(h):(d=Ct(t)?En:St.current,l=t.contextTypes,h=(l=l!=null)?ui(e,d):Yr),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function rh(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Vl(e,t,s,l){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Pl(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=Gt(h):(h=Ct(t)?En:St.current,d.context=ui(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(zl(e,t,h,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Do.enqueueReplaceState(d,d.state,null),Po(e,s,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var s="",l=t;do s+=we(l),l=l.return;while(l);var d=s}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function Wl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Hl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var tv=typeof WeakMap=="function"?WeakMap:Map;function nh(e,t,s){s=Cr(-1,s),s.tag=3,s.payload={element:null};var l=t.value;return s.callback=function(){Vo||(Vo=!0,ou=l),Hl(e,t)},s}function ih(e,t,s){s=Cr(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;s.payload=function(){return l(d)},s.callback=function(){Hl(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Hl(e,t),typeof l!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function sh(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new tv;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(s)||(d.add(s),e=gv.bind(null,e,t,s),t.then(e,e))}function oh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,s,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Cr(-1,1),t.tag=2,en(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var rv=q.ReactCurrentOwner,jt=!1;function xt(e,t,s,l){t.child=e===null?xd(t,null,s,l):fi(t,e.child,s,l)}function lh(e,t,s,l,d){s=s.render;var h=t.ref;return gi(t,d),l=Dl(e,t,s,l,h,d),s=Ul(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,jr(e,t,d)):(Qe&&s&&wl(t),t.flags|=1,xt(e,t,l,d),t.child)}function uh(e,t,s,l,d){if(e===null){var h=s.type;return typeof h=="function"&&!fu(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,ch(e,t,h,l,d)):(e=Jo(s.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var m=h.memoizedProps;if(s=s.compare,s=s!==null?s:ss,s(m,l)&&e.ref===t.ref)return jr(e,t,d)}return t.flags|=1,e=an(h,l),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,s,l,d){if(e!==null){var h=e.memoizedProps;if(ss(h,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,jr(e,t,d)}return ql(e,t,s,l,d)}function dh(e,t,s){var l=t.pendingProps,d=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(wi,zt),zt|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(wi,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:s,We(wi,zt),zt|=l}else h!==null?(l=h.baseLanes|s,t.memoizedState=null):l=s,We(wi,zt),zt|=l;return xt(e,t,d,s),t.child}function hh(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ql(e,t,s,l,d){var h=Ct(s)?En:St.current;return h=ui(t,h),gi(t,d),s=Dl(e,t,s,l,h,d),l=Ul(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,jr(e,t,d)):(Qe&&l&&wl(t),t.flags|=1,xt(e,t,s,d),t.child)}function fh(e,t,s,l,d){if(Ct(s)){var h=!0;_o(t)}else h=!1;if(gi(t,d),t.stateNode===null)$o(e,t),th(t,s,l),Vl(t,s,l,d),l=!0;else if(e===null){var m=t.stateNode,S=t.memoizedProps;m.props=S;var k=m.context,N=s.contextType;typeof N=="object"&&N!==null?N=Gt(N):(N=Ct(s)?En:St.current,N=ui(t,N));var V=s.getDerivedStateFromProps,W=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function";W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==l||k!==N)&&rh(t,m,l,N),Zr=!1;var z=t.memoizedState;m.state=z,Po(t,l,m,d),k=t.memoizedState,S!==l||z!==k||Pt.current||Zr?(typeof V=="function"&&(zl(t,s,V,l),k=t.memoizedState),(S=Zr||eh(t,s,S,l,z,k,N))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=k),m.props=l,m.state=k,m.context=N,l=S):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{m=t.stateNode,Pd(e,t),S=t.memoizedProps,N=t.type===t.elementType?S:nr(t.type,S),m.props=N,W=t.pendingProps,z=m.context,k=s.contextType,typeof k=="object"&&k!==null?k=Gt(k):(k=Ct(s)?En:St.current,k=ui(t,k));var Q=s.getDerivedStateFromProps;(V=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==W||z!==k)&&rh(t,m,l,k),Zr=!1,z=t.memoizedState,m.state=z,Po(t,l,m,d);var ne=t.memoizedState;S!==W||z!==ne||Pt.current||Zr?(typeof Q=="function"&&(zl(t,s,Q,l),ne=t.memoizedState),(N=Zr||eh(t,s,N,l,z,ne,k)||!1)?(V||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,k)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ne),m.props=l,m.state=ne,m.context=k,l=N):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),l=!1)}return Kl(e,t,s,l,h,d)}function Kl(e,t,s,l,d,h){hh(e,t);var m=(t.flags&128)!==0;if(!l&&!m)return d&&yd(t,s,!1),jr(e,t,h);l=t.stateNode,rv.current=t;var S=m&&typeof s.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&m?(t.child=fi(t,e.child,null,h),t.child=fi(t,null,S,h)):xt(e,t,S,h),t.memoizedState=l.state,d&&yd(t,s,!0),t.child}function ph(e){var t=e.stateNode;t.pendingContext?md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&md(e,t.context,!1),Cl(e,t.containerInfo)}function gh(e,t,s,l,d){return hi(),kl(d),t.flags|=256,xt(e,t,s,l),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,s){var l=t.pendingProps,d=Ze.current,h=!1,m=(t.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(d&2)!==0),S?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),We(Ze,d&1),e===null)return El(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=l.children,e=l.fallback,h?(l=t.mode,h=t.child,m={mode:"hidden",children:m},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=Qo(m,l,0,null),e=An(e,l,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Jl(s),t.memoizedState=Gl,e):Ql(t,m));if(d=e.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return nv(e,t,m,l,S,d,s);if(h){h=l.fallback,m=t.mode,d=e.child,S=d.sibling;var k={mode:"hidden",children:l.children};return(m&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=k,t.deletions=null):(l=an(d,k),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?h=an(S,h):(h=An(h,m,s,null),h.flags|=2),h.return=t,l.return=t,l.sibling=h,t.child=l,l=h,h=t.child,m=e.child.memoizedState,m=m===null?Jl(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=e.childLanes&~s,t.memoizedState=Gl,l}return h=e.child,e=h.sibling,l=an(h,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=s),l.return=t,l.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=l,t.memoizedState=null,l}function Ql(e,t){return t=Qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,s,l){return l!==null&&kl(l),fi(t,e.child,null,s),e=Ql(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nv(e,t,s,l,d,h,m){if(s)return t.flags&256?(t.flags&=-257,l=Wl(Error(n(422))),Uo(e,t,m,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=l.fallback,d=t.mode,l=Qo({mode:"visible",children:l.children},d,0,null),h=An(h,d,m,null),h.flags|=2,l.return=t,h.return=t,l.sibling=h,t.child=l,(t.mode&1)!==0&&fi(t,e.child,null,m),t.child.memoizedState=Jl(m),t.memoizedState=Gl,h);if((t.mode&1)===0)return Uo(e,t,m,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,h=Error(n(419)),l=Wl(h,l,void 0),Uo(e,t,m,l)}if(S=(m&e.childLanes)!==0,jt||S){if(l=pt,l!==null){switch(m&-m){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|m))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Pr(e,d),or(l,e,d,-1))}return hu(),l=Wl(Error(n(421))),Uo(e,t,m,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=mv.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,Bt=Jr(d.nextSibling),Ft=t,Qe=!0,rr=null,e!==null&&(qt[Kt++]=xr,qt[Kt++]=Or,qt[Kt++]=kn,xr=e.id,Or=e.overflow,kn=t),t=Ql(t,l.children),t.flags|=4096,t)}function vh(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),xl(e.return,t,s)}function Yl(e,t,s,l,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=d)}function yh(e,t,s){var l=t.pendingProps,d=l.revealOrder,h=l.tail;if(xt(e,t,l.children,s),l=Ze.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,s,t);else if(e.tag===19)vh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(We(Ze,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&Co(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),Yl(t,!1,d,s,h);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Co(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Yl(t,!0,s,null,h);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=an(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=an(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function iv(e,t,s){switch(t.tag){case 3:ph(t),hi();break;case 5:Ad(t);break;case 1:Ct(t.type)&&_o(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;We(Ro,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(We(Ze,Ze.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?mh(e,t,s):(We(Ze,Ze.current&1),e=jr(e,t,s),e!==null?e.sibling:null);We(Ze,Ze.current&1);break;case 19:if(l=(s&t.childLanes)!==0,(e.flags&128)!==0){if(l)return yh(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(Ze,Ze.current),l)break;return null;case 22:case 23:return t.lanes=0,dh(e,t,s)}return jr(e,t,s)}var wh,Xl,_h,Sh;wh=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Xl=function(){},_h=function(e,t,s,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,Rn(yr.current);var h=null;switch(s){case"input":d=Gn(e,d),l=Gn(e,l),h=[];break;case"select":d=J({},d,{value:void 0}),l=J({},l,{value:void 0}),h=[];break;case"textarea":d=Fi(e,d),l=Fi(e,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=vo)}Qn(s,l);var m;s=null;for(N in d)if(!l.hasOwnProperty(N)&&d.hasOwnProperty(N)&&d[N]!=null)if(N==="style"){var S=d[N];for(m in S)S.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?h||(h=[]):(h=h||[]).push(N,null));for(N in l){var k=l[N];if(S=d?.[N],l.hasOwnProperty(N)&&k!==S&&(k!=null||S!=null))if(N==="style")if(S){for(m in S)!S.hasOwnProperty(m)||k&&k.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in k)k.hasOwnProperty(m)&&S[m]!==k[m]&&(s||(s={}),s[m]=k[m])}else s||(h||(h=[]),h.push(N,s)),s=k;else N==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(h=h||[]).push(N,k)):N==="children"?typeof k!="string"&&typeof k!="number"||(h=h||[]).push(N,""+k):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(k!=null&&N==="onScroll"&&Ke("scroll",e),h||S===k||(h=[])):(h=h||[]).push(N,k))}s&&(h=h||[]).push("style",s);var N=h;(t.updateQueue=N)&&(t.flags|=4)}},Sh=function(e,t,s,l){s!==l&&(t.flags|=4)};function _s(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function sv(e,t,s){var l=t.pendingProps;switch(_l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Ct(t.type)&&wo(),kt(t),null;case 3:return l=t.stateNode,mi(),Ge(Pt),Ge(St),Nl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rr!==null&&(uu(rr),rr=null))),Xl(e,t),kt(t),null;case 5:jl(t);var d=Rn(gs.current);if(s=t.type,e!==null&&t.stateNode!=null)_h(e,t,s,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return kt(t),null}if(e=Rn(yr.current),bo(t)){l=t.stateNode,s=t.type;var h=t.memoizedProps;switch(l[vr]=t,l[cs]=h,e=(t.mode&1)!==0,s){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(d=0;d<as.length;d++)Ke(as[d],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Hs(l,h),Ke("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Ke("invalid",l);break;case"textarea":Ks(l,h),Ke("invalid",l)}Qn(s,h),d=null;for(var m in h)if(h.hasOwnProperty(m)){var S=h[m];m==="children"?typeof S=="string"?l.textContent!==S&&(h.suppressHydrationWarning!==!0&&mo(l.textContent,S,e),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(h.suppressHydrationWarning!==!0&&mo(l.textContent,S,e),d=["children",""+S]):a.hasOwnProperty(m)&&S!=null&&m==="onScroll"&&Ke("scroll",l)}switch(s){case"input":Kn(l),qs(l,h,!0);break;case"textarea":Kn(l),$r(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=vo)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{m=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bi(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=m.createElement(s,{is:l.is}):(e=m.createElement(s),s==="select"&&(m=e,l.multiple?m.multiple=!0:l.size&&(m.size=l.size))):e=m.createElementNS(e,s),e[vr]=t,e[cs]=l,wh(e,t,!1,!1),t.stateNode=e;e:{switch(m=Vi(s,l),s){case"dialog":Ke("cancel",e),Ke("close",e),d=l;break;case"iframe":case"object":case"embed":Ke("load",e),d=l;break;case"video":case"audio":for(d=0;d<as.length;d++)Ke(as[d],e);d=l;break;case"source":Ke("error",e),d=l;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),d=l;break;case"details":Ke("toggle",e),d=l;break;case"input":Hs(e,l),d=Gn(e,l),Ke("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=J({},l,{value:void 0}),Ke("invalid",e);break;case"textarea":Ks(e,l),d=Fi(e,l),Ke("invalid",e);break;default:d=l}Qn(s,d),S=d;for(h in S)if(S.hasOwnProperty(h)){var k=S[h];h==="style"?zi(e,k):h==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ht(e,k)):h==="children"?typeof k=="string"?(s!=="textarea"||k!=="")&&Mr(e,k):typeof k=="number"&&Mr(e,""+k):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(a.hasOwnProperty(h)?k!=null&&h==="onScroll"&&Ke("scroll",e):k!=null&&L(e,h,k,m))}switch(s){case"input":Kn(e),qs(e,l,!1);break;case"textarea":Kn(e),$r(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Pe(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Ur(e,!!l.multiple,h,!1):l.defaultValue!=null&&Ur(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=vo)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(s=Rn(gs.current),Rn(yr.current),bo(t)){if(l=t.stateNode,s=t.memoizedProps,l[vr]=t,(h=l.nodeValue!==s)&&(e=Ft,e!==null))switch(e.tag){case 3:mo(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(l.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[vr]=t,t.stateNode=l}return kt(t),null;case 13:if(Ge(Ze),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)bd(),hi(),t.flags|=98560,h=!1;else if(h=bo(t),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[vr]=t}else hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),h=!1}else rr!==null&&(uu(rr),rr=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ze.current&1)!==0?dt===0&&(dt=3):hu())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return mi(),Xl(e,t),e===null&&ls(t.stateNode.containerInfo),kt(t),null;case 10:return Rl(t.type._context),kt(t),null;case 17:return Ct(t.type)&&wo(),kt(t),null;case 19:if(Ge(Ze),h=t.memoizedState,h===null)return kt(t),null;if(l=(t.flags&128)!==0,m=h.rendering,m===null)if(l)_s(h,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Co(e),m!==null){for(t.flags|=128,_s(h,!1),l=m.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=s,s=t.child;s!==null;)h=s,e=l,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,e=m.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return We(Ze,Ze.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ae()>_i&&(t.flags|=128,l=!0,_s(h,!1),t.lanes=4194304)}else{if(!l)if(e=Co(m),e!==null){if(t.flags|=128,l=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),_s(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Qe)return kt(t),null}else 2*Ae()-h.renderingStartTime>_i&&s!==1073741824&&(t.flags|=128,l=!0,_s(h,!1),t.lanes=4194304);h.isBackwards?(m.sibling=t.child,t.child=m):(s=h.last,s!==null?s.sibling=m:t.child=m,h.last=m)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ae(),t.sibling=null,s=Ze.current,We(Ze,l?s&1|2:s&1),t):(kt(t),null);case 22:case 23:return du(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(zt&1073741824)!==0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function ov(e,t){switch(_l(t),t.tag){case 1:return Ct(t.type)&&wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mi(),Ge(Pt),Ge(St),Nl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return jl(t),null;case 13:if(Ge(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ze),null;case 4:return mi(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Mo=!1,bt=!1,av=typeof WeakSet=="function"?WeakSet:Set,Z=null;function yi(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){tt(e,t,l)}else s.current=null}function Zl(e,t,s){try{s()}catch(l){tt(e,t,l)}}var Eh=!1;function lv(e,t){if(dl=io,e=ed(),nl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var m=0,S=-1,k=-1,N=0,V=0,W=e,z=null;t:for(;;){for(var Q;W!==s||d!==0&&W.nodeType!==3||(S=m+d),W!==h||l!==0&&W.nodeType!==3||(k=m+l),W.nodeType===3&&(m+=W.nodeValue.length),(Q=W.firstChild)!==null;)z=W,W=Q;for(;;){if(W===e)break t;if(z===s&&++N===d&&(S=m),z===h&&++V===l&&(k=m),(Q=W.nextSibling)!==null)break;W=z,z=W.parentNode}W=Q}s=S===-1||k===-1?null:{start:S,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(hl={focusedElem:e,selectionRange:s},io=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,rt=ne.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?oe:nr(t.type,oe),rt);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){tt(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return ne=Eh,Eh=!1,ne}function Ss(e,t,s){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Zl(t,s,h)}d=d.next}while(d!==l)}}function Fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==t)}}function eu(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[cs],delete t[ml],delete t[Wm],delete t[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bh(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=vo));else if(l!==4&&(e=e.child,e!==null))for(tu(e,t,s),e=e.sibling;e!==null;)tu(e,t,s),e=e.sibling}function ru(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ru(e,t,s),e=e.sibling;e!==null;)ru(e,t,s),e=e.sibling}var vt=null,ir=!1;function tn(e,t,s){for(s=s.child;s!==null;)Rh(e,t,s),s=s.sibling}function Rh(e,t,s){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Be,s)}catch{}switch(s.tag){case 5:bt||yi(s,t);case 6:var l=vt,d=ir;vt=null,tn(e,t,s),vt=l,ir=d,vt!==null&&(ir?(e=vt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):vt.removeChild(s.stateNode));break;case 18:vt!==null&&(ir?(e=vt,s=s.stateNode,e.nodeType===8?gl(e.parentNode,s):e.nodeType===1&&gl(e,s),Zi(e)):gl(vt,s.stateNode));break;case 4:l=vt,d=ir,vt=s.stateNode.containerInfo,ir=!0,tn(e,t,s),vt=l,ir=d;break;case 0:case 11:case 14:case 15:if(!bt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Zl(s,t,m),d=d.next}while(d!==l)}tn(e,t,s);break;case 1:if(!bt&&(yi(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(S){tt(s,t,S)}tn(e,t,s);break;case 21:tn(e,t,s);break;case 22:s.mode&1?(bt=(l=bt)||s.memoizedState!==null,tn(e,t,s),bt=l):tn(e,t,s);break;default:tn(e,t,s)}}function xh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new av),t.forEach(function(l){var d=vv.bind(null,e,l);s.has(l)||(s.add(l),l.then(d,d))})}}function sr(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];try{var h=e,m=t,S=m;e:for(;S!==null;){switch(S.tag){case 5:vt=S.stateNode,ir=!1;break e;case 3:vt=S.stateNode.containerInfo,ir=!0;break e;case 4:vt=S.stateNode.containerInfo,ir=!0;break e}S=S.return}if(vt===null)throw Error(n(160));Rh(h,m,d),vt=null,ir=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(N){tt(d,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}function Oh(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),_r(e),l&4){try{Ss(3,e,e.return),Fo(3,e)}catch(oe){tt(e,e.return,oe)}try{Ss(5,e,e.return)}catch(oe){tt(e,e.return,oe)}}break;case 1:sr(t,e),_r(e),l&512&&s!==null&&yi(s,s.return);break;case 5:if(sr(t,e),_r(e),l&512&&s!==null&&yi(s,s.return),e.flags&32){var d=e.stateNode;try{Mr(d,"")}catch(oe){tt(e,e.return,oe)}}if(l&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,m=s!==null?s.memoizedProps:h,S=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{S==="input"&&h.type==="radio"&&h.name!=null&&dr(d,h),Vi(S,m);var N=Vi(S,h);for(m=0;m<k.length;m+=2){var V=k[m],W=k[m+1];V==="style"?zi(d,W):V==="dangerouslySetInnerHTML"?Ht(d,W):V==="children"?Mr(d,W):L(d,V,W,N)}switch(S){case"input":Mi(d,h);break;case"textarea":hr(d,h);break;case"select":var z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var Q=h.value;Q!=null?Ur(d,!!h.multiple,Q,!1):z!==!!h.multiple&&(h.defaultValue!=null?Ur(d,!!h.multiple,h.defaultValue,!0):Ur(d,!!h.multiple,h.multiple?[]:"",!1))}d[cs]=h}catch(oe){tt(e,e.return,oe)}}break;case 6:if(sr(t,e),_r(e),l&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(oe){tt(e,e.return,oe)}}break;case 3:if(sr(t,e),_r(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(oe){tt(e,e.return,oe)}break;case 4:sr(t,e),_r(e);break;case 13:sr(t,e),_r(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(su=Ae())),l&4&&xh(e);break;case 22:if(V=s!==null&&s.memoizedState!==null,e.mode&1?(bt=(N=bt)||V,sr(t,e),bt=N):sr(t,e),_r(e),l&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!V&&(e.mode&1)!==0)for(Z=e,V=e.child;V!==null;){for(W=Z=V;Z!==null;){switch(z=Z,Q=z.child,z.tag){case 0:case 11:case 14:case 15:Ss(4,z,z.return);break;case 1:yi(z,z.return);var ne=z.stateNode;if(typeof ne.componentWillUnmount=="function"){l=z,s=z.return;try{t=l,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(oe){tt(l,s,oe)}}break;case 5:yi(z,z.return);break;case 22:if(z.memoizedState!==null){jh(W);continue}}Q!==null?(Q.return=z,Z=Q):jh(W)}V=V.sibling}e:for(V=null,W=e;;){if(W.tag===5){if(V===null){V=W;try{d=W.stateNode,N?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(S=W.stateNode,k=W.memoizedProps.style,m=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=Zt("display",m))}catch(oe){tt(e,e.return,oe)}}}else if(W.tag===6){if(V===null)try{W.stateNode.nodeValue=N?"":W.memoizedProps}catch(oe){tt(e,e.return,oe)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;V===W&&(V=null),W=W.return}V===W&&(V=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:sr(t,e),_r(e),l&4&&xh(e);break;case 21:break;default:sr(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(bh(s)){var l=s;break e}s=s.return}throw Error(n(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Mr(d,""),l.flags&=-33);var h=Th(e);ru(e,h,d);break;case 3:case 4:var m=l.stateNode.containerInfo,S=Th(e);tu(e,S,m);break;default:throw Error(n(161))}}catch(k){tt(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uv(e,t,s){Z=e,Ph(e)}function Ph(e,t,s){for(var l=(e.mode&1)!==0;Z!==null;){var d=Z,h=d.child;if(d.tag===22&&l){var m=d.memoizedState!==null||Mo;if(!m){var S=d.alternate,k=S!==null&&S.memoizedState!==null||bt;S=Mo;var N=bt;if(Mo=m,(bt=k)&&!N)for(Z=d;Z!==null;)m=Z,k=m.child,m.tag===22&&m.memoizedState!==null?Ah(d):k!==null?(k.return=m,Z=k):Ah(d);for(;h!==null;)Z=h,Ph(h),h=h.sibling;Z=d,Mo=S,bt=N}Ch(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,Z=h):Ch(e)}}function Ch(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:bt||Fo(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!bt)if(s===null)l.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:nr(t.type,s.memoizedProps);l.componentDidUpdate(d,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&jd(t,h,l);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}jd(t,m,s)}break;case 5:var S=t.stateNode;if(s===null&&t.flags&4){s=S;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&s.focus();break;case"img":k.src&&(s.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var V=N.memoizedState;if(V!==null){var W=V.dehydrated;W!==null&&Zi(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||t.flags&512&&eu(t)}catch(z){tt(t,t.return,z)}}if(t===e){Z=null;break}if(s=t.sibling,s!==null){s.return=t.return,Z=s;break}Z=t.return}}function jh(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Z=s;break}Z=t.return}}function Ah(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Fo(4,t)}catch(k){tt(t,s,k)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(k){tt(t,d,k)}}var h=t.return;try{eu(t)}catch(k){tt(t,h,k)}break;case 5:var m=t.return;try{eu(t)}catch(k){tt(t,m,k)}}}catch(k){tt(t,t.return,k)}if(t===e){Z=null;break}var S=t.sibling;if(S!==null){S.return=t.return,Z=S;break}Z=t.return}}var cv=Math.ceil,Bo=q.ReactCurrentDispatcher,nu=q.ReactCurrentOwner,Qt=q.ReactCurrentBatchConfig,je=0,pt=null,it=null,yt=0,zt=0,wi=Qr(0),dt=0,Es=null,On=0,zo=0,iu=0,ks=null,At=null,su=0,_i=1/0,Ar=null,Vo=!1,ou=null,rn=null,Wo=!1,nn=null,Ho=0,bs=0,au=null,qo=-1,Ko=0;function Ot(){return(je&6)!==0?Ae():qo!==-1?qo:qo=Ae()}function sn(e){return(e.mode&1)===0?1:(je&2)!==0&&yt!==0?yt&-yt:Km.transition!==null?(Ko===0&&(Ko=Tc()),Ko):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Ic(e.type)),e)}function or(e,t,s,l){if(50<bs)throw bs=0,au=null,Error(n(185));Gi(e,s,l),((je&2)===0||e!==pt)&&(e===pt&&((je&2)===0&&(zo|=s),dt===4&&on(e,yt)),Nt(e,l),s===1&&je===0&&(t.mode&1)===0&&(_i=Ae()+500,So&&Xr()))}function Nt(e,t){var s=e.callbackNode;Kg(e,t);var l=to(e,e===pt?yt:0);if(l===0)s!==null&&Er(s),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(s!=null&&Er(s),t===1)e.tag===0?qm(Ih.bind(null,e)):wd(Ih.bind(null,e)),zm(function(){(je&6)===0&&Xr()}),s=null;else{switch(Rc(l)){case 1:s=kr;break;case 4:s=mr;break;case 16:s=br;break;case 536870912:s=xe;break;default:s=br}s=zh(s,Nh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Nh(e,t){if(qo=-1,Ko=0,(je&6)!==0)throw Error(n(327));var s=e.callbackNode;if(Si()&&e.callbackNode!==s)return null;var l=to(e,e===pt?yt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=Go(e,l);else{t=l;var d=je;je|=2;var h=Dh();(pt!==e||yt!==t)&&(Ar=null,_i=Ae()+500,Cn(e,t));do try{fv();break}catch(S){Lh(e,S)}while(!0);Tl(),Bo.current=h,je=d,it!==null?t=0:(pt=null,yt=0,t=dt)}if(t!==0){if(t===2&&(d=Ba(e),d!==0&&(l=d,t=lu(e,d))),t===1)throw s=Es,Cn(e,0),on(e,l),Nt(e,Ae()),s;if(t===6)on(e,l);else{if(d=e.current.alternate,(l&30)===0&&!dv(d)&&(t=Go(e,l),t===2&&(h=Ba(e),h!==0&&(l=h,t=lu(e,h))),t===1))throw s=Es,Cn(e,0),on(e,l),Nt(e,Ae()),s;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:jn(e,At,Ar);break;case 3:if(on(e,l),(l&130023424)===l&&(t=su+500-Ae(),10<t)){if(to(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){Ot(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=pl(jn.bind(null,e,At,Ar),t);break}jn(e,At,Ar);break;case 4:if(on(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var m=31-Ne(l);h=1<<m,m=t[m],m>d&&(d=m),l&=~h}if(l=d,l=Ae()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*cv(l/1960))-l,10<l){e.timeoutHandle=pl(jn.bind(null,e,At,Ar),l);break}jn(e,At,Ar);break;case 5:jn(e,At,Ar);break;default:throw Error(n(329))}}}return Nt(e,Ae()),e.callbackNode===s?Nh.bind(null,e):null}function lu(e,t){var s=ks;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Go(e,t),e!==2&&(t=At,At=s,t!==null&&uu(t)),e}function uu(e){At===null?At=e:At.push.apply(At,e)}function dv(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var d=s[l],h=d.getSnapshot;d=d.value;try{if(!tr(h(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~iu,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ne(t),l=1<<s;e[s]=-1,t&=~l}}function Ih(e){if((je&6)!==0)throw Error(n(327));Si();var t=to(e,0);if((t&1)===0)return Nt(e,Ae()),null;var s=Go(e,t);if(e.tag!==0&&s===2){var l=Ba(e);l!==0&&(t=l,s=lu(e,l))}if(s===1)throw s=Es,Cn(e,0),on(e,t),Nt(e,Ae()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,At,Ar),Nt(e,Ae()),null}function cu(e,t){var s=je;je|=1;try{return e(t)}finally{je=s,je===0&&(_i=Ae()+500,So&&Xr())}}function Pn(e){nn!==null&&nn.tag===0&&(je&6)===0&&Si();var t=je;je|=1;var s=Qt.transition,l=Ue;try{if(Qt.transition=null,Ue=1,e)return e()}finally{Ue=l,Qt.transition=s,je=t,(je&6)===0&&Xr()}}function du(){zt=wi.current,Ge(wi)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Bm(s)),it!==null)for(s=it.return;s!==null;){var l=s;switch(_l(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&wo();break;case 3:mi(),Ge(Pt),Ge(St),Nl();break;case 5:jl(l);break;case 4:mi();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Rl(l.type._context);break;case 22:case 23:du()}s=s.return}if(pt=e,it=e=an(e.current,null),yt=zt=t,dt=0,Es=null,iu=zo=On=0,At=ks=null,Tn!==null){for(t=0;t<Tn.length;t++)if(s=Tn[t],l=s.interleaved,l!==null){s.interleaved=null;var d=l.next,h=s.pending;if(h!==null){var m=h.next;h.next=d,l.next=m}s.pending=l}Tn=null}return e}function Lh(e,t){do{var s=it;try{if(Tl(),jo.current=Lo,Ao){for(var l=et.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Ao=!1}if(xn=0,ft=ct=et=null,ms=!1,vs=0,nu.current=null,s===null||s.return===null){dt=1,Es=t,it=null;break}e:{var h=e,m=s.return,S=s,k=t;if(t=yt,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var N=k,V=S,W=V.tag;if((V.mode&1)===0&&(W===0||W===11||W===15)){var z=V.alternate;z?(V.updateQueue=z.updateQueue,V.memoizedState=z.memoizedState,V.lanes=z.lanes):(V.updateQueue=null,V.memoizedState=null)}var Q=oh(m);if(Q!==null){Q.flags&=-257,ah(Q,m,S,h,t),Q.mode&1&&sh(h,N,t),t=Q,k=N;var ne=t.updateQueue;if(ne===null){var oe=new Set;oe.add(k),t.updateQueue=oe}else ne.add(k);break e}else{if((t&1)===0){sh(h,N,t),hu();break e}k=Error(n(426))}}else if(Qe&&S.mode&1){var rt=oh(m);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),ah(rt,m,S,h,t),kl(vi(k,S));break e}}h=k=vi(k,S),dt!==4&&(dt=2),ks===null?ks=[h]:ks.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var j=nh(h,k,t);Cd(h,j);break e;case 1:S=k;var x=h.type,A=h.stateNode;if((h.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(rn===null||!rn.has(A)))){h.flags|=65536,t&=-t,h.lanes|=t;var K=ih(h,S,t);Cd(h,K);break e}}h=h.return}while(h!==null)}$h(s)}catch(le){t=le,it===s&&s!==null&&(it=s=s.return);continue}break}while(!0)}function Dh(){var e=Bo.current;return Bo.current=Lo,e===null?Lo:e}function hu(){(dt===0||dt===3||dt===2)&&(dt=4),pt===null||(On&268435455)===0&&(zo&268435455)===0||on(pt,yt)}function Go(e,t){var s=je;je|=2;var l=Dh();(pt!==e||yt!==t)&&(Ar=null,Cn(e,t));do try{hv();break}catch(d){Lh(e,d)}while(!0);if(Tl(),je=s,Bo.current=l,it!==null)throw Error(n(261));return pt=null,yt=0,dt}function hv(){for(;it!==null;)Uh(it)}function fv(){for(;it!==null&&!wn();)Uh(it)}function Uh(e){var t=Bh(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?$h(e):it=t,nu.current=null}function $h(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=sv(s,t,zt),s!==null){it=s;return}}else{if(s=ov(s,t),s!==null){s.flags&=32767,it=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);dt===0&&(dt=5)}function jn(e,t,s){var l=Ue,d=Qt.transition;try{Qt.transition=null,Ue=1,pv(e,t,s,l)}finally{Qt.transition=d,Ue=l}return null}function pv(e,t,s,l){do Si();while(nn!==null);if((je&6)!==0)throw Error(n(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Gg(e,h),e===pt&&(it=pt=null,yt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Wo||(Wo=!0,zh(br,function(){return Si(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=Qt.transition,Qt.transition=null;var m=Ue;Ue=1;var S=je;je|=4,nu.current=null,lv(e,s),Oh(s,e),Im(hl),io=!!dl,hl=dl=null,e.current=s,uv(s),er(),je=S,Ue=m,Qt.transition=h}else e.current=s;if(Wo&&(Wo=!1,nn=e,Ho=d),h=e.pendingLanes,h===0&&(rn=null),_n(s.stateNode),Nt(e,Ae()),t!==null)for(l=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],l(d.value,{componentStack:d.stack,digest:d.digest});if(Vo)throw Vo=!1,e=ou,ou=null,e;return(Ho&1)!==0&&e.tag!==0&&Si(),h=e.pendingLanes,(h&1)!==0?e===au?bs++:(bs=0,au=e):bs=0,Xr(),null}function Si(){if(nn!==null){var e=Rc(Ho),t=Qt.transition,s=Ue;try{if(Qt.transition=null,Ue=16>e?16:e,nn===null)var l=!1;else{if(e=nn,nn=null,Ho=0,(je&6)!==0)throw Error(n(331));var d=je;for(je|=4,Z=e.current;Z!==null;){var h=Z,m=h.child;if((Z.flags&16)!==0){var S=h.deletions;if(S!==null){for(var k=0;k<S.length;k++){var N=S[k];for(Z=N;Z!==null;){var V=Z;switch(V.tag){case 0:case 11:case 15:Ss(8,V,h)}var W=V.child;if(W!==null)W.return=V,Z=W;else for(;Z!==null;){V=Z;var z=V.sibling,Q=V.return;if(kh(V),V===N){Z=null;break}if(z!==null){z.return=Q,Z=z;break}Z=Q}}}var ne=h.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var rt=oe.sibling;oe.sibling=null,oe=rt}while(oe!==null)}}Z=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,Z=m;else e:for(;Z!==null;){if(h=Z,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Ss(9,h,h.return)}var j=h.sibling;if(j!==null){j.return=h.return,Z=j;break e}Z=h.return}}var x=e.current;for(Z=x;Z!==null;){m=Z;var A=m.child;if((m.subtreeFlags&2064)!==0&&A!==null)A.return=m,Z=A;else e:for(m=x;Z!==null;){if(S=Z,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Fo(9,S)}}catch(le){tt(S,S.return,le)}if(S===m){Z=null;break e}var K=S.sibling;if(K!==null){K.return=S.return,Z=K;break e}Z=S.return}}if(je=d,Xr(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Be,e)}catch{}l=!0}return l}finally{Ue=s,Qt.transition=t}}return!1}function Mh(e,t,s){t=vi(s,t),t=nh(e,t,1),e=en(e,t,1),t=Ot(),e!==null&&(Gi(e,1,t),Nt(e,t))}function tt(e,t,s){if(e.tag===3)Mh(e,e,s);else for(;t!==null;){if(t.tag===3){Mh(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rn===null||!rn.has(l))){e=vi(s,e),e=ih(t,e,1),t=en(t,e,1),e=Ot(),t!==null&&(Gi(t,1,e),Nt(t,e));break}}t=t.return}}function gv(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&s,pt===e&&(yt&s)===s&&(dt===4||dt===3&&(yt&130023424)===yt&&500>Ae()-su?Cn(e,0):iu|=s),Nt(e,t)}function Fh(e,t){t===0&&((e.mode&1)===0?t=1:(t=eo,eo<<=1,(eo&130023424)===0&&(eo=4194304)));var s=Ot();e=Pr(e,t),e!==null&&(Gi(e,t,s),Nt(e,s))}function mv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Fh(e,s)}function vv(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),Fh(e,s)}var Bh;Bh=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)jt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return jt=!1,iv(e,t,s);jt=(e.flags&131072)!==0}else jt=!1,Qe&&(t.flags&1048576)!==0&&_d(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;$o(e,t),e=t.pendingProps;var d=ui(t,St.current);gi(t,s),d=Dl(null,t,l,e,d,s);var h=Ul();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(l)?(h=!0,_o(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Pl(t),d.updater=Do,t.stateNode=d,d._reactInternals=t,Vl(t,l,e,s),t=Kl(null,t,l,!0,h,s)):(t.tag=0,Qe&&h&&wl(t),xt(null,t,d,s),t=t.child),t;case 16:l=t.elementType;e:{switch($o(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=wv(l),e=nr(l,e),d){case 0:t=ql(null,t,l,e,s);break e;case 1:t=fh(null,t,l,e,s);break e;case 11:t=lh(null,t,l,e,s);break e;case 14:t=uh(null,t,l,nr(l.type,e),s);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),ql(e,t,l,d,s);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),fh(e,t,l,d,s);case 3:e:{if(ph(t),e===null)throw Error(n(387));l=t.pendingProps,h=t.memoizedState,d=h.element,Pd(e,t),Po(t,l,null,s);var m=t.memoizedState;if(l=m.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=vi(Error(n(423)),t),t=gh(e,t,l,s,d);break e}else if(l!==d){d=vi(Error(n(424)),t),t=gh(e,t,l,s,d);break e}else for(Bt=Jr(t.stateNode.containerInfo.firstChild),Ft=t,Qe=!0,rr=null,s=xd(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(hi(),l===d){t=jr(e,t,s);break e}xt(e,t,l,s)}t=t.child}return t;case 5:return Ad(t),e===null&&El(t),l=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,m=d.children,fl(l,d)?m=null:h!==null&&fl(l,h)&&(t.flags|=32),hh(e,t),xt(e,t,m,s),t.child;case 6:return e===null&&El(t),null;case 13:return mh(e,t,s);case 4:return Cl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=fi(t,null,l,s):xt(e,t,l,s),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),lh(e,t,l,d,s);case 7:return xt(e,t,t.pendingProps,s),t.child;case 8:return xt(e,t,t.pendingProps.children,s),t.child;case 12:return xt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,h=t.memoizedProps,m=d.value,We(Ro,l._currentValue),l._currentValue=m,h!==null)if(tr(h.value,m)){if(h.children===d.children&&!Pt.current){t=jr(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var S=h.dependencies;if(S!==null){m=h.child;for(var k=S.firstContext;k!==null;){if(k.context===l){if(h.tag===1){k=Cr(-1,s&-s),k.tag=2;var N=h.updateQueue;if(N!==null){N=N.shared;var V=N.pending;V===null?k.next=k:(k.next=V.next,V.next=k),N.pending=k}}h.lanes|=s,k=h.alternate,k!==null&&(k.lanes|=s),xl(h.return,s,t),S.lanes|=s;break}k=k.next}}else if(h.tag===10)m=h.type===t.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),xl(m,s,t),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===t){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}xt(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,gi(t,s),d=Gt(d),l=l(d),t.flags|=1,xt(e,t,l,s),t.child;case 14:return l=t.type,d=nr(l,t.pendingProps),d=nr(l.type,d),uh(e,t,l,d,s);case 15:return ch(e,t,t.type,t.pendingProps,s);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:nr(l,d),$o(e,t),t.tag=1,Ct(l)?(e=!0,_o(t)):e=!1,gi(t,s),th(t,l,d),Vl(t,l,d,s),Kl(null,t,l,!0,e,s);case 19:return yh(e,t,s);case 22:return dh(e,t,s)}throw Error(n(156,t.tag))};function zh(e,t){return qe(e,t)}function yv(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,s,l){return new yv(e,t,s,l)}function fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wv(e){if(typeof e=="function")return fu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===nt)return 14}return 2}function an(e,t){var s=e.alternate;return s===null?(s=Yt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Jo(e,t,s,l,d,h){var m=2;if(l=e,typeof e=="function")fu(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case C:return An(s.children,d,h,t);case te:m=8,d|=8;break;case Se:return e=Yt(12,s,t,d|2),e.elementType=Se,e.lanes=h,e;case Me:return e=Yt(13,s,t,d),e.elementType=Me,e.lanes=h,e;case ze:return e=Yt(19,s,t,d),e.elementType=ze,e.lanes=h,e;case Fe:return Qo(s,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:m=10;break e;case Je:m=9;break e;case Le:m=11;break e;case nt:m=14;break e;case lt:m=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Yt(m,s,t,d),t.elementType=e,t.type=l,t.lanes=h,t}function An(e,t,s,l){return e=Yt(7,e,l,t),e.lanes=s,e}function Qo(e,t,s,l){return e=Yt(22,e,l,t),e.elementType=Fe,e.lanes=s,e.stateNode={isHidden:!1},e}function pu(e,t,s){return e=Yt(6,e,null,t),e.lanes=s,e}function gu(e,t,s){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _v(e,t,s,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function mu(e,t,s,l,d,h,m,S,k){return e=new _v(e,t,s,S,k),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Yt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(h),e}function Sv(e,t,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:l==null?null:""+l,children:e,containerInfo:t,implementation:s}}function Vh(e){if(!e)return Yr;e=e._reactInternals;e:{if(ee(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(Ct(s))return vd(e,s,t)}return t}function Wh(e,t,s,l,d,h,m,S,k){return e=mu(s,l,!0,e,d,h,m,S,k),e.context=Vh(null),s=e.current,l=Ot(),d=sn(s),h=Cr(l,d),h.callback=t??null,en(s,h,d),e.current.lanes=d,Gi(e,d,l),Nt(e,l),e}function Yo(e,t,s,l){var d=t.current,h=Ot(),m=sn(d);return s=Vh(s),t.context===null?t.context=s:t.pendingContext=s,t=Cr(h,m),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=en(d,t,m),e!==null&&(or(e,d,m,h),Oo(e,d,m)),m}function Xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function vu(e,t){Hh(e,t),(e=e.alternate)&&Hh(e,t)}function Ev(){return null}var qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function yu(e){this._internalRoot=e}Zo.prototype.render=yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Yo(e,t,null,null)},Zo.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Yo(null,e,null,null)}),t[Tr]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<qr.length&&t!==0&&t<qr[s].priority;s++);qr.splice(s,0,e),s===0&&Ac(e)}};function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function kv(e,t,s,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var N=Xo(m);h.call(N)}}var m=Wh(t,l,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=m,e[Tr]=m.current,ls(e.nodeType===8?e.parentNode:e),Pn(),m}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var N=Xo(k);S.call(N)}}var k=mu(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=k,e[Tr]=k.current,ls(e.nodeType===8?e.parentNode:e),Pn(function(){Yo(t,k,s,l)}),k}function ta(e,t,s,l,d){var h=s._reactRootContainer;if(h){var m=h;if(typeof d=="function"){var S=d;d=function(){var k=Xo(m);S.call(k)}}Yo(t,m,e,d)}else m=kv(s,t,e,d,l);return Xo(m)}xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ki(t.pendingLanes);s!==0&&(Va(t,s|1),Nt(t,Ae()),(je&6)===0&&(_i=Ae()+500,Xr()))}break;case 13:Pn(function(){var l=Pr(e,1);if(l!==null){var d=Ot();or(l,e,1,d)}}),vu(e,1)}},Wa=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var s=Ot();or(t,e,134217728,s)}vu(e,134217728)}},Oc=function(e){if(e.tag===13){var t=sn(e),s=Pr(e,t);if(s!==null){var l=Ot();or(s,e,t,l)}vu(e,t)}},Pc=function(){return Ue},Cc=function(e,t){var s=Ue;try{return Ue=e,t()}finally{Ue=s}},Xn=function(e,t,s){switch(t){case"input":if(Mi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var d=yo(l);if(!d)throw Error(n(90));ht(l),Mi(l,d)}}}break;case"textarea":hr(e,s);break;case"select":t=s.value,t!=null&&Ur(e,!!s.multiple,t,!1)}},Hi=cu,vn=Pn;var bv={usingClientEntryPoint:!1,Events:[ds,ai,yo,Wi,Qs,cu]},Ts={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tv={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=De(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||Ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Be=ra.inject(Tv),mt=ra}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv,It.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(t))throw Error(n(200));return Sv(e,t,null,s)},It.createRoot=function(e,t){if(!wu(e))throw Error(n(299));var s=!1,l="",d=qh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=mu(e,1,!1,null,null,s,!1,l,d),e[Tr]=t.current,ls(e.nodeType===8?e.parentNode:e),new yu(t)},It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=De(t),e=e===null?null:e.stateNode,e},It.flushSync=function(e){return Pn(e)},It.hydrate=function(e,t,s){if(!ea(t))throw Error(n(200));return ta(null,e,t,!0,s)},It.hydrateRoot=function(e,t,s){if(!wu(e))throw Error(n(405));var l=s!=null&&s.hydratedSources||null,d=!1,h="",m=qh;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=Wh(t,null,e,1,s??null,d,!1,h,m),e[Tr]=t.current,ls(e),l)for(e=0;e<l.length;e++)s=l[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new Zo(t)},It.render=function(e,t,s){if(!ea(t))throw Error(n(200));return ta(null,e,t,!1,s)},It.unmountComponentAtNode=function(e){if(!ea(e))throw Error(n(40));return e._reactRootContainer?(Pn(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1},It.unstable_batchedUpdates=cu,It.unstable_renderSubtreeIntoContainer=function(e,t,s,l){if(!ea(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ta(e,t,s,!1,l)},It.version="18.3.1-next-f1338f8080-20240426",It}var tf;function lp(){if(tf)return Eu.exports;tf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Eu.exports=Iv(),Eu.exports}var rf;function Lv(){if(rf)return na;rf=1;var i=lp();return na.createRoot=i.createRoot,na.hydrateRoot=i.hydrateRoot,na}var Dv=Lv();const Uv=({children:i})=>D.jsx(D.Fragment,{children:i}),$v="modulepreload",Mv=function(i){return"/"+i},nf={},Li=function(r,n,o){let a=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=p(n.map(g=>{if(g=Mv(g),g in nf)return;nf[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":$v,v||(w.as="script"),w.crossOrigin="",w.href=g,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((_,b)=>{w.addEventListener("load",_),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return r().catch(u)})};var up=lp();const Fv=sc(up),Bv=ic({__proto__:null,default:Fv},[up]);function Xe(){return Xe=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Xe.apply(this,arguments)}var ot;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(ot||(ot={}));const sf="popstate";function zv(i){i===void 0&&(i={});function r(o,a){let{pathname:u,search:c,hash:f}=o.location;return Ds("",{pathname:u,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:Hn(a)}return Wv(r,n,null,i)}function Re(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Ai(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Vv(){return Math.random().toString(36).substr(2,8)}function of(i,r){return{usr:i.state,key:i.key,idx:r}}function Ds(i,r,n,o){return n===void 0&&(n=null),Xe({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?fn(r):r,{state:n,key:r&&r.key||o||Vv()})}function Hn(i){let{pathname:r="/",search:n="",hash:o=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function fn(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substr(o),i=i.substr(0,o)),i&&(r.pathname=i)}return r}function Wv(i,r,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:u=!1}=o,c=a.history,f=ot.Pop,p=null,g=v();g==null&&(g=0,c.replaceState(Xe({},c.state,{idx:g}),""));function v(){return(c.state||{idx:null}).idx}function y(){f=ot.Pop;let R=v(),$=R==null?null:R-g;g=R,p&&p({action:f,location:T.location,delta:$})}function w(R,$){f=ot.Push;let U=Ds(T.location,R,$);g=v()+1;let L=of(U,g),q=T.createHref(U);try{c.pushState(L,"",q)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(q)}u&&p&&p({action:f,location:T.location,delta:1})}function _(R,$){f=ot.Replace;let U=Ds(T.location,R,$);g=v();let L=of(U,g),q=T.createHref(U);c.replaceState(L,"",q),u&&p&&p({action:f,location:T.location,delta:0})}function b(R){let $=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof R=="string"?R:Hn(R);return U=U.replace(/ $/,"%20"),Re($,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,$)}let T={get action(){return f},get location(){return i(a,c)},listen(R){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(sf,y),p=R,()=>{a.removeEventListener(sf,y),p=null}},createHref(R){return r(a,R)},createURL:b,encodeLocation(R){let $=b(R);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:_,go(R){return c.go(R)}};return T}var $e;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})($e||($e={}));const Hv=new Set(["lazy","caseSensitive","path","id","index","children"]);function qv(i){return i.index===!0}function _a(i,r,n,o){return n===void 0&&(n=[]),o===void 0&&(o={}),i.map((a,u)=>{let c=[...n,String(u)],f=typeof a.id=="string"?a.id:c.join("-");if(Re(a.index!==!0||!a.children,"Cannot specify children on an index route"),Re(!o[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),qv(a)){let p=Xe({},a,r(a),{id:f});return o[f]=p,p}else{let p=Xe({},a,r(a),{id:f,children:void 0});return o[f]=p,a.children&&(p.children=_a(a.children,r,c,o)),p}})}function Mn(i,r,n){return n===void 0&&(n="/"),ga(i,r,n,!1)}function ga(i,r,n,o){let a=typeof r=="string"?fn(r):r,u=Di(a.pathname||"/",n);if(u==null)return null;let c=cp(i);Gv(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=sy(u);f=ny(c[p],g,o)}return f}function Kv(i,r){let{route:n,pathname:o,params:a}=i;return{id:n.id,pathname:o,params:a,data:r[n.id],handle:n.handle}}function cp(i,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Re(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=Lr([o,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Re(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),cp(u.children,r,v,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:ty(g,u.index),routesMeta:v})};return i.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,c);else for(let p of dp(u.path))a(u,c,p)}),r}function dp(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let c=dp(o.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),a&&f.push(...c),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function Gv(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:ry(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Jv=/^:[\w-]+$/,Qv=3,Yv=2,Xv=1,Zv=10,ey=-2,af=i=>i==="*";function ty(i,r){let n=i.split("/"),o=n.length;return n.some(af)&&(o+=ey),r&&(o+=Yv),n.filter(a=>!af(a)).reduce((a,u)=>a+(Jv.test(u)?Qv:u===""?Xv:Zv),o)}function ry(i,r){return i.length===r.length&&i.slice(0,-1).every((o,a)=>o===r[a])?i[i.length-1]-r[r.length-1]:0}function ny(i,r,n){n===void 0&&(n=!1);let{routesMeta:o}=i,a={},u="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],g=f===o.length-1,v=u==="/"?r:r.slice(u.length)||"/",y=lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!y&&g&&n&&!o[o.length-1].route.index&&(y=lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Lr([u,y.pathname]),pathnameBase:ly(Lr([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=Lr([u,y.pathnameBase]))}return c}function lf(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=iy(i.path,i.caseSensitive,i.end),a=r.match(n);if(!a)return null;let u=a[0],c=u.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:o.reduce((g,v,y)=>{let{paramName:w,isOptional:_}=v;if(w==="*"){let T=f[y]||"";c=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const b=f[y];return _&&!b?g[w]=void 0:g[w]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function iy(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Ai(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),o]}function sy(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ai(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function Di(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function oy(i,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:a=""}=typeof i=="string"?fn(i):i;return{pathname:n?n.startsWith("/")?n:ay(n,r):r,search:uy(o),hash:cy(a)}}function ay(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Tu(i,r,n,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hp(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function ac(i,r){let n=hp(i);return r?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function lc(i,r,n,o){o===void 0&&(o=!1);let a;typeof i=="string"?a=fn(i):(a=Xe({},i),Re(!a.pathname||!a.pathname.includes("?"),Tu("?","pathname","search",a)),Re(!a.pathname||!a.pathname.includes("#"),Tu("#","pathname","hash",a)),Re(!a.search||!a.search.includes("#"),Tu("#","search","hash",a)));let u=i===""||a.pathname==="",c=u?"/":a.pathname,f;if(c==null)f=n;else{let y=r.length-1;if(!o&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;a.pathname=w.join("/")}f=y>=0?r[y]:"/"}let p=oy(a,f),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}const Lr=i=>i.join("/").replace(/\/\/+/g,"/"),ly=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uy=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cy=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;class Sa{constructor(r,n,o,a){a===void 0&&(a=!1),this.status=r,this.statusText=n||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function Us(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const fp=["post","put","patch","delete"],dy=new Set(fp),hy=["get",...fp],fy=new Set(hy),py=new Set([301,302,303,307,308]),gy=new Set([307,308]),Ru={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},my={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vy=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),pp="remix-router-transitions";function yy(i){const r=i.window?i.window:typeof window<"u"?window:void 0,n=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",o=!n;Re(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(i.mapRouteProperties)a=i.mapRouteProperties;else if(i.detectErrorBoundary){let E=i.detectErrorBoundary;a=P=>({hasErrorBoundary:E(P)})}else a=vy;let u={},c=_a(i.routes,a,void 0,u),f,p=i.basename||"/",g=i.dataStrategy||Ey,v=i.patchRoutesOnNavigation,y=Xe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},i.future),w=null,_=new Set,b=null,T=null,R=null,$=i.hydrationData!=null,U=Mn(c,i.history.location,p),L=!1,q=null;if(U==null&&!v){let E=Dt(404,{pathname:i.history.location.pathname}),{matches:P,route:I}=wf(c);U=P,q={[I.id]:E}}U&&!i.hydrationData&&vn(U,c,i.history.location.pathname).active&&(U=null);let ie;if(U)if(U.some(E=>E.route.lazy))ie=!1;else if(!U.some(E=>E.route.loader))ie=!0;else if(y.v7_partialHydration){let E=i.hydrationData?i.hydrationData.loaderData:null,P=i.hydrationData?i.hydrationData.errors:null;if(P){let I=U.findIndex(B=>P[B.route.id]!==void 0);ie=U.slice(0,I+1).every(B=>!$u(B.route,E,P))}else ie=U.every(I=>!$u(I.route,E,P))}else ie=i.hydrationData!=null;else if(ie=!1,U=[],y.v7_partialHydration){let E=vn(null,c,i.history.location.pathname);E.active&&E.matches&&(L=!0,U=E.matches)}let Y,C={historyAction:i.history.action,location:i.history.location,matches:U,initialized:ie,navigation:Ru,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||q,fetchers:new Map,blockers:new Map},te=ot.Pop,Se=!1,ye,Je=!1,Le=new Map,Me=null,ze=!1,nt=!1,lt=[],Fe=new Set,H=new Map,de=0,J=-1,O=new Map,F=new Set,ve=new Map,Ee=new Map,we=new Set,ke=new Map,Oe=new Map,Pe;function Ve(){if(w=i.history.listen(E=>{let{action:P,location:I,delta:B}=E;if(Pe){Pe(),Pe=void 0;return}Ai(Oe.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Xn({currentLocation:C.location,nextLocation:I,historyAction:P});if(G&&B!=null){let ce=new Promise(pe=>{Pe=pe});i.history.go(B*-1),Fr(G,{state:"blocked",location:I,proceed(){Fr(G,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),ce.then(()=>i.history.go(B))},reset(){let pe=new Map(C.blockers);pe.set(G,xs),ht({blockers:pe})}});return}return dr(P,I)}),n){Dy(r,Le);let E=()=>Uy(r,Le);r.addEventListener("pagehide",E),Me=()=>r.removeEventListener("pagehide",E)}return C.initialized||dr(ot.Pop,C.location,{initialHydration:!0}),Y}function Rt(){w&&w(),Me&&Me(),_.clear(),ye&&ye.abort(),C.fetchers.forEach((E,P)=>fr(P)),C.blockers.forEach((E,P)=>Yn(P))}function Kn(E){return _.add(E),()=>_.delete(E)}function ht(E,P){P===void 0&&(P={}),C=Xe({},C,E);let I=[],B=[];y.v7_fetcherPersist&&C.fetchers.forEach((G,ce)=>{G.state==="idle"&&(we.has(ce)?B.push(ce):I.push(ce))}),we.forEach(G=>{!C.fetchers.has(G)&&!H.has(G)&&B.push(G)}),[..._].forEach(G=>G(C,{deletedFetchers:B,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),y.v7_fetcherPersist?(I.forEach(G=>C.fetchers.delete(G)),B.forEach(G=>fr(G))):B.forEach(G=>we.delete(G))}function Xt(E,P,I){var B,G;let{flushSync:ce}=I===void 0?{}:I,pe=C.actionData!=null&&C.navigation.formMethod!=null&&ur(C.navigation.formMethod)&&C.navigation.state==="loading"&&((B=E.state)==null?void 0:B._isRedirect)!==!0,re;P.actionData?Object.keys(P.actionData).length>0?re=P.actionData:re=null:pe?re=C.actionData:re=null;let se=P.loaderData?vf(C.loaderData,P.loaderData,P.matches||[],P.errors):C.loaderData,X=C.blockers;X.size>0&&(X=new Map(X),X.forEach((Te,ut)=>X.set(ut,xs)));let ee=Se===!0||C.navigation.formMethod!=null&&ur(C.navigation.formMethod)&&((G=E.state)==null?void 0:G._isRedirect)!==!0;f&&(c=f,f=void 0),ze||te===ot.Pop||(te===ot.Push?i.history.push(E,E.state):te===ot.Replace&&i.history.replace(E,E.state));let _e;if(te===ot.Pop){let Te=Le.get(C.location.pathname);Te&&Te.has(E.pathname)?_e={currentLocation:C.location,nextLocation:E}:Le.has(E.pathname)&&(_e={currentLocation:E,nextLocation:C.location})}else if(Je){let Te=Le.get(C.location.pathname);Te?Te.add(E.pathname):(Te=new Set([E.pathname]),Le.set(C.location.pathname,Te)),_e={currentLocation:C.location,nextLocation:E}}ht(Xe({},P,{actionData:re,loaderData:se,historyAction:te,location:E,initialized:!0,navigation:Ru,revalidation:"idle",restoreScrollPosition:Hi(E,P.matches||C.matches),preventScrollReset:ee,blockers:X}),{viewTransitionOpts:_e,flushSync:ce===!0}),te=ot.Pop,Se=!1,Je=!1,ze=!1,nt=!1,lt=[]}async function Gn(E,P){if(typeof E=="number"){i.history.go(E);return}let I=Uu(C.location,C.matches,p,y.v7_prependBasename,E,y.v7_relativeSplatPath,P?.fromRouteId,P?.relative),{path:B,submission:G,error:ce}=uf(y.v7_normalizeFormMethod,!1,I,P),pe=C.location,re=Ds(C.location,B,P&&P.state);re=Xe({},re,i.history.encodeLocation(re));let se=P&&P.replace!=null?P.replace:void 0,X=ot.Push;se===!0?X=ot.Replace:se===!1||G!=null&&ur(G.formMethod)&&G.formAction===C.location.pathname+C.location.search&&(X=ot.Replace);let ee=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,_e=(P&&P.flushSync)===!0,Te=Xn({currentLocation:pe,nextLocation:re,historyAction:X});if(Te){Fr(Te,{state:"blocked",location:re,proceed(){Fr(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Gn(E,P)},reset(){let ut=new Map(C.blockers);ut.set(Te,xs),ht({blockers:ut})}});return}return await dr(X,re,{submission:G,pendingError:ce,preventScrollReset:ee,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:_e})}function Hs(){if(mn(),ht({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){dr(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}dr(te||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:Je===!0})}}async function dr(E,P,I){ye&&ye.abort(),ye=null,te=E,ze=(I&&I.startUninterruptedRevalidation)===!0,Qs(C.location,C.matches),Se=(I&&I.preventScrollReset)===!0,Je=(I&&I.enableViewTransition)===!0;let B=f||c,G=I&&I.overrideNavigation,ce=I!=null&&I.initialHydration&&C.matches&&C.matches.length>0&&!L?C.matches:Mn(B,P,p),pe=(I&&I.flushSync)===!0;if(ce&&C.initialized&&!nt&&Oy(C.location,P)&&!(I&&I.submission&&ur(I.submission.formMethod))){Xt(P,{matches:ce},{flushSync:pe});return}let re=vn(ce,B,P.pathname);if(re.active&&re.matches&&(ce=re.matches),!ce){let{error:De,notFoundMatches:Ce,route:qe}=pr(P.pathname);Xt(P,{matches:Ce,loaderData:{},errors:{[qe.id]:De}},{flushSync:pe});return}ye=new AbortController;let se=Ei(i.history,P,ye.signal,I&&I.submission),X;if(I&&I.pendingError)X=[Fn(ce).route.id,{type:$e.error,error:I.pendingError}];else if(I&&I.submission&&ur(I.submission.formMethod)){let De=await Mi(se,P,I.submission,ce,re.active,{replace:I.replace,flushSync:pe});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ce,qe]=De.pendingActionResult;if(Vt(qe)&&Us(qe.error)&&qe.error.status===404){ye=null,Xt(P,{matches:De.matches,loaderData:{},errors:{[Ce]:qe.error}});return}}ce=De.matches||ce,X=De.pendingActionResult,G=xu(P,I.submission),pe=!1,re.active=!1,se=Ei(i.history,se.url,se.signal)}let{shortCircuited:ee,matches:_e,loaderData:Te,errors:ut}=await qs(se,P,ce,re.active,G,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,pe,X);ee||(ye=null,Xt(P,Xe({matches:_e||ce},yf(X),{loaderData:Te,errors:ut})))}async function Mi(E,P,I,B,G,ce){ce===void 0&&(ce={}),mn();let pe=Iy(P,I);if(ht({navigation:pe},{flushSync:ce.flushSync===!0}),G){let X=await Br(B,P.pathname,E.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let ee=Fn(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[ee,{type:$e.error,error:X.error}]}}else if(X.matches)B=X.matches;else{let{notFoundMatches:ee,error:_e,route:Te}=pr(P.pathname);return{matches:ee,pendingActionResult:[Te.id,{type:$e.error,error:_e}]}}}let re,se=Ns(B,P);if(!se.route.action&&!se.route.lazy)re={type:$e.error,error:Dt(405,{method:E.method,pathname:P.pathname,routeId:se.route.id})};else if(re=(await $r("action",C,E,[se],B,null))[se.route.id],E.signal.aborted)return{shortCircuited:!0};if(Vn(re)){let X;return ce&&ce.replace!=null?X=ce.replace:X=pf(re.response.headers.get("Location"),new URL(E.url),p)===C.location.pathname+C.location.search,await hr(E,re,!0,{submission:I,replace:X}),{shortCircuited:!0}}if(hn(re))throw Dt(400,{type:"defer-action"});if(Vt(re)){let X=Fn(B,se.route.id);return(ce&&ce.replace)!==!0&&(te=ot.Push),{matches:B,pendingActionResult:[X.route.id,re]}}return{matches:B,pendingActionResult:[se.route.id,re]}}async function qs(E,P,I,B,G,ce,pe,re,se,X,ee){let _e=G||xu(P,ce),Te=ce||pe||Sf(_e),ut=!ze&&(!y.v7_partialHydration||!se);if(B){if(ut){let Be=Jn(ee);ht(Xe({navigation:_e},Be!==void 0?{actionData:Be}:{}),{flushSync:X})}let xe=await Br(I,P.pathname,E.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Be=Fn(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Be]:xe.error}}}else if(xe.matches)I=xe.matches;else{let{error:Be,notFoundMatches:mt,route:_n}=pr(P.pathname);return{matches:mt,loaderData:{},errors:{[_n.id]:Be}}}}let De=f||c,[Ce,qe]=df(i.history,C,I,Te,P,y.v7_partialHydration&&se===!0,y.v7_skipActionErrorRevalidation,nt,lt,Fe,we,ve,F,De,p,ee);if(gr(xe=>!(I&&I.some(Be=>Be.route.id===xe))||Ce&&Ce.some(Be=>Be.route.id===xe)),J=++de,Ce.length===0&&qe.length===0){let xe=Gs();return Xt(P,Xe({matches:I,loaderData:{},errors:ee&&Vt(ee[1])?{[ee[0]]:ee[1].error}:null},yf(ee),xe?{fetchers:new Map(C.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(ut){let xe={};if(!B){xe.navigation=_e;let Be=Jn(ee);Be!==void 0&&(xe.actionData=Be)}qe.length>0&&(xe.fetchers=gn(qe)),ht(xe,{flushSync:X})}qe.forEach(xe=>{Zt(xe.key),xe.controller&&H.set(xe.key,xe.controller)});let Er=()=>qe.forEach(xe=>Zt(xe.key));ye&&ye.signal.addEventListener("abort",Er);let{loaderResults:wn,fetcherResults:er}=await Bi(C,I,Ce,qe,E);if(E.signal.aborted)return{shortCircuited:!0};ye&&ye.signal.removeEventListener("abort",Er),qe.forEach(xe=>H.delete(xe.key));let Ae=ia(wn);if(Ae)return await hr(E,Ae.result,!0,{replace:re}),{shortCircuited:!0};if(Ae=ia(er),Ae)return F.add(Ae.key),await hr(E,Ae.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:qi,errors:kr}=mf(C,I,wn,ee,qe,er,ke);ke.forEach((xe,Be)=>{xe.subscribe(mt=>{(mt||xe.done)&&ke.delete(Be)})}),y.v7_partialHydration&&se&&C.errors&&(kr=Xe({},C.errors,kr));let mr=Gs(),br=Qn(J),Zn=mr||br||qe.length>0;return Xe({matches:I,loaderData:qi,errors:kr},Zn?{fetchers:new Map(C.fetchers)}:{})}function Jn(E){if(E&&!Vt(E[1]))return{[E[0]]:E[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function gn(E){return E.forEach(P=>{let I=C.fetchers.get(P.key),B=Os(void 0,I?I.data:void 0);C.fetchers.set(P.key,B)}),new Map(C.fetchers)}function Ur(E,P,I,B){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zt(E);let G=(B&&B.flushSync)===!0,ce=f||c,pe=Uu(C.location,C.matches,p,y.v7_prependBasename,I,y.v7_relativeSplatPath,P,B?.relative),re=Mn(ce,pe,p),se=vn(re,ce,pe);if(se.active&&se.matches&&(re=se.matches),!re){Ht(E,P,Dt(404,{pathname:pe}),{flushSync:G});return}let{path:X,submission:ee,error:_e}=uf(y.v7_normalizeFormMethod,!0,pe,B);if(_e){Ht(E,P,_e,{flushSync:G});return}let Te=Ns(re,X),ut=(B&&B.preventScrollReset)===!0;if(ee&&ur(ee.formMethod)){Fi(E,P,X,Te,re,se.active,G,ut,ee);return}ve.set(E,{routeId:P,path:X}),Ks(E,P,X,Te,re,se.active,G,ut,ee)}async function Fi(E,P,I,B,G,ce,pe,re,se){mn(),ve.delete(E);function X(Ne){if(!Ne.route.action&&!Ne.route.lazy){let zr=Dt(405,{method:se.formMethod,pathname:I,routeId:P});return Ht(E,P,zr,{flushSync:pe}),!0}return!1}if(!ce&&X(B))return;let ee=C.fetchers.get(E);$t(E,Ly(se,ee),{flushSync:pe});let _e=new AbortController,Te=Ei(i.history,I,_e.signal,se);if(ce){let Ne=await Br(G,new URL(Te.url).pathname,Te.signal,E);if(Ne.type==="aborted")return;if(Ne.type==="error"){Ht(E,P,Ne.error,{flushSync:pe});return}else if(Ne.matches){if(G=Ne.matches,B=Ns(G,I),X(B))return}else{Ht(E,P,Dt(404,{pathname:I}),{flushSync:pe});return}}H.set(E,_e);let ut=de,Ce=(await $r("action",C,Te,[B],G,E))[B.route.id];if(Te.signal.aborted){H.get(E)===_e&&H.delete(E);return}if(y.v7_fetcherPersist&&we.has(E)){if(Vn(Ce)||Vt(Ce)){$t(E,un(void 0));return}}else{if(Vn(Ce))if(H.delete(E),J>ut){$t(E,un(void 0));return}else return F.add(E),$t(E,Os(se)),hr(Te,Ce,!1,{fetcherSubmission:se,preventScrollReset:re});if(Vt(Ce)){Ht(E,P,Ce.error);return}}if(hn(Ce))throw Dt(400,{type:"defer-action"});let qe=C.navigation.location||C.location,Er=Ei(i.history,qe,_e.signal),wn=f||c,er=C.navigation.state!=="idle"?Mn(wn,C.navigation.location,p):C.matches;Re(er,"Didn't find any matches after fetcher action");let Ae=++de;O.set(E,Ae);let qi=Os(se,Ce.data);C.fetchers.set(E,qi);let[kr,mr]=df(i.history,C,er,se,qe,!1,y.v7_skipActionErrorRevalidation,nt,lt,Fe,we,ve,F,wn,p,[B.route.id,Ce]);mr.filter(Ne=>Ne.key!==E).forEach(Ne=>{let zr=Ne.key,Xs=C.fetchers.get(zr),Fa=Os(void 0,Xs?Xs.data:void 0);C.fetchers.set(zr,Fa),Zt(zr),Ne.controller&&H.set(zr,Ne.controller)}),ht({fetchers:new Map(C.fetchers)});let br=()=>mr.forEach(Ne=>Zt(Ne.key));_e.signal.addEventListener("abort",br);let{loaderResults:Zn,fetcherResults:xe}=await Bi(C,er,kr,mr,Er);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",br),O.delete(E),H.delete(E),mr.forEach(Ne=>H.delete(Ne.key));let Be=ia(Zn);if(Be)return hr(Er,Be.result,!1,{preventScrollReset:re});if(Be=ia(xe),Be)return F.add(Be.key),hr(Er,Be.result,!1,{preventScrollReset:re});let{loaderData:mt,errors:_n}=mf(C,er,Zn,void 0,mr,xe,ke);if(C.fetchers.has(E)){let Ne=un(Ce.data);C.fetchers.set(E,Ne)}Qn(Ae),C.navigation.state==="loading"&&Ae>J?(Re(te,"Expected pending action"),ye&&ye.abort(),Xt(C.navigation.location,{matches:er,loaderData:mt,errors:_n,fetchers:new Map(C.fetchers)})):(ht({errors:_n,loaderData:vf(C.loaderData,mt,er,_n),fetchers:new Map(C.fetchers)}),nt=!1)}async function Ks(E,P,I,B,G,ce,pe,re,se){let X=C.fetchers.get(E);$t(E,Os(se,X?X.data:void 0),{flushSync:pe});let ee=new AbortController,_e=Ei(i.history,I,ee.signal);if(ce){let Ce=await Br(G,new URL(_e.url).pathname,_e.signal,E);if(Ce.type==="aborted")return;if(Ce.type==="error"){Ht(E,P,Ce.error,{flushSync:pe});return}else if(Ce.matches)G=Ce.matches,B=Ns(G,I);else{Ht(E,P,Dt(404,{pathname:I}),{flushSync:pe});return}}H.set(E,ee);let Te=de,De=(await $r("loader",C,_e,[B],G,E))[B.route.id];if(hn(De)&&(De=await cc(De,_e.signal,!0)||De),H.get(E)===ee&&H.delete(E),!_e.signal.aborted){if(we.has(E)){$t(E,un(void 0));return}if(Vn(De))if(J>Te){$t(E,un(void 0));return}else{F.add(E),await hr(_e,De,!1,{preventScrollReset:re});return}if(Vt(De)){Ht(E,P,De.error);return}Re(!hn(De),"Unhandled fetcher deferred data"),$t(E,un(De.data))}}async function hr(E,P,I,B){let{submission:G,fetcherSubmission:ce,preventScrollReset:pe,replace:re}=B===void 0?{}:B;P.response.headers.has("X-Remix-Revalidate")&&(nt=!0);let se=P.response.headers.get("Location");Re(se,"Expected a Location header on the redirect Response"),se=pf(se,new URL(E.url),p);let X=Ds(C.location,se,{_isRedirect:!0});if(n){let Ce=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(uc.test(se)){const qe=i.history.createURL(se);Ce=qe.origin!==r.location.origin||Di(qe.pathname,p)==null}if(Ce){re?r.location.replace(se):r.location.assign(se);return}}ye=null;let ee=re===!0||P.response.headers.has("X-Remix-Replace")?ot.Replace:ot.Push,{formMethod:_e,formAction:Te,formEncType:ut}=C.navigation;!G&&!ce&&_e&&Te&&ut&&(G=Sf(C.navigation));let De=G||ce;if(gy.has(P.response.status)&&De&&ur(De.formMethod))await dr(ee,X,{submission:Xe({},De,{formAction:se}),preventScrollReset:pe||Se,enableViewTransition:I?Je:void 0});else{let Ce=xu(X,G);await dr(ee,X,{overrideNavigation:Ce,fetcherSubmission:ce,preventScrollReset:pe||Se,enableViewTransition:I?Je:void 0})}}async function $r(E,P,I,B,G,ce){let pe,re={};try{pe=await ky(g,E,P,I,B,G,ce,u,a)}catch(se){return B.forEach(X=>{re[X.route.id]={type:$e.error,error:se}}),re}for(let[se,X]of Object.entries(pe))if(Py(X)){let ee=X.result;re[se]={type:$e.redirect,response:Ry(ee,I,se,G,p,y.v7_relativeSplatPath)}}else re[se]=await Ty(X);return re}async function Bi(E,P,I,B,G){let ce=E.matches,pe=$r("loader",E,G,I,P,null),re=Promise.all(B.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let Te=(await $r("loader",E,Ei(i.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:Te}}else return Promise.resolve({[ee.key]:{type:$e.error,error:Dt(404,{pathname:ee.path})}})})),se=await pe,X=(await re).reduce((ee,_e)=>Object.assign(ee,_e),{});return await Promise.all([Ay(P,se,G.signal,ce,E.loaderData),Ny(P,X,B)]),{loaderResults:se,fetcherResults:X}}function mn(){nt=!0,lt.push(...gr()),ve.forEach((E,P)=>{H.has(P)&&Fe.add(P),Zt(P)})}function $t(E,P,I){I===void 0&&(I={}),C.fetchers.set(E,P),ht({fetchers:new Map(C.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Ht(E,P,I,B){B===void 0&&(B={});let G=Fn(C.matches,P);fr(E),ht({errors:{[G.route.id]:I},fetchers:new Map(C.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Mr(E){return Ee.set(E,(Ee.get(E)||0)+1),we.has(E)&&we.delete(E),C.fetchers.get(E)||my}function fr(E){let P=C.fetchers.get(E);H.has(E)&&!(P&&P.state==="loading"&&O.has(E))&&Zt(E),ve.delete(E),O.delete(E),F.delete(E),y.v7_fetcherPersist&&we.delete(E),Fe.delete(E),C.fetchers.delete(E)}function Ma(E){let P=(Ee.get(E)||0)-1;P<=0?(Ee.delete(E),we.add(E),y.v7_fetcherPersist||fr(E)):Ee.set(E,P),ht({fetchers:new Map(C.fetchers)})}function Zt(E){let P=H.get(E);P&&(P.abort(),H.delete(E))}function zi(E){for(let P of E){let I=Mr(P),B=un(I.data);C.fetchers.set(P,B)}}function Gs(){let E=[],P=!1;for(let I of F){let B=C.fetchers.get(I);Re(B,"Expected fetcher: "+I),B.state==="loading"&&(F.delete(I),E.push(I),P=!0)}return zi(E),P}function Qn(E){let P=[];for(let[I,B]of O)if(B<E){let G=C.fetchers.get(I);Re(G,"Expected fetcher: "+I),G.state==="loading"&&(Zt(I),O.delete(I),P.push(I))}return zi(P),P.length>0}function Vi(E,P){let I=C.blockers.get(E)||xs;return Oe.get(E)!==P&&Oe.set(E,P),I}function Yn(E){C.blockers.delete(E),Oe.delete(E)}function Fr(E,P){let I=C.blockers.get(E)||xs;Re(I.state==="unblocked"&&P.state==="blocked"||I.state==="blocked"&&P.state==="blocked"||I.state==="blocked"&&P.state==="proceeding"||I.state==="blocked"&&P.state==="unblocked"||I.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+P.state);let B=new Map(C.blockers);B.set(E,P),ht({blockers:B})}function Xn(E){let{currentLocation:P,nextLocation:I,historyAction:B}=E;if(Oe.size===0)return;Oe.size>1&&Ai(!1,"A router only supports one blocker at a time");let G=Array.from(Oe.entries()),[ce,pe]=G[G.length-1],re=C.blockers.get(ce);if(!(re&&re.state==="proceeding")&&pe({currentLocation:P,nextLocation:I,historyAction:B}))return ce}function pr(E){let P=Dt(404,{pathname:E}),I=f||c,{matches:B,route:G}=wf(I);return gr(),{notFoundMatches:B,route:G,error:P}}function gr(E){let P=[];return ke.forEach((I,B)=>{(!E||E(B))&&(I.cancel(),P.push(B),ke.delete(B))}),P}function Js(E,P,I){if(b=E,R=P,T=I||null,!$&&C.navigation===Ru){$=!0;let B=Hi(C.location,C.matches);B!=null&&ht({restoreScrollPosition:B})}return()=>{b=null,R=null,T=null}}function Wi(E,P){return T&&T(E,P.map(B=>Kv(B,C.loaderData)))||E.key}function Qs(E,P){if(b&&R){let I=Wi(E,P);b[I]=R()}}function Hi(E,P){if(b){let I=Wi(E,P),B=b[I];if(typeof B=="number")return B}return null}function vn(E,P,I){if(v)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:ga(P,I,p,!0)}}else return{active:!0,matches:ga(P,I,p,!0)||[]};return{active:!1,matches:null}}async function Br(E,P,I,B){if(!v)return{type:"success",matches:E};let G=E;for(;;){let ce=f==null,pe=f||c,re=u;try{await v({signal:I,path:P,matches:G,fetcherKey:B,patch:(ee,_e)=>{I.aborted||ff(ee,_e,pe,re,a)}})}catch(ee){return{type:"error",error:ee,partialMatches:G}}finally{ce&&!I.aborted&&(c=[...c])}if(I.aborted)return{type:"aborted"};let se=Mn(pe,P,p);if(se)return{type:"success",matches:se};let X=ga(pe,P,p,!0);if(!X||G.length===X.length&&G.every((ee,_e)=>ee.route.id===X[_e].route.id))return{type:"success",matches:null};G=X}}function Ys(E){u={},f=_a(E,a,void 0,u)}function yn(E,P){let I=f==null;ff(E,P,f||c,u,a),I&&(c=[...c],ht({}))}return Y={get basename(){return p},get future(){return y},get state(){return C},get routes(){return c},get window(){return r},initialize:Ve,subscribe:Kn,enableScrollRestoration:Js,navigate:Gn,fetch:Ur,revalidate:Hs,createHref:E=>i.history.createHref(E),encodeLocation:E=>i.history.encodeLocation(E),getFetcher:Mr,deleteFetcher:Ma,dispose:Rt,getBlocker:Vi,deleteBlocker:Yn,patchRoutes:yn,_internalFetchControllers:H,_internalActiveDeferreds:ke,_internalSetRoutes:Ys},Y}function wy(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Uu(i,r,n,o,a,u,c,f){let p,g;if(c){p=[];for(let y of r)if(p.push(y),y.route.id===c){g=y;break}}else p=r,g=r[r.length-1];let v=lc(a||".",ac(p,u),Di(i.pathname,n)||i.pathname,f==="path");if(a==null&&(v.search=i.search,v.hash=i.hash),(a==null||a===""||a===".")&&g){let y=dc(v.search);if(g.route.index&&!y)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&y){let w=new URLSearchParams(v.search),_=w.getAll("index");w.delete("index"),_.filter(T=>T).forEach(T=>w.append("index",T));let b=w.toString();v.search=b?"?"+b:""}}return o&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Lr([n,v.pathname])),Hn(v)}function uf(i,r,n,o){if(!o||!wy(o))return{path:n};if(o.formMethod&&!jy(o.formMethod))return{path:n,error:Dt(405,{method:o.formMethod})};let a=()=>({path:n,error:Dt(400,{type:"invalid-body"})}),u=o.formMethod||"get",c=i?u.toUpperCase():u.toLowerCase(),f=vp(n);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!ur(c))return a();let w=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((_,b)=>{let[T,R]=b;return""+_+T+"="+R+`
`},""):String(o.body);return{path:n,submission:{formMethod:c,formAction:f,formEncType:o.formEncType,formData:void 0,json:void 0,text:w}}}else if(o.formEncType==="application/json"){if(!ur(c))return a();try{let w=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:n,submission:{formMethod:c,formAction:f,formEncType:o.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Re(typeof FormData=="function","FormData is not available in this environment");let p,g;if(o.formData)p=Mu(o.formData),g=o.formData;else if(o.body instanceof FormData)p=Mu(o.body),g=o.body;else if(o.body instanceof URLSearchParams)p=o.body,g=gf(p);else if(o.body==null)p=new URLSearchParams,g=new FormData;else try{p=new URLSearchParams(o.body),g=gf(p)}catch{return a()}let v={formMethod:c,formAction:f,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(ur(v.formMethod))return{path:n,submission:v};let y=fn(n);return r&&y.search&&dc(y.search)&&p.append("index",""),y.search="?"+p,{path:Hn(y),submission:v}}function cf(i,r,n){n===void 0&&(n=!1);let o=i.findIndex(a=>a.route.id===r);return o>=0?i.slice(0,n?o+1:o):i}function df(i,r,n,o,a,u,c,f,p,g,v,y,w,_,b,T){let R=T?Vt(T[1])?T[1].error:T[1].data:void 0,$=i.createURL(r.location),U=i.createURL(a),L=n;u&&r.errors?L=cf(n,Object.keys(r.errors)[0],!0):T&&Vt(T[1])&&(L=cf(n,T[0]));let q=T?T[1].statusCode:void 0,ie=c&&q&&q>=400,Y=L.filter((te,Se)=>{let{route:ye}=te;if(ye.lazy)return!0;if(ye.loader==null)return!1;if(u)return $u(ye,r.loaderData,r.errors);if(_y(r.loaderData,r.matches[Se],te)||p.some(Me=>Me===te.route.id))return!0;let Je=r.matches[Se],Le=te;return hf(te,Xe({currentUrl:$,currentParams:Je.params,nextUrl:U,nextParams:Le.params},o,{actionResult:R,actionStatus:q,defaultShouldRevalidate:ie?!1:f||$.pathname+$.search===U.pathname+U.search||$.search!==U.search||gp(Je,Le)}))}),C=[];return y.forEach((te,Se)=>{if(u||!n.some(ze=>ze.route.id===te.routeId)||v.has(Se))return;let ye=Mn(_,te.path,b);if(!ye){C.push({key:Se,routeId:te.routeId,path:te.path,matches:null,match:null,controller:null});return}let Je=r.fetchers.get(Se),Le=Ns(ye,te.path),Me=!1;w.has(Se)?Me=!1:g.has(Se)?(g.delete(Se),Me=!0):Je&&Je.state!=="idle"&&Je.data===void 0?Me=f:Me=hf(Le,Xe({currentUrl:$,currentParams:r.matches[r.matches.length-1].params,nextUrl:U,nextParams:n[n.length-1].params},o,{actionResult:R,actionStatus:q,defaultShouldRevalidate:ie?!1:f})),Me&&C.push({key:Se,routeId:te.routeId,path:te.path,matches:ye,match:Le,controller:new AbortController})}),[Y,C]}function $u(i,r,n){if(i.lazy)return!0;if(!i.loader)return!1;let o=r!=null&&r[i.id]!==void 0,a=n!=null&&n[i.id]!==void 0;return!o&&a?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!o&&!a}function _y(i,r,n){let o=!r||n.route.id!==r.route.id,a=i[n.route.id]===void 0;return o||a}function gp(i,r){let n=i.route.path;return i.pathname!==r.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==r.params["*"]}function hf(i,r){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(r);if(typeof n=="boolean")return n}return r.defaultShouldRevalidate}function ff(i,r,n,o,a){var u;let c;if(i){let g=o[i];Re(g,"No route found to patch children into: routeId = "+i),g.children||(g.children=[]),c=g.children}else c=n;let f=r.filter(g=>!c.some(v=>mp(g,v))),p=_a(f,a,[i||"_","patch",String(((u=c)==null?void 0:u.length)||"0")],o);c.push(...p)}function mp(i,r){return"id"in i&&"id"in r&&i.id===r.id?!0:i.index===r.index&&i.path===r.path&&i.caseSensitive===r.caseSensitive?(!i.children||i.children.length===0)&&(!r.children||r.children.length===0)?!0:i.children.every((n,o)=>{var a;return(a=r.children)==null?void 0:a.some(u=>mp(n,u))}):!1}async function Sy(i,r,n){if(!i.lazy)return;let o=await i.lazy();if(!i.lazy)return;let a=n[i.id];Re(a,"No route found in manifest");let u={};for(let c in o){let p=a[c]!==void 0&&c!=="hasErrorBoundary";Ai(!p,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!Hv.has(c)&&(u[c]=o[c])}Object.assign(a,u),Object.assign(a,Xe({},r(a),{lazy:void 0}))}async function Ey(i){let{matches:r}=i,n=r.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,u,c)=>Object.assign(a,{[n[c].route.id]:u}),{})}async function ky(i,r,n,o,a,u,c,f,p,g){let v=u.map(_=>_.route.lazy?Sy(_.route,p,f):void 0),y=u.map((_,b)=>{let T=v[b],R=a.some(U=>U.route.id===_.route.id);return Xe({},_,{shouldLoad:R,resolve:async U=>(U&&o.method==="GET"&&(_.route.lazy||_.route.loader)&&(R=!0),R?by(r,o,_,T,U,g):Promise.resolve({type:$e.data,result:void 0}))})}),w=await i({matches:y,request:o,params:u[0].params,fetcherKey:c,context:g});try{await Promise.all(v)}catch{}return w}async function by(i,r,n,o,a,u){let c,f,p=g=>{let v,y=new Promise((b,T)=>v=T);f=()=>v(),r.signal.addEventListener("abort",f);let w=b=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+i+'" [routeId: '+n.route.id+"]"))):g({request:r,params:n.params,context:u},...b!==void 0?[b]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(T=>w(T)):w())}}catch(b){return{type:"error",result:b}}})();return Promise.race([_,y])};try{let g=n.route[i];if(o)if(g){let v,[y]=await Promise.all([p(g).catch(w=>{v=w}),o]);if(v!==void 0)throw v;c=y}else if(await o,g=n.route[i],g)c=await p(g);else if(i==="action"){let v=new URL(r.url),y=v.pathname+v.search;throw Dt(405,{method:r.method,pathname:y,routeId:n.route.id})}else return{type:$e.data,result:void 0};else if(g)c=await p(g);else{let v=new URL(r.url),y=v.pathname+v.search;throw Dt(404,{pathname:y})}Re(c.result!==void 0,"You defined "+(i==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+i+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:$e.error,result:g}}finally{f&&r.signal.removeEventListener("abort",f)}return c}async function Ty(i){let{result:r,type:n}=i;if(yp(r)){let y;try{let w=r.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?r.body==null?y=null:y=await r.json():y=await r.text()}catch(w){return{type:$e.error,error:w}}return n===$e.error?{type:$e.error,error:new Sa(r.status,r.statusText,y),statusCode:r.status,headers:r.headers}:{type:$e.data,data:y,statusCode:r.status,headers:r.headers}}if(n===$e.error){if(_f(r)){var o,a;if(r.data instanceof Error){var u,c;return{type:$e.error,error:r.data,statusCode:(u=r.init)==null?void 0:u.status,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}}return{type:$e.error,error:new Sa(((o=r.init)==null?void 0:o.status)||500,void 0,r.data),statusCode:Us(r)?r.status:void 0,headers:(a=r.init)!=null&&a.headers?new Headers(r.init.headers):void 0}}return{type:$e.error,error:r,statusCode:Us(r)?r.status:void 0}}if(Cy(r)){var f,p;return{type:$e.deferred,deferredData:r,statusCode:(f=r.init)==null?void 0:f.status,headers:((p=r.init)==null?void 0:p.headers)&&new Headers(r.init.headers)}}if(_f(r)){var g,v;return{type:$e.data,data:r.data,statusCode:(g=r.init)==null?void 0:g.status,headers:(v=r.init)!=null&&v.headers?new Headers(r.init.headers):void 0}}return{type:$e.data,data:r}}function Ry(i,r,n,o,a,u){let c=i.headers.get("Location");if(Re(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!uc.test(c)){let f=o.slice(0,o.findIndex(p=>p.route.id===n)+1);c=Uu(new URL(r.url),f,a,!0,c,u),i.headers.set("Location",c)}return i}function pf(i,r,n){if(uc.test(i)){let o=i,a=o.startsWith("//")?new URL(r.protocol+o):new URL(o),u=Di(a.pathname,n)!=null;if(a.origin===r.origin&&u)return a.pathname+a.search+a.hash}return i}function Ei(i,r,n,o){let a=i.createURL(vp(r)).toString(),u={signal:n};if(o&&ur(o.formMethod)){let{formMethod:c,formEncType:f}=o;u.method=c.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(o.json)):f==="text/plain"?u.body=o.text:f==="application/x-www-form-urlencoded"&&o.formData?u.body=Mu(o.formData):u.body=o.formData}return new Request(a,u)}function Mu(i){let r=new URLSearchParams;for(let[n,o]of i.entries())r.append(n,typeof o=="string"?o:o.name);return r}function gf(i){let r=new FormData;for(let[n,o]of i.entries())r.append(n,o);return r}function xy(i,r,n,o,a){let u={},c=null,f,p=!1,g={},v=n&&Vt(n[1])?n[1].error:void 0;return i.forEach(y=>{if(!(y.route.id in r))return;let w=y.route.id,_=r[w];if(Re(!Vn(_),"Cannot handle redirect results in processLoaderData"),Vt(_)){let b=_.error;v!==void 0&&(b=v,v=void 0),c=c||{};{let T=Fn(i,w);c[T.route.id]==null&&(c[T.route.id]=b)}u[w]=void 0,p||(p=!0,f=Us(_.error)?_.error.status:500),_.headers&&(g[w]=_.headers)}else hn(_)?(o.set(w,_.deferredData),u[w]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!p&&(f=_.statusCode),_.headers&&(g[w]=_.headers)):(u[w]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(f=_.statusCode),_.headers&&(g[w]=_.headers))}),v!==void 0&&n&&(c={[n[0]]:v},u[n[0]]=void 0),{loaderData:u,errors:c,statusCode:f||200,loaderHeaders:g}}function mf(i,r,n,o,a,u,c){let{loaderData:f,errors:p}=xy(r,n,o,c);return a.forEach(g=>{let{key:v,match:y,controller:w}=g,_=u[v];if(Re(_,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Vt(_)){let b=Fn(i.matches,y?.route.id);p&&p[b.route.id]||(p=Xe({},p,{[b.route.id]:_.error})),i.fetchers.delete(v)}else if(Vn(_))Re(!1,"Unhandled fetcher revalidation redirect");else if(hn(_))Re(!1,"Unhandled fetcher deferred data");else{let b=un(_.data);i.fetchers.set(v,b)}}),{loaderData:f,errors:p}}function vf(i,r,n,o){let a=Xe({},r);for(let u of n){let c=u.route.id;if(r.hasOwnProperty(c)?r[c]!==void 0&&(a[c]=r[c]):i[c]!==void 0&&u.route.loader&&(a[c]=i[c]),o&&o.hasOwnProperty(c))break}return a}function yf(i){return i?Vt(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Fn(i,r){return(r?i.slice(0,i.findIndex(o=>o.route.id===r)+1):[...i]).reverse().find(o=>o.route.hasErrorBoundary===!0)||i[0]}function wf(i){let r=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function Dt(i,r){let{pathname:n,routeId:o,method:a,type:u,message:c}=r===void 0?{}:r,f="Unknown Server Error",p="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&n&&o?p="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":u==="defer-action"?p="defer() is not supported in actions":u==="invalid-body"&&(p="Unable to encode submission body")):i===403?(f="Forbidden",p='Route "'+o+'" does not match URL "'+n+'"'):i===404?(f="Not Found",p='No route matches URL "'+n+'"'):i===405&&(f="Method Not Allowed",a&&n&&o?p="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":a&&(p='Invalid request method "'+a.toUpperCase()+'"')),new Sa(i||500,f,new Error(p),!0)}function ia(i){let r=Object.entries(i);for(let n=r.length-1;n>=0;n--){let[o,a]=r[n];if(Vn(a))return{key:o,result:a}}}function vp(i){let r=typeof i=="string"?fn(i):i;return Hn(Xe({},r,{hash:""}))}function Oy(i,r){return i.pathname!==r.pathname||i.search!==r.search?!1:i.hash===""?r.hash!=="":i.hash===r.hash?!0:r.hash!==""}function Py(i){return yp(i.result)&&py.has(i.result.status)}function hn(i){return i.type===$e.deferred}function Vt(i){return i.type===$e.error}function Vn(i){return(i&&i.type)===$e.redirect}function _f(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Cy(i){let r=i;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function yp(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function jy(i){return fy.has(i.toLowerCase())}function ur(i){return dy.has(i.toLowerCase())}async function Ay(i,r,n,o,a){let u=Object.entries(r);for(let c=0;c<u.length;c++){let[f,p]=u[c],g=i.find(w=>w?.route.id===f);if(!g)continue;let v=o.find(w=>w.route.id===g.route.id),y=v!=null&&!gp(v,g)&&(a&&a[g.route.id])!==void 0;hn(p)&&y&&await cc(p,n,!1).then(w=>{w&&(r[f]=w)})}}async function Ny(i,r,n){for(let o=0;o<n.length;o++){let{key:a,routeId:u,controller:c}=n[o],f=r[a];i.find(g=>g?.route.id===u)&&hn(f)&&(Re(c,"Expected an AbortController for revalidating fetcher deferred result"),await cc(f,c.signal,!0).then(g=>{g&&(r[a]=g)}))}}async function cc(i,r,n){if(n===void 0&&(n=!1),!await i.deferredData.resolveData(r)){if(n)try{return{type:$e.data,data:i.deferredData.unwrappedData}}catch(a){return{type:$e.error,error:a}}return{type:$e.data,data:i.deferredData.data}}}function dc(i){return new URLSearchParams(i).getAll("index").some(r=>r==="")}function Ns(i,r){let n=typeof r=="string"?fn(r).search:r.search;if(i[i.length-1].route.index&&dc(n||""))return i[i.length-1];let o=hp(i);return o[o.length-1]}function Sf(i){let{formMethod:r,formAction:n,formEncType:o,text:a,formData:u,json:c}=i;if(!(!r||!n||!o)){if(a!=null)return{formMethod:r,formAction:n,formEncType:o,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:r,formAction:n,formEncType:o,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:r,formAction:n,formEncType:o,formData:void 0,json:c,text:void 0}}}function xu(i,r){return r?{state:"loading",location:i,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Iy(i,r){return{state:"submitting",location:i,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Os(i,r){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Ly(i,r){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:r?r.data:void 0}}function un(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Dy(i,r){try{let n=i.sessionStorage.getItem(pp);if(n){let o=JSON.parse(n);for(let[a,u]of Object.entries(o||{}))u&&Array.isArray(u)&&r.set(a,new Set(u||[]))}}catch{}}function Uy(i,r){if(r.size>0){let n={};for(let[o,a]of r)n[o]=[...a];try{i.sessionStorage.setItem(pp,JSON.stringify(n))}catch(o){Ai(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}function Ea(){return Ea=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Ea.apply(this,arguments)}const Na=M.createContext(null),wp=M.createContext(null),qn=M.createContext(null),hc=M.createContext(null),pn=M.createContext({outlet:null,matches:[],isDataRoute:!1}),_p=M.createContext(null);function $y(i,r){let{relative:n}=r===void 0?{}:r;zs()||Re(!1);let{basename:o,navigator:a}=M.useContext(qn),{hash:u,pathname:c,search:f}=Ep(i,{relative:n}),p=c;return o!=="/"&&(p=c==="/"?o:Lr([o,c])),a.createHref({pathname:p,search:f,hash:u})}function zs(){return M.useContext(hc)!=null}function Ui(){return zs()||Re(!1),M.useContext(hc).location}function Sp(i){M.useContext(qn).static||M.useLayoutEffect(i)}function fc(){let{isDataRoute:i}=M.useContext(pn);return i?Xy():My()}function My(){zs()||Re(!1);let i=M.useContext(Na),{basename:r,future:n,navigator:o}=M.useContext(qn),{matches:a}=M.useContext(pn),{pathname:u}=Ui(),c=JSON.stringify(ac(a,n.v7_relativeSplatPath)),f=M.useRef(!1);return Sp(()=>{f.current=!0}),M.useCallback(function(g,v){if(v===void 0&&(v={}),!f.current)return;if(typeof g=="number"){o.go(g);return}let y=lc(g,JSON.parse(c),u,v.relative==="path");i==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Lr([r,y.pathname])),(v.replace?o.replace:o.push)(y,v.state,v)},[r,o,c,u,i])}const Fy=M.createContext(null);function By(i){let r=M.useContext(pn).outlet;return r&&M.createElement(Fy.Provider,{value:i},r)}function Ep(i,r){let{relative:n}=r===void 0?{}:r,{future:o}=M.useContext(qn),{matches:a}=M.useContext(pn),{pathname:u}=Ui(),c=JSON.stringify(ac(a,o.v7_relativeSplatPath));return M.useMemo(()=>lc(i,JSON.parse(c),u,n==="path"),[i,c,u,n])}function zy(i,r,n,o){zs()||Re(!1);let{navigator:a}=M.useContext(qn),{matches:u}=M.useContext(pn),c=u[u.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=Ui(),v;v=g;let y=v.pathname||"/",w=y;if(p!=="/"){let T=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=Mn(i,{pathname:w});return Ky(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Lr([p,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Lr([p,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,n,o)}function Vy(){let i=Yy(),r=Us(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},r),n?M.createElement("pre",{style:a},n):null,null)}const Wy=M.createElement(Vy,null);class Hy extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?M.createElement(pn.Provider,{value:this.props.routeContext},M.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qy(i){let{routeContext:r,match:n,children:o}=i,a=M.useContext(Na);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(pn.Provider,{value:r},o)}function Ky(i,r,n,o){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,f=(a=n)==null?void 0:a.errors;if(f!=null){let v=c.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);v>=0||Re(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:w,errors:_}=n,b=y.route.loader&&w[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||b){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((v,y,w)=>{let _,b=!1,T=null,R=null;n&&(_=f&&y.route.id?f[y.route.id]:void 0,T=y.route.errorElement||Wy,p&&(g<0&&w===0?(Zy("route-fallback"),b=!0,R=null):g===w&&(b=!0,R=y.route.hydrateFallbackElement||null)));let $=r.concat(c.slice(0,w+1)),U=()=>{let L;return _?L=T:b?L=R:y.route.Component?L=M.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=v,M.createElement(qy,{match:y,routeContext:{outlet:v,matches:$,isDataRoute:n!=null},children:L})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?M.createElement(Hy,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}var kp=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(kp||{}),bp=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(bp||{});function Gy(i){let r=M.useContext(Na);return r||Re(!1),r}function Jy(i){let r=M.useContext(wp);return r||Re(!1),r}function Qy(i){let r=M.useContext(pn);return r||Re(!1),r}function Tp(i){let r=Qy(),n=r.matches[r.matches.length-1];return n.route.id||Re(!1),n.route.id}function Yy(){var i;let r=M.useContext(_p),n=Jy(),o=Tp();return r!==void 0?r:(i=n.errors)==null?void 0:i[o]}function Xy(){let{router:i}=Gy(kp.UseNavigateStable),r=Tp(bp.UseNavigateStable),n=M.useRef(!1);return Sp(()=>{n.current=!0}),M.useCallback(function(a,u){u===void 0&&(u={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,Ea({fromRouteId:r},u)))},[i,r])}const Ef={};function Zy(i,r,n){Ef[i]||(Ef[i]=!0)}function ew(i,r){i?.v7_startTransition,i?.v7_relativeSplatPath===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function tw(i){return By(i.context)}function rw(i){let{basename:r="/",children:n=null,location:o,navigationType:a=ot.Pop,navigator:u,static:c=!1,future:f}=i;zs()&&Re(!1);let p=r.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:p,navigator:u,static:c,future:Ea({v7_relativeSplatPath:!1},f)}),[p,f,u,c]);typeof o=="string"&&(o=fn(o));let{pathname:v="/",search:y="",hash:w="",state:_=null,key:b="default"}=o,T=M.useMemo(()=>{let R=Di(v,p);return R==null?null:{location:{pathname:R,search:y,hash:w,state:_,key:b},navigationType:a}},[p,v,y,w,_,b,a]);return T==null?null:M.createElement(qn.Provider,{value:g},M.createElement(hc.Provider,{children:n,value:T}))}new Promise(()=>{});function nw(i){let r={hasErrorBoundary:i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&Object.assign(r,{element:M.createElement(i.Component),Component:void 0}),i.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:M.createElement(i.HydrateFallback),HydrateFallback:void 0}),i.ErrorBoundary&&Object.assign(r,{errorElement:M.createElement(i.ErrorBoundary),ErrorBoundary:void 0}),r}function $s(){return $s=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},$s.apply(this,arguments)}function iw(i,r){if(i==null)return{};var n={},o=Object.keys(i),a,u;for(u=0;u<o.length;u++)a=o[u],!(r.indexOf(a)>=0)&&(n[a]=i[a]);return n}function sw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ow(i,r){return i.button===0&&(!r||r==="_self")&&!sw(i)}function Fu(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((r,n)=>{let o=i[n];return r.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function aw(i,r){let n=Fu(i);return r&&r.forEach((o,a)=>{n.has(a)||r.getAll(a).forEach(u=>{n.append(a,u)})}),n}const lw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uw="6";try{window.__reactRouterVersion=uw}catch{}function cw(i,r){return yy({basename:void 0,future:$s({},void 0,{v7_prependBasename:!0}),history:zv({window:void 0}),hydrationData:dw(),routes:i,mapRouteProperties:nw,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function dw(){var i;let r=(i=window)==null?void 0:i.__staticRouterHydrationData;return r&&r.errors&&(r=$s({},r,{errors:hw(r.errors)})),r}function hw(i){if(!i)return null;let r=Object.entries(i),n={};for(let[o,a]of r)if(a&&a.__type==="RouteErrorResponse")n[o]=new Sa(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let c=new u(a.message);c.stack="",n[o]=c}catch{}}if(n[o]==null){let u=new Error(a.message);u.stack="",n[o]=u}}else n[o]=a;return n}const fw=M.createContext({isTransitioning:!1}),pw=M.createContext(new Map),gw="startTransition",kf=jv[gw],mw="flushSync",bf=Bv[mw];function vw(i){kf?kf(i):i()}function Ps(i){bf?bf(i):i()}let yw=class{constructor(){this.status="pending",this.promise=new Promise((r,n)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",r(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",n(o))}})}};function ww(i){let{fallbackElement:r,router:n,future:o}=i,[a,u]=M.useState(n.state),[c,f]=M.useState(),[p,g]=M.useState({isTransitioning:!1}),[v,y]=M.useState(),[w,_]=M.useState(),[b,T]=M.useState(),R=M.useRef(new Map),{v7_startTransition:$}=o||{},U=M.useCallback(te=>{$?vw(te):te()},[$]),L=M.useCallback((te,Se)=>{let{deletedFetchers:ye,flushSync:Je,viewTransitionOpts:Le}=Se;te.fetchers.forEach((ze,nt)=>{ze.data!==void 0&&R.current.set(nt,ze.data)}),ye.forEach(ze=>R.current.delete(ze));let Me=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Le||Me){Je?Ps(()=>u(te)):U(()=>u(te));return}if(Je){Ps(()=>{w&&(v&&v.resolve(),w.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Le.currentLocation,nextLocation:Le.nextLocation})});let ze=n.window.document.startViewTransition(()=>{Ps(()=>u(te))});ze.finished.finally(()=>{Ps(()=>{y(void 0),_(void 0),f(void 0),g({isTransitioning:!1})})}),Ps(()=>_(ze));return}w?(v&&v.resolve(),w.skipTransition(),T({state:te,currentLocation:Le.currentLocation,nextLocation:Le.nextLocation})):(f(te),g({isTransitioning:!0,flushSync:!1,currentLocation:Le.currentLocation,nextLocation:Le.nextLocation}))},[n.window,w,v,R,U]);M.useLayoutEffect(()=>n.subscribe(L),[n,L]),M.useEffect(()=>{p.isTransitioning&&!p.flushSync&&y(new yw)},[p]),M.useEffect(()=>{if(v&&c&&n.window){let te=c,Se=v.promise,ye=n.window.document.startViewTransition(async()=>{U(()=>u(te)),await Se});ye.finished.finally(()=>{y(void 0),_(void 0),f(void 0),g({isTransitioning:!1})}),_(ye)}},[U,c,v,n.window]),M.useEffect(()=>{v&&c&&a.location.key===c.location.key&&v.resolve()},[v,w,a.location,c]),M.useEffect(()=>{!p.isTransitioning&&b&&(f(b.state),g({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[p.isTransitioning,b]),M.useEffect(()=>{},[]);let q=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:te=>n.navigate(te),push:(te,Se,ye)=>n.navigate(te,{state:Se,preventScrollReset:ye?.preventScrollReset}),replace:(te,Se,ye)=>n.navigate(te,{replace:!0,state:Se,preventScrollReset:ye?.preventScrollReset})}),[n]),ie=n.basename||"/",Y=M.useMemo(()=>({router:n,navigator:q,static:!1,basename:ie}),[n,q,ie]),C=M.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return M.useEffect(()=>ew(o,n.future),[o,n.future]),M.createElement(M.Fragment,null,M.createElement(Na.Provider,{value:Y},M.createElement(wp.Provider,{value:a},M.createElement(pw.Provider,{value:R.current},M.createElement(fw.Provider,{value:p},M.createElement(rw,{basename:ie,location:a.location,navigationType:a.historyAction,navigator:q,future:C},a.initialized||n.future.v7_partialHydration?M.createElement(_w,{routes:n.routes,future:n.future,state:a}):r))))),null)}const _w=M.memo(Sw);function Sw(i){let{routes:r,future:n,state:o}=i;return zy(r,void 0,o,n)}const Ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ou=M.forwardRef(function(r,n){let{onClick:o,relative:a,reloadDocument:u,replace:c,state:f,target:p,to:g,preventScrollReset:v,viewTransition:y}=r,w=iw(r,lw),{basename:_}=M.useContext(qn),b,T=!1;if(typeof g=="string"&&kw.test(g)&&(b=g,Ew))try{let L=new URL(window.location.href),q=g.startsWith("//")?new URL(L.protocol+g):new URL(g),ie=Di(q.pathname,_);q.origin===L.origin&&ie!=null?g=ie+q.search+q.hash:T=!0}catch{}let R=$y(g,{relative:a}),$=bw(g,{replace:c,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:y});function U(L){o&&o(L),L.defaultPrevented||$(L)}return M.createElement("a",$s({},w,{href:b||R,onClick:T||u?o:U,ref:n,target:p}))});var Tf;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Tf||(Tf={}));var Rf;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Rf||(Rf={}));function bw(i,r){let{target:n,replace:o,state:a,preventScrollReset:u,relative:c,viewTransition:f}=r===void 0?{}:r,p=fc(),g=Ui(),v=Ep(i,{relative:c});return M.useCallback(y=>{if(ow(y,n)){y.preventDefault();let w=o!==void 0?o:Hn(g)===Hn(v);p(i,{replace:w,state:a,preventScrollReset:u,relative:c,viewTransition:f})}},[g,p,v,o,a,n,i,u,c,f])}function oS(i){let r=M.useRef(Fu(i)),n=M.useRef(!1),o=Ui(),a=M.useMemo(()=>aw(o.search,n.current?null:r.current),[o.search]),u=fc(),c=M.useCallback((f,p)=>{const g=Fu(typeof f=="function"?f(a):f);n.current=!0,u("?"+g,p)},[u,a]);return[a,c]}const xf=[{id:"employees",label:"Nhn vin",path:"/admin"},{id:"departments",label:"Phng ban",path:"/admin/departments"},{id:"positions",label:"Chc v",path:"/admin/positions"},{id:"reports",label:"Bo co",path:"/admin/reports/income"}];function Tw(){const i=Ui();return D.jsxs("div",{className:"nen-quan-tri",children:[D.jsxs("header",{className:"phan-dau-quan-tri",children:[D.jsxs("div",{className:"thanh-logo-va-menu",children:[D.jsxs(Ou,{to:"/",className:"cum-logo-quan-tri","aria-label":"Quay v trang cho mng",children:[D.jsx("div",{className:"logo-quan-tri",children:"H"}),D.jsx("div",{className:"ten-logo-quan-tri",children:"HR Pro"})]}),D.jsx("nav",{className:"thanh-dieu-huong-quan-tri",children:xf.map(r=>D.jsx(Ou,{to:r.path,className:`nut-chuyen-tab ${r.path==="/admin"&&i.pathname==="/admin"||r.path!=="/admin"&&i.pathname.startsWith(r.path)?"nut-tab-dang-chon":"nut-tab-thuong"}`,children:r.label},r.id))})]}),D.jsx("nav",{className:"thanh-dieu-huong-quan-tri-mobile",children:xf.map(r=>D.jsx(Ou,{to:r.path,className:`nut-chuyen-tab ${r.path==="/admin"&&i.pathname==="/admin"||r.path!=="/admin"&&i.pathname.startsWith(r.path)?"nut-tab-dang-chon":"nut-tab-thuong"}`,children:r.label},r.id))})]}),D.jsx("main",{className:"noi-dung-quan-tri",children:D.jsx(M.Suspense,{fallback:D.jsx("div",{children:"ang ti..."}),children:D.jsx(tw,{})})})]})}const Rw="/assets/anhtrangchu-Bj3IVjj4.png",Of="/assets/dangnhap-B7UDMrEJ.png",ka={email:"admin@hrpro.vn",password:"Admin@12345"},xw=(i,r)=>i===ka.email&&r===ka.password;var Nr={},sa={};function Ow(i,r,n,o){function a(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function f(v){try{g(o.next(v))}catch(y){c(y)}}function p(v){try{g(o.throw(v))}catch(y){c(y)}}function g(v){v.done?u(v.value):a(v.value).then(f,p)}g((o=o.apply(i,r||[])).next())})}const Pw=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);let Ia=class extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}},Rp=class extends Ia{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Bu=class extends Ia{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},zu=class extends Ia{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var ba;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(ba||(ba={}));class Cw{constructor(r,{headers:n={},customFetch:o,region:a=ba.Any}={}){this.url=r,this.headers=n,this.region=a,this.fetch=Pw(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Ow(this,arguments,void 0,function*(n,o={}){var a;let u,c;try{const{headers:f,method:p,body:g,signal:v,timeout:y}=o;let w={},{region:_}=o;_||(_=this.region);const b=new URL(`${this.url}/${n}`);_&&_!=="any"&&(w["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let T;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(w["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(w["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let R=v;y&&(c=new AbortController,u=setTimeout(()=>c.abort(),y),v?(R=c.signal,v.addEventListener("abort",()=>c.abort())):R=c.signal);const $=yield this.fetch(b.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:T,signal:R}).catch(ie=>{throw new Rp(ie)}),U=$.headers.get("x-relay-error");if(U&&U==="true")throw new Bu($);if(!$.ok)throw new zu($);let L=((a=$.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),q;return L==="application/json"?q=yield $.json():L==="application/octet-stream"||L==="application/pdf"?q=yield $.blob():L==="text/event-stream"?q=$:L==="multipart/form-data"?q=yield $.formData():q=yield $.text(),{data:q,error:null,response:$}}catch(f){return{data:null,error:f,response:f instanceof zu||f instanceof Bu?f.context:void 0}}finally{u&&clearTimeout(u)}})}}const jw=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ba},FunctionsClient:Cw,FunctionsError:Ia,FunctionsFetchError:Rp,FunctionsHttpError:zu,FunctionsRelayError:Bu},Symbol.toStringTag,{value:"Module"})),xp=Bs(jw);var Tt={},Vu=function(i,r){return Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},Vu(i,r)};function Op(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Vu(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Ta=function(){return Ta=Object.assign||function(r){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},Ta.apply(this,arguments)};function Pp(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(n[o[a]]=i[o[a]]);return n}function Cp(i,r,n,o){var a=arguments.length,u=a<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(u=(a<3?c(u):a>3?c(r,n,u):c(r,n))||u);return a>3&&u&&Object.defineProperty(r,n,u),u}function jp(i,r){return function(n,o){r(n,o,i)}}function Ap(i,r,n,o,a,u){function c($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",g=!r&&i?o.static?i:i.prototype:null,v=r||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),y,w=!1,_=n.length-1;_>=0;_--){var b={};for(var T in o)b[T]=T==="access"?{}:o[T];for(var T in o.access)b.access[T]=o.access[T];b.addInitializer=function($){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c($||null))};var R=(0,n[_])(f==="accessor"?{get:v.get,set:v.set}:v[p],b);if(f==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(y=c(R.get))&&(v.get=y),(y=c(R.set))&&(v.set=y),(y=c(R.init))&&a.unshift(y)}else(y=c(R))&&(f==="field"?a.unshift(y):v[p]=y)}g&&Object.defineProperty(g,o.name,v),w=!0}function Np(i,r,n){for(var o=arguments.length>2,a=0;a<r.length;a++)n=o?r[a].call(i,n):r[a].call(i);return o?n:void 0}function Ip(i){return typeof i=="symbol"?i:"".concat(i)}function Lp(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Dp(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function Up(i,r,n,o){function a(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function f(v){try{g(o.next(v))}catch(y){c(y)}}function p(v){try{g(o.throw(v))}catch(y){c(y)}}function g(v){v.done?u(v.value):a(v.value).then(f,p)}g((o=o.apply(i,r||[])).next())})}function $p(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,a,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(o=1,a&&(u=g[0]&2?a.return:g[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,g[1])).done)return u;switch(a=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(i,n)}catch(v){g=[6,v],a=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var La=Object.create?(function(i,r,n,o){o===void 0&&(o=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,a)}):(function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]});function Mp(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&La(r,i,n)}function Ra(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function pc(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),a,u=[],c;try{for(;(r===void 0||r-- >0)&&!(a=o.next()).done;)u.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return u}function Fp(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(pc(arguments[r]));return i}function Bp(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),a=0,r=0;r<n;r++)for(var u=arguments[r],c=0,f=u.length;c<f;c++,a++)o[a]=u[c];return o}function zp(i,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,u;o<a;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function Ni(i){return this instanceof Ni?(this.v=i,this):new Ni(i)}function Vp(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(_){return function(b){return Promise.resolve(b).then(_,y)}}function f(_,b){o[_]&&(a[_]=function(T){return new Promise(function(R,$){u.push([_,T,R,$])>1||p(_,T)})},b&&(a[_]=b(a[_])))}function p(_,b){try{g(o[_](b))}catch(T){w(u[0][3],T)}}function g(_){_.value instanceof Ni?Promise.resolve(_.value.v).then(v,y):w(u[0][2],_)}function v(_){p("next",_)}function y(_){p("throw",_)}function w(_,b){_(b),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Wp(i){var r,n;return r={},o("next"),o("throw",function(a){throw a}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(a,u){r[a]=i[a]?function(c){return(n=!n)?{value:Ni(i[a](c)),done:!1}:u?u(c):c}:u}}function Hp(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof Ra=="function"?Ra(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(c){return new Promise(function(f,p){c=i[u](c),a(f,p,c.done,c.value)})}}function a(u,c,f,p){Promise.resolve(p).then(function(g){u({value:g,done:f})},c)}}function qp(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Aw=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Wu=function(i){return Wu=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},Wu(i)};function Kp(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=Wu(i),o=0;o<n.length;o++)n[o]!=="default"&&La(r,i,n[o]);return Aw(r,i),r}function Gp(i){return i&&i.__esModule?i:{default:i}}function Jp(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Qp(i,r,n,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(i,n):a?a.value=n:r.set(i,n),n}function Yp(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Xp(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(a=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");a&&(o=function(){try{a.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var Nw=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function Zp(i){function r(u){i.error=i.hasError?new Nw(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function a(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(a);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(a,function(c){return r(c),a()})}else o|=1}catch(c){r(c)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return a()}function eg(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,a,u,c){return o?r?".jsx":".js":a&&(!u||!c)?n:a+u+"."+c.toLowerCase()+"js"}):i}const Iw={__extends:Op,__assign:Ta,__rest:Pp,__decorate:Cp,__param:jp,__esDecorate:Ap,__runInitializers:Np,__propKey:Ip,__setFunctionName:Lp,__metadata:Dp,__awaiter:Up,__generator:$p,__createBinding:La,__exportStar:Mp,__values:Ra,__read:pc,__spread:Fp,__spreadArrays:Bp,__spreadArray:zp,__await:Ni,__asyncGenerator:Vp,__asyncDelegator:Wp,__asyncValues:Hp,__makeTemplateObject:qp,__importStar:Kp,__importDefault:Gp,__classPrivateFieldGet:Jp,__classPrivateFieldSet:Qp,__classPrivateFieldIn:Yp,__addDisposableResource:Xp,__disposeResources:Zp,__rewriteRelativeImportExtension:eg},Lw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xp,get __assign(){return Ta},__asyncDelegator:Wp,__asyncGenerator:Vp,__asyncValues:Hp,__await:Ni,__awaiter:Up,__classPrivateFieldGet:Jp,__classPrivateFieldIn:Yp,__classPrivateFieldSet:Qp,__createBinding:La,__decorate:Cp,__disposeResources:Zp,__esDecorate:Ap,__exportStar:Mp,__extends:Op,__generator:$p,__importDefault:Gp,__importStar:Kp,__makeTemplateObject:qp,__metadata:Dp,__param:jp,__propKey:Ip,__read:pc,__rest:Pp,__rewriteRelativeImportExtension:eg,__runInitializers:Np,__setFunctionName:Lp,__spread:Fp,__spreadArray:zp,__spreadArrays:Bp,__values:Ra,default:Iw},Symbol.toStringTag,{value:"Module"})),$i=Bs(Lw);var oa={},aa={},la={},ua={},ca={},da={},Pf;function tg(){if(Pf)return da;Pf=1,Object.defineProperty(da,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return da.default=i,da}var Cf;function rg(){if(Cf)return ca;Cf=1,Object.defineProperty(ca,"__esModule",{value:!0});const r=$i.__importDefault(tg());let n=class{constructor(a){var u,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(u=a.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,u){return this.headers=new Headers(this.headers),this.headers.set(a,u),this}then(a,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,y,w;let _=null,b=null,T=null,R=p.status,$=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ie=await p.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?b=ie:b=JSON.parse(ie))}const L=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),q=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");L&&q&&q.length>1&&(T=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,R=406,$="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const L=await p.text();try{_=JSON.parse(L),Array.isArray(_)&&p.status===404&&(b=[],_=null,R=200,$="OK")}catch{p.status===404&&L===""?(R=204,$="No Content"):_={message:L}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,R=200,$="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:b,count:T,status:R,statusText:$}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,v,y,w,_,b;let T="";const R=p?.cause;if(R){const $=(g=R?.message)!==null&&g!==void 0?g:"",U=(v=R?.code)!==null&&v!==void 0?v:"";T=`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,T+=`

Caused by: ${(w=R?.name)!==null&&w!==void 0?w:"Error"}: ${$}`,U&&(T+=` (${U})`),R?.stack&&(T+=`
${R.stack}`)}else T=(_=p?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(b=p?.name)!==null&&b!==void 0?b:"FetchError"}: ${p?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(a,u)}returns(){return this}overrideTypes(){return this}};return ca.default=n,ca}var jf;function ng(){if(jf)return ua;jf=1,Object.defineProperty(ua,"__esModule",{value:!0});const r=$i.__importDefault(rg());let n=class extends r.default{select(a){let u=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${a}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var v;const y=[a?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return ua.default=n,ua}var Af;function gc(){if(Af)return la;Af=1,Object.defineProperty(la,"__esModule",{value:!0});const r=$i.__importDefault(ng()),n=new RegExp("[,()]");let o=class extends r.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${v}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}};return la.default=o,la}var Nf;function ig(){if(Nf)return aa;Nf=1,Object.defineProperty(aa,"__esModule",{value:!0});const r=$i.__importDefault(gc());let n=class{constructor(a,{headers:u={},schema:c,fetch:f}){this.url=a,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(a,u){const{head:c=!1,count:f}=u??{},p=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:u,defaultToNull:c=!0}={}){var f;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(y.length>0){const w=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var u;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return aa.default=n,aa}var If;function Dw(){if(If)return oa;If=1,Object.defineProperty(oa,"__esModule",{value:!0});const i=$i,r=i.__importDefault(ig()),n=i.__importDefault(gc());let o=class sg{constructor(u,{headers:c={},schema:f,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new sg(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:p=!1,count:g}={}){var v;let y;const w=new URL(`${this.url}/rpc/${u}`);let _;f||p?(y=f?"HEAD":"GET",Object.entries(c).filter(([T,R])=>R!==void 0).map(([T,R])=>[T,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([T,R])=>{w.searchParams.append(T,R)})):(y="POST",_=c);const b=new Headers(this.headers);return g&&b.set("Prefer",`count=${g}`),new n.default({method:y,url:w,headers:b,schema:this.schemaName,body:_,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return oa.default=o,oa}var Lf;function og(){if(Lf)return Tt;Lf=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const i=$i,r=i.__importDefault(Dw());Tt.PostgrestClient=r.default;const n=i.__importDefault(ig());Tt.PostgrestQueryBuilder=n.default;const o=i.__importDefault(gc());Tt.PostgrestFilterBuilder=o.default;const a=i.__importDefault(ng());Tt.PostgrestTransformBuilder=a.default;const u=i.__importDefault(rg());Tt.PostgrestBuilder=u.default;const c=i.__importDefault(tg());return Tt.PostgrestError=c.default,Tt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:c.default},Tt}class ag{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Uw="2.86.2",$w=`realtime-js/${Uw}`,lg="1.0.0",Mw="2.0.0",Df=lg,Hu=1e4,Fw=1e3,Bw=100;var Bn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Bn||(Bn={}));var st;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(st||(st={}));var cr;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(cr||(cr={}));var qu;(function(i){i.websocket="websocket"})(qu||(qu={}));var zn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(zn||(zn={}));class zw{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const a=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(r){var n,o;const a=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(r,n,o){var a,u;const c=r.topic,f=(a=r.ref)!==null&&a!==void 0?a:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",g=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+g.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(_),T=0;b.setUint8(T++,this.KINDS.userBroadcastPush),b.setUint8(T++,p.length),b.setUint8(T++,f.length),b.setUint8(T++,c.length),b.setUint8(T++,g.length),b.setUint8(T++,y.length),b.setUint8(T++,n),Array.from(p,$=>b.setUint8(T++,$.charCodeAt(0))),Array.from(f,$=>b.setUint8(T++,$.charCodeAt(0))),Array.from(c,$=>b.setUint8(T++,$.charCodeAt(0))),Array.from(g,$=>b.setUint8(T++,$.charCodeAt(0))),Array.from(y,$=>b.setUint8(T++,$.charCodeAt(0)));var R=new Uint8Array(_.byteLength+o.byteLength);return R.set(new Uint8Array(_),0),R.set(new Uint8Array(o),_.byteLength),R.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[a,u,c,f,p]=o;return n({join_ref:a,ref:u,topic:c,event:f,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,a)}}_decodeUserBroadcast(r,n,o){const a=n.getUint8(1),u=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=o.decode(r.slice(p,p+a));p=p+a;const v=o.decode(r.slice(p,p+u));p=p+u;const y=o.decode(r.slice(p,p+c));p=p+c;const w=r.slice(p,r.byteLength),_=f===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,b={type:this.BROADCAST_EVENT,event:v,payload:_};return c>0&&(b.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class ug{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(He||(He={}));const Uf=(i,r,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,c)=>(u[c]=Vw(c,i,r,a),u),{}):{}},Vw=(i,r,n,o)=>{const a=r.find(f=>f.name===i),u=a?.type,c=n[i];return u&&!o.includes(u)?cg(u,c):Ku(c)},cg=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Kw(r,n)}switch(i){case He.bool:return Ww(r);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Hw(r);case He.json:case He.jsonb:return qw(r);case He.timestamp:return Gw(r);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ku(r);default:return Ku(r)}},Ku=i=>i,Ww=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Hw=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},qw=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},Kw=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const c=i.slice(1,n);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>cg(r,f))}return i},Gw=i=>typeof i=="string"?i.replace(" ","T"):i,dg=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Pu{constructor(r,n,o={},a=Hu){this.channel=r,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Gu;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Gu||(Gu={}));let hg=class ma{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ma.syncState(this.state,a,u,c),this.pendingDiffs.forEach(p=>{this.state=ma.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ma.syncDiff(this.state,a,u,c),f())}),this.onJoin((a,u,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:c})}),this.onLeave((a,u,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,a){const u=this.cloneDeep(r),c=this.transformState(n),f={},p={};return this.map(u,(g,v)=>{c[g]||(p[g]=v)}),this.map(c,(g,v)=>{const y=u[g];if(y){const w=v.map(R=>R.presence_ref),_=y.map(R=>R.presence_ref),b=v.filter(R=>_.indexOf(R.presence_ref)<0),T=y.filter(R=>w.indexOf(R.presence_ref)<0);b.length>0&&(f[g]=b),T.length>0&&(p[g]=T)}else f[g]=v}),this.syncDiff(u,{joins:f,leaves:p},o,a)}static syncDiff(r,n,o,a){const{joins:u,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(u,(f,p)=>{var g;const v=(g=r[f])!==null&&g!==void 0?g:[];if(r[f]=this.cloneDeep(p),v.length>0){const y=r[f].map(_=>_.presence_ref),w=v.filter(_=>y.indexOf(_.presence_ref)<0);r[f].unshift(...w)}o(f,v,p)}),this.map(c,(f,p)=>{let g=r[f];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),r[f]=g,a(f,g,p),g.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const a=r[o];return"metas"in a?n[o]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=a,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ju;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ju||(Ju={}));var Ci;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ci||(Ci={}));var Sr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));const Jw=st;let fg=class pg{constructor(r,n={config:{}},o){var a,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,cr.join,this.params,this.timeout),this.rejoinTimer=new ug(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new hg(this),this.broadcastEndpointURL=dg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Ci.PRESENCE]&&this.bindings[Ci.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>r?.(Sr.CHANNEL_ERROR,_)),this._onClose(()=>r?.(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){r?.(Sr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,R=(b=T?.length)!==null&&b!==void 0?b:0,$=[];for(let U=0;U<R;U++){const L=T[U],{filter:{event:q,schema:ie,table:Y,filter:C}}=L,te=_&&_[U];if(te&&te.event===q&&te.schema===ie&&te.table===Y&&te.filter===C)$.push(Object.assign(Object.assign({},L),{id:te.id}));else{this.unsubscribe(),this.state=st.errored,r?.(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,r&&r(Sr.SUBSCRIBED);return}}).receive("error",_=>{this.state=st.errored,r?.(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r?.(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===st.joined&&r===Ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var a;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,p;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Pu(this,cr.leave,{},r),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const a=new AbortController,u=setTimeout(()=>a.abort(),o),c=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),c}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pu(this,r,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Bw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var a,u;const c=r.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=cr;if(o&&[f,p,g,v].indexOf(c)>=0&&o!==this._joinRef())return;let w=this._onMessage(c,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var b,T,R;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((R=(T=_.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(_=>_.callback(w,o)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var b,T,R,$,U,L;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const q=_.id,ie=(b=_.filter)===null||b===void 0?void 0:b.event;return q&&((T=n.ids)===null||T===void 0?void 0:T.includes(q))&&(ie==="*"||ie?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(U=($=_?.filter)===null||$===void 0?void 0:$.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return q==="*"||q===((L=n?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:T,table:R,commit_timestamp:$,type:U,errors:L}=b;w=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:$,eventType:U,new:{},old:{},errors:L}),this._getPayloadRecords(b))}_.callback(w,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const a=r.toLocaleLowerCase(),u={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&pg.isEqual(a.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(cr.close,{},r)}_onError(r){this._on(cr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Uf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Uf(r.columns,r.old_record)),n}};const Cu=()=>{},ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qw=[1e3,2e3,5e3,1e4],Yw=1e4,Xw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Zw=class{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hu,this.transport=null,this.heartbeatIntervalMs=ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cu,this.ref=0,this.reconnectTimer=null,this.vsn=Df,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new zw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...u)=>a(...u):(...u)=>fetch(...u),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${qu.websocket}`,this.httpEndpoint=dg(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ag.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return zn.Connecting;case Bn.open:return zn.Open;case Bn.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(u=>u.topic===o);if(a)return a;{const u=new fg(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:a,ref:u}=r,c=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${u})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Fw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:u,ref:c}=n,f=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${a} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(a,u,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(cr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${r}${o}${a}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Xw],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:$w};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new ug(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,a,u,c,f,p,g,v,y,w,_;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Hu,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:ha.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=r?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=r?.heartbeatCallback)!==null&&f!==void 0?f:Cu,this.vsn=(p=r?.vsn)!==null&&p!==void 0?p:Df,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(b=>Qw[b-1]||Yw),this.vsn){case lg:this.encode=(v=r?.encode)!==null&&v!==void 0?v:((b,T)=>T(JSON.stringify(b))),this.decode=(y=r?.decode)!==null&&y!==void 0?y:((b,T)=>T(JSON.parse(b)));break;case Mw:this.encode=(w=r?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=r?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}};const e0=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Jw,get REALTIME_LISTEN_TYPES(){return Ci},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ju},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Gu},get REALTIME_SUBSCRIBE_STATES(){return Sr},RealtimeChannel:fg,RealtimeClient:Zw,RealtimePresence:hg,WebSocketFactory:ag},Symbol.toStringTag,{value:"Module"})),gg=Bs(e0);function ae(i,r,n,o){function a(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function f(v){try{g(o.next(v))}catch(y){c(y)}}function p(v){try{g(o.throw(v))}catch(y){c(y)}}function g(v){v.done?u(v.value):a(v.value).then(f,p)}g((o=o.apply(i,r||[])).next())})}class Vs extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ye(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class mg extends Vs{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xa extends Vs{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const mc=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),t0=()=>Response,Qu=i=>{if(Array.isArray(i))return i.map(n=>Qu(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[a]=Qu(o)}),r},r0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},n0=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),ju=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},i0=(i,r,n)=>ae(void 0,void 0,void 0,function*(){const o=yield t0();i instanceof o&&!n?.noResolveJson?i.json().then(a=>{const u=i.status||500,c=a?.statusCode||u+"";r(new mg(ju(a),u,c))}).catch(a=>{r(new xa(ju(a),a))}):r(new xa(ju(i),i))}),s0=(i,r,n,o)=>{const a={method:i,headers:r?.headers||{}};return i==="GET"||!o?a:(r0(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),n))};function Ws(i,r,n,o,a,u){return ae(this,void 0,void 0,function*(){return new Promise((c,f)=>{i(n,s0(r,o,a,u)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>i0(p,f,o))})})}function Ms(i,r,n,o){return ae(this,void 0,void 0,function*(){return Ws(i,"GET",r,n,o)})}function lr(i,r,n,o,a){return ae(this,void 0,void 0,function*(){return Ws(i,"POST",r,o,a,n)})}function Yu(i,r,n,o,a){return ae(this,void 0,void 0,function*(){return Ws(i,"PUT",r,o,a,n)})}function o0(i,r,n,o){return ae(this,void 0,void 0,function*(){return Ws(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function vc(i,r,n,o,a){return ae(this,void 0,void 0,function*(){return Ws(i,"DELETE",r,o,a,n)})}class a0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}var vg;class l0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[vg]="BlobDownloadBuilder",this.promise=null}asStream(){return new a0(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}vg=Symbol.toStringTag;const u0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c0{constructor(r,n={},o,a){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=mc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,a){return ae(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},$f),a);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),y=yield(r=="PUT"?Yu:lr)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}upload(r,n,o){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,a){return ae(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:$f.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",g.cacheControl)):(p=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield Yu(this.fetch,f.toString(),p,{headers:v});return{data:{path:u,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ye(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return ae(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield lr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new Vs("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}update(r,n,o){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return ae(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}copy(r,n,o){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrl(r,n,o){return ae(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),u=yield lr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrls(r,n,o){return ae(this,void 0,void 0,function*(){try{const a=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}download(r,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),c=u?`?${u}`:"",f=this._getFinalPath(r),p=()=>Ms(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new l0(p,this.shouldThrowOnError)}info(r){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Ms(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qu(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}exists(r){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield o0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o)&&o instanceof xa){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const f=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${g}`)}}}remove(r){return ae(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}list(r,n,o){return ae(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},u0),n),{prefix:r||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}listV2(r,n){return ae(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const yg="2.86.2",wg={"X-Client-Info":`storage-js/${yg}`};class d0{constructor(r,n={},o,a){this.shouldThrowOnError=!1;const u=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wg),n),this.fetch=mc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return ae(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Ms(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}getBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}createBucket(r){return ae(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return ae(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}emptyBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Fs=class extends Error{constructor(i,r){super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h0(i,r,n){const o=new URL(r,i);if(n)for(const[a,u]of Object.entries(n))u!==void 0&&o.searchParams.set(a,u);return o.toString()}async function f0(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function p0(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:u,headers:c}){const f=h0(i.baseUrl,o,a),p=await f0(i.auth),g=await r(f,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),w=y&&v?JSON.parse(v):v;if(!g.ok){const _=y?w:void 0,b=_?.error;throw new Fs(b?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:b?.type,icebergCode:b?.code,details:_})}return{status:g.status,headers:g.headers,data:w}}}}function fa(i){return i.join("")}var g0=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:fa(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fa(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fa(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fa(i.namespace)}`}),!0}catch(r){if(r instanceof Fs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof Fs&&n.status===409)return;throw n}}};function ki(i){return i.join("")}var m0=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ki(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof Fs&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof Fs&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},v0=class{constructor(i){let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=p0({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new g0(this.client,r),this.tableOps=new m0(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class _g{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wg),n),this.fetch=mc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}listBuckets(r){return ae(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),a=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Ms(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}from(r){if(!n0(r))throw new Vs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new v0({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>ae(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const yc={"X-Client-Info":`storage-js/${yg}`,"Content-Type":"application/json"};class wc extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ut(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class va extends wc{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sg extends wc{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Xu;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xu||(Xu={}));const Da=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),y0=()=>Response,Eg=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},w0=i=>Array.from(new Float32Array(i)),_0=(i,r)=>{if(r!==void 0&&i.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${i.float32.length}`)},Mf=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),S0=(i,r,n)=>ae(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const a=i.status||500,u=i;if(typeof u.json=="function")u.json().then(c=>{const f=c?.statusCode||c?.code||a+"";r(new va(Mf(c),a,f))}).catch(()=>{const c=a+"",f=u.statusText||`HTTP ${a} error`;r(new va(f,a,c))});else{const c=a+"",f=u.statusText||`HTTP ${a} error`;r(new va(f,a,c))}}else r(new Sg(Mf(i),i))}),E0=(i,r,n,o)=>{const a={method:i,headers:r?.headers||{}};return o?(Eg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,Object.assign(Object.assign({},a),n)):a};function k0(i,r,n,o,a,u){return ae(this,void 0,void 0,function*(){return new Promise((c,f)=>{i(n,E0(r,o,a,u)).then(p=>{if(!p.ok)throw p;if(o?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>S0(p,f,o))})})}function Wt(i,r,n,o,a){return ae(this,void 0,void 0,function*(){return k0(i,"POST",r,o,a,n)})}class kg{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yc),n),this.fetch=Da(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return ae(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}getIndex(r,n){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ut(o))return{data:null,error:o};throw o}})}listIndexes(r){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ut(o))return{data:null,error:o};throw o}})}}class bg{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yc),n),this.fetch=Da(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return ae(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}getVectors(r){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listVectors(r){return ae(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}queryVectors(r){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteVectors(r){return ae(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}}class Tg{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yc),n),this.fetch=Da(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}getBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listBuckets(){return ae(this,arguments,void 0,function*(r={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ae(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}}class Rg extends Tg{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new xg(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ae(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ae(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ae(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ae(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class xg extends kg{constructor(r,n,o,a){super(r,n,a),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Og(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Og extends bg{constructor(r,n,o,a,u){super(r,n,u),this.vectorBucketName=o,this.indexName=a}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class b0 extends d0{constructor(r,n={},o,a){super(r,n,o,a)}from(r){return new c0(this.url,this.headers,r,this.fetch)}get vectors(){return new Rg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _g(this.url+"/iceberg",this.headers,this.fetch)}}const T0=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:_g,StorageApiError:mg,StorageClient:b0,StorageError:Vs,StorageUnknownError:xa,StorageVectorsApiError:va,StorageVectorsClient:Rg,StorageVectorsError:wc,get StorageVectorsErrorCode(){return Xu},StorageVectorsUnknownError:Sg,VectorBucketApi:Tg,VectorBucketScope:xg,VectorDataApi:bg,VectorIndexApi:kg,VectorIndexScope:Og,isPlainObject:Eg,isStorageError:Ye,isStorageVectorsError:Ut,normalizeToFloat32:w0,resolveFetch:Da,resolveResponse:y0,validateVectorDimension:_0},Symbol.toStringTag,{value:"Module"})),R0=Bs(T0);var Au={},Cs={},Ff;function x0(){return Ff||(Ff=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.version=void 0,Cs.version="2.86.2"),Cs}var Bf;function O0(){return Bf||(Bf=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const r=x0();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${r.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(Au)),Au}var Nu={},zf;function P0(){return zf||(zf=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const r=a=>a?(...u)=>a(...u):(...u)=>fetch(...u);i.resolveFetch=r;const n=()=>Headers;i.resolveHeadersConstructor=n;const o=(a,u,c)=>{const f=(0,i.resolveFetch)(c),p=(0,i.resolveHeadersConstructor)();return async(g,v)=>{var y;const w=(y=await u())!==null&&y!==void 0?y:a;let _=new p(v?.headers);return _.has("apikey")||_.set("apikey",a),_.has("Authorization")||_.set("Authorization",`Bearer ${w}`),f(g,Object.assign(Object.assign({},v),{headers:_}))}};i.fetchWithAuth=o})(Nu)),Nu}var Ir={},Vf;function C0(){if(Vf)return Ir;Vf=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.isBrowser=void 0,Ir.uuid=i,Ir.ensureTrailingSlash=r,Ir.applySettingDefaults=o,Ir.validateSupabaseUrl=a;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=Math.random()*16|0,f=u=="x"?c:c&3|8;return f.toString(16)})}function r(u){return u.endsWith("/")?u:u+"/"}const n=()=>typeof window<"u";Ir.isBrowser=n;function o(u,c){var f,p;const{db:g,auth:v,realtime:y,global:w}=u,{db:_,auth:b,realtime:T,global:R}=c,$={db:Object.assign(Object.assign({},_),g),auth:Object.assign(Object.assign({},b),v),realtime:Object.assign(Object.assign({},T),y),storage:{},global:Object.assign(Object.assign(Object.assign({},R),w),{headers:Object.assign(Object.assign({},(f=R?.headers)!==null&&f!==void 0?f:{}),(p=w?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return u.accessToken?$.accessToken=u.accessToken:delete $.accessToken,$}function a(u){const c=u?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ir}var js={};function Ua(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(n[o[a]]=i[o[a]]);return n}const Pg="2.86.2",Oi=30*1e3,Zu=3,Iu=Zu*Oi,j0="http://localhost:9999",A0="supabase.auth.token",N0={"X-Client-Info":`gotrue-js/${Pg}`},ec="X-Supabase-Api-Version",Cg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L0=600*1e3;let Ii=class extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}};function ue(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let jg=class extends Ii{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}};function Ag(i){return ue(i)&&i.name==="AuthApiError"}let cn=class extends Ii{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}},Dr=class extends Ii{constructor(r,n,o,a){super(r,o,a),this.name=n,this.status=o}},Lt=class extends Dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ng(i){return ue(i)&&i.name==="AuthSessionMissingError"}let Dn=class extends Dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Is=class extends Dr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},Ls=class extends Dr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ig(i){return ue(i)&&i.name==="AuthImplicitGrantRedirectError"}let tc=class extends Dr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Oa=class extends Dr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}};function ya(i){return ue(i)&&i.name==="AuthRetryableFetchError"}let rc=class extends Dr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}};function D0(i){return ue(i)&&i.name==="AuthWeakPasswordError"}let Pa=class extends Dr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wf=` 	
\r=`.split(""),U0=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Wf.length;r+=1)i[Wf[r].charCodeAt(0)]=-2;for(let r=0;r<Ca.length;r+=1)i[Ca[r].charCodeAt(0)]=r;return i})();function Hf(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Ca[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Ca[o]),r.queuedBits-=6}}function Lg(i,r,n){const o=U0[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function qf(i){const r=[],n=c=>{r.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=c=>{F0(c,o,n)};for(let c=0;c<i.length;c+=1)Lg(i.charCodeAt(c),a,u);return r.join("")}function $0(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function M0(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}$0(o,r)}}function F0(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function ji(i){const r=[],n={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<i.length;a+=1)Lg(i.charCodeAt(a),n,o);return new Uint8Array(r)}function B0(i){const r=[];return M0(i,n=>r.push(n)),new Uint8Array(r)}function Wn(i){const r=[],n={queue:0,queuedBits:0},o=a=>{r.push(a)};return i.forEach(a=>Hf(a,n,o)),Hf(null,n,o),r.join("")}function z0(i){return Math.round(Date.now()/1e3)+i}function V0(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Dg=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function W0(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{r[u]=a})}catch{}return n.searchParams.forEach((o,a)=>{r[a]=o}),r}const Ug=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),H0=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Pi=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},In=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(i,r)=>{await i.removeItem(r)};class $a{constructor(){this.promise=new $a.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}$a.promiseConstructor=Promise;function Lu(i){const r=i.split(".");if(r.length!==3)throw new Pa("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!I0.test(r[o]))throw new Pa("JWT not in base64url format");return{header:JSON.parse(qf(r[0])),payload:JSON.parse(qf(r[1])),signature:ji(r[2]),raw:{header:r[0],payload:r[1]}}}async function q0(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function K0(i,r){return new Promise((o,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await i(u);if(!r(u,null,c)){o(c);return}}catch(c){if(!r(u,c)){a(c);return}}})()})}function G0(i){return("0"+i.toString(16)).substr(-2)}function J0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,G0).join("")}async function Q0(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function Y0(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Q0(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bi(i,r,n=!1){const o=J0();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Pi(i,`${r}-code-verifier`,a);const u=await Y0(o);return[u,o===u?"plain":"s256"]}const X0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z0(i){const r=i.headers.get(ec);if(!r||!r.match(X0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function e_(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function t_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ti(i){if(!r_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Du(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n_(i,r){return new Proxy(i,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,a)}})}function Kf(i){return JSON.parse(JSON.stringify(i))}const Un=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),i_=[502,503,504];async function Gf(i){var r;if(!H0(i))throw new Oa(Un(i),0);if(i_.includes(i.status))throw new Oa(Un(i),i.status);let n;try{n=await i.json()}catch(u){throw new cn(Un(u),u)}let o;const a=Z0(i);if(a&&a.getTime()>=Cg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new rc(Un(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Lt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new rc(Un(n),i.status,n.weak_password.reasons);throw new jg(Un(n),i.status||500,o)}const s_=(i,r,n,o)=>{const a={method:i,headers:r?.headers||{}};return i==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function ge(i,r,n,o){var a;const u=Object.assign({},o?.headers);u[ec]||(u[ec]=Cg["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const c=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(c.redirect_to=o.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await o_(i,r,n+f,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function o_(i,r,n,o,a,u){const c=s_(r,o,a,u);let f;try{f=await i(n,Object.assign({},c))}catch(p){throw console.error(p),new Oa(Un(p),0)}if(f.ok||await Gf(f),o?.noResolveJson)return f;try{return await f.json()}catch(p){await Gf(p)}}function ar(i){var r;let n=null;u_(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=z0(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function Jf(i){const r=ar(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function dn(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function a_(i){return{data:i,error:null}}function l_(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:a,verification_type:u}=i,c=Ua(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:a,verification_type:u},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function Qf(i){return i}function u_(i){return i.access_token&&i.refresh_token&&i.expires_in}const wa=["global","local","others"];let _c=class{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Ug(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=wa[0]){if(wa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wa.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dn})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Ua(r,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:l_,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:dn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,a,u,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Qf});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);g[`${R}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){Ti(r);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:dn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Ti(r);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:dn})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){Ti(r);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:dn})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){Ti(r.userId);try{const{data:n,error:o}=await ge(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Ti(r.userId),Ti(r.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,a,u,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Qf});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);g[`${R}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}};function Yf(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const $n={debug:!!(globalThis&&Dg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sc extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let $g=class extends Sc{};class c_ extends Sc{}async function Mg(i,r,n){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,a.name);try{return await n()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,a.name)}}else{if(r===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new $g(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if($n.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const Xf={};async function d_(i,r,n){var o;const a=(o=Xf[i])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([a.catch(()=>null),r>=0?new Promise((c,f)=>{setTimeout(()=>{f(new c_(`Acquring process lock with name "${i}" timed out`))},r)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await n());return Xf[i]=u.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await u}function h_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function f_(i){return parseInt(i,16)}function p_(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function g_(i){var r;const{chainId:n,domain:o,expirationTime:a,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:p,resources:g,scheme:v,uri:y,version:w}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=Fg(i.address),b=v?`${v}://${o}`:o,T=i.statement?`${i.statement}
`:"",R=`${b} wants you to sign in with your Ethereum account:
${_}

${T}`;let $=`URI: ${y}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(a&&($+=`
Expiration Time: ${a.toISOString()}`),f&&($+=`
Not Before: ${f.toISOString()}`),p&&($+=`
Request ID: ${p}`),g){let U=`
Resources:`;for(const L of g){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);U+=`
- ${L}`}$+=U}return`${R}
${$}`}class at extends Error{constructor({message:r,code:n,cause:o,name:a}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=a??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class ja extends at{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function m_({error:i,options:r}){var n,o,a;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new at({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(Bg(c)){if(u.rp.id!==c)return new at({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function v_({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new at({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(Bg(o)){if(n.rpId!==o)return new at({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class y_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const w_=new y_;function __(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,a=Ua(i,["challenge","user","excludeCredentials"]),u=ji(r).buffer,c=Object.assign(Object.assign({},n),{id:ji(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:u,user:c});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ji(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function S_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=Ua(i,["challenge","allowCredentials"]),a=ji(r).buffer,u=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ji(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function E_(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Wn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Wn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function k_(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),a=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Wn(new Uint8Array(a.authenticatorData)),clientDataJSON:Wn(new Uint8Array(a.clientDataJSON)),signature:Wn(new Uint8Array(a.signature)),userHandle:a.userHandle?Wn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Bg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Zf(){var i,r;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function b_(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ja("Browser returned unexpected credential type",r)}:{data:null,error:new ja("Empty credential response",r)}}catch(r){return{data:null,error:m_({error:r,options:i})}}}async function T_(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ja("Browser returned unexpected credential type",r)}:{data:null,error:new ja("Empty credential response",r)}}catch(r){return{data:null,error:v_({error:r,options:i})}}}const R_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},x_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Aa(...i){const r=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of i)if(a)for(const u in a){const c=a[u];if(c!==void 0)if(Array.isArray(c))o[u]=c;else if(n(c))o[u]=c;else if(r(c)){const f=o[u];r(f)?o[u]=Aa(f,c):o[u]=Aa(c)}else o[u]=c}return o}function O_(i,r){return Aa(R_,i,r||{})}function P_(i,r){return Aa(x_,i,r||{})}class C_{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:a},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!c)return{data:null,error:f};const p=a??w_.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=O_(c.webauthn.credential_options.publicKey,u?.create),{data:v,error:y}=await b_({publicKey:g,signal:p});return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=P_(c.webauthn.credential_options.publicKey,u?.request),{data:v,error:y}=await T_(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new cn("Unexpected error in challenge",c)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!n)return{data:null,error:new Ii("rpId is required for WebAuthn authentication")};try{if(!Zf())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:u});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:r,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new cn("Unexpected error in authenticate",c)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!n)return{data:null,error:new Ii("rpId is required for WebAuthn registration")};try{if(!Zf())return{data:null,error:new cn("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:r});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===r&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new cn("Unexpected error in register",c)}}}}h_();const j_={url:j0,storageKey:A0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ep(i,r,n){return await n()}const Ri={};let Ec=class nc{get jwks(){var r,n;return(n=(r=Ri[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Ri[this.storageKey]=Object.assign(Object.assign({},Ri[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Ri[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ri[this.storageKey]=Object.assign(Object.assign({},Ri[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},j_),r);if(this.storageKey=u.storageKey,this.instanceID=(n=nc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&_t()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new _c({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ug(u.fetch),this.lock=u.lock||ep,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:_t()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=Mg:this.lock=ep,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new C_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Dg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Pg}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(_t()&&(n=W0(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),_t()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Ig(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new cn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,a;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ar}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,a;try{let u;if("email"in r){const{email:v,password:y,options:w}=r;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await bi(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:b},xform:ar})}else if("phone"in r){const{phone:v,password:y,options:w}=r;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ar})}else throw new Is("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:c,options:f}=r;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Jf})}else if("phone"in r){const{phone:u,password:c,options:f}=r;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Jf})}else throw new Is("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const u=new Dn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,a,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,a,u,c,f,p,g,v,y,w;let _,b;if("message"in r)_=r.message,b=r.signature;else{const{chain:T,wallet:R,statement:$,options:U}=r;let L;if(_t())if(typeof R=="object")L=R;else{const Se=window;if("ethereum"in Se&&typeof Se.ethereum=="object"&&"request"in Se.ethereum&&typeof Se.ethereum.request=="function")L=Se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=R}const q=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),ie=await L.request({method:"eth_requestAccounts"}).then(Se=>Se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Fg(ie[0]);let C=(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!C){const Se=await L.request({method:"eth_chainId"});C=f_(Se)}const te={domain:q.host,address:Y,statement:$,uri:q.href,version:"1",chainId:C,nonce:(a=U?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=U?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=U?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=g_(te),b=await L.request({method:"personal_sign",params:[p_(_),Y]})}try{const{data:T,error:R}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((y=r.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ar});if(R)throw R;if(!T||!T.session||!T.user){const $=new Dn;return this._returnResult({data:{user:null,session:null},error:$})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:R})}catch(T){if(ue(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(r){var n,o,a,u,c,f,p,g,v,y,w,_;let b,T;if("message"in r)b=r.message,T=r.signature;else{const{chain:R,wallet:$,statement:U,options:L}=r;let q;if(_t())if(typeof $=="object")q=$;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))q=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=$}const ie=new URL((n=L?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const Y=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),U?{statement:U}:null));let C;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")C=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)C=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),T=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${ie.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(a=(o=L?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((c=L?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((y=(v=L?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...L.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const Y=await q.signMessage(new TextEncoder().encode(b),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Y}}try{const{data:R,error:$}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Wn(T)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ar});if($)throw $;if(!R||!R.session||!R.user){const U=new Dn;return this._returnResult({data:{user:null,session:null},error:U})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:$})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(r){const n=await In(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{const{data:u,error:c}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:ar});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new Dn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:c})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:a,access_token:u,nonce:c}=r,f=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ar}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new Dn;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,a,u,c;try{if("email"in r){const{email:f,options:p}=r;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await bi(this.storage,this.storageKey));const{error:y}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in r){const{phone:f,options:p}=r,{data:g,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new Is("You must provide either an email or phone number.")}catch(f){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let a,u;"options"in r&&(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:f}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:ar});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(r){var n,o,a,u,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await bi(this.storage,this.storageKey));const g=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:a_});return!((u=g.data)===null||u===void 0)&&u.url&&_t()&&!(!((c=r.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new Lt;const{error:a}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:u}=r,{error:c}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in r){const{phone:o,type:a,options:u}=r,{data:c,error:f}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Is("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await In(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Iu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const c=await In(this.userStorage,this.storageKey+"-user");c?.user?r.user=c.user:r.user=Du()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};r.user=n_(r.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:a,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:dn}):await this._useSession(async n=>{var o,a,u;const{data:c,error:f}=n;if(f)throw f;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:dn})})}catch(n){if(ue(n))return Ng(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:a,error:u}=o;if(u)throw u;if(!a.session)throw new Lt;const c=a.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await bi(this.storage,this.storageKey));const{data:g,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:dn});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Lt;const n=Date.now()/1e3;let o=n,a=!0,u=null;const{payload:c}=Lu(r.access_token);if(c.exp&&(o=c.exp,a=o<=n),a){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:c,error:f}=n;if(f)throw f;r=(o=c.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new Lt;const{data:a,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!_t())throw new Ls("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ls(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new tc("No code detected.");const{data:U,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:u,refresh_token:c,expires_in:f,expires_at:p,token_type:g}=r;if(!u||!f||!c||!g)throw new Ls("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let w=v+y;p&&(w=parseInt(p));const _=w-v;_*1e3<=Oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const b=w-y;v-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,v):v-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,v);const{data:T,error:R}=await this._getUser(u);if(R)throw R;const $={provider_token:o,provider_refresh_token:a,access_token:u,expires_in:y,expires_at:w,refresh_token:c,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:r.type},error:null})}catch(o){if(ue(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await In(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:u}=n;if(u)return this._returnResult({error:u});const c=(o=a.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:f}=await this.admin.signOut(c,r);if(f&&!(Ag(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=V0(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,a;try{const{data:{session:u},error:c}=n;if(c)throw c;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await bi(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:a}=await this._useSession(async u=>{var c,f,p,g,v;const{data:y,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return _t()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:r.provider,url:o?.url},error:null})}catch(o){if(ue(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:u}}=n;if(a)throw a;const{options:c,provider:f,token:p,access_token:g,nonce:v}=r,y=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ar}),{data:w,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Dn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,a;const{data:u,error:c}=n;if(c)throw c;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await K0(async a=>(a>0&&await q0(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:ar})),(a,u)=>{const c=200*Math.pow(2,a);return u&&ya(u)&&Date.now()+c-o<Oi})}catch(o){if(this._debug(n,"error",o),ue(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),_t()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await In(this.storage,this.storageKey);if(a&&this.userStorage){let c=await In(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Pi(this.userStorage,this.storageKey+"-user",c)),a.user=(r=c?.user)!==null&&r!==void 0?r:Du()}else if(a&&!a.user&&!a.user){const c=await In(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await wt(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,a)):a.user=Du()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const u=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Iu;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Iu}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),ya(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $a;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new Lt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(a,"error",u),ue(u)){const c={data:null,error:u};return ya(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,n,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const u=Kf(a);await Pi(this.storage,this.storageKey,u)}else{const a=Kf(n);await Pi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Oi);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/Oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Oi}ms, refresh threshold is ${Zu} ticks`),a<=Zu&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Sc)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,c]=await bi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);a.push(u.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,a;const{data:u,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?E_(r.webauthn.credential_response):k_(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:__(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:S_(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])a.all.push(u),u.status==="verified"&&a[u.factor_type].push(u);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Lu(o.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:a},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Lt});const c=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&_t()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:a},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Lt});const c=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&_t()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+L0>a)return o;const{data:u,error:c}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=a,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});o=_.session.access_token}const{header:a,payload:u,signature:c,raw:{header:f,payload:p}}=Lu(o);n?.allowExpired||e_(u.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:_}=await this.getUser(o);if(_)throw _;return{data:{claims:u,header:a,signature:c},error:null}}const v=t_(a.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,B0(`${f}.${p}`)))throw new Pa("Invalid JWT signature");return{data:{claims:u,header:a,signature:c},error:null}}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}};Ec.nextInstanceID={};const A_=_c,N_=Ec,I_=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:A_,AuthApiError:jg,AuthClient:N_,AuthError:Ii,AuthImplicitGrantRedirectError:Ls,AuthInvalidCredentialsError:Is,AuthInvalidJwtError:Pa,AuthInvalidTokenResponseError:Dn,AuthPKCEGrantCodeExchangeError:tc,AuthRetryableFetchError:Oa,AuthSessionMissingError:Lt,AuthUnknownError:cn,AuthWeakPasswordError:rc,CustomAuthError:Dr,GoTrueAdminApi:_c,GoTrueClient:Ec,NavigatorLockAcquireTimeoutError:$g,SIGN_OUT_SCOPES:wa,isAuthApiError:Ag,isAuthError:ue,isAuthImplicitGrantRedirectError:Ig,isAuthRetryableFetchError:ya,isAuthSessionMissingError:Ng,isAuthWeakPasswordError:D0,lockInternals:$n,navigatorLock:Mg,processLock:d_},Symbol.toStringTag,{value:"Module"})),zg=Bs(I_);var tp;function L_(){if(tp)return js;tp=1,Object.defineProperty(js,"__esModule",{value:!0}),js.SupabaseAuthClient=void 0;const i=zg;let r=class extends i.AuthClient{constructor(o){super(o)}};return js.SupabaseAuthClient=r,js}var rp;function np(){if(rp)return sa;rp=1,Object.defineProperty(sa,"__esModule",{value:!0});const i=xp,r=og(),n=gg,o=R0,a=O0(),u=P0(),c=C0(),f=L_();class p{constructor(v,y,w){var _,b,T;this.supabaseUrl=v,this.supabaseKey=y;const R=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const $=`sb-${R.hostname.split(".")[0]}-auth-token`,U={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:$}),global:a.DEFAULT_GLOBAL_OPTIONS},L=(0,c.applySettingDefaults)(w??{},U);this.storageKey=(_=L.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(b=L.global.headers)!==null&&b!==void 0?b:{},L.accessToken?(this.accessToken=L.accessToken,this.auth=new Proxy({},{get:(q,ie)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ie)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=L.auth)!==null&&T!==void 0?T:{},this.headers,L.global.fetch),this.fetch=(0,u.fetchWithAuth)(y,this._getAccessToken.bind(this),L.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},L.realtime)),this.accessToken&&this.accessToken().then(q=>this.realtime.setAuth(q)).catch(q=>console.warn("Failed to set initial Realtime auth token:",q)),this.rest=new r.PostgrestClient(new URL("rest/v1",R).href,{headers:this.headers,schema:L.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,w?.storage),L.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,w)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:w,storage:_,userStorage:b,storageKey:T,flowType:R,lock:$,debug:U,throwOnError:L},q,ie){const Y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Y),q),storageKey:T,autoRefreshToken:v,persistSession:y,detectSessionInUrl:w,storage:_,userStorage:b,flowType:R,lock:$,debug:U,throwOnError:L,fetch:ie,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,w)=>{this._handleTokenChanged(y,"CLIENT",w?.access_token)})}_handleTokenChanged(v,y,w){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return sa.default=p,sa}var ip;function D_(){return ip||(ip=1,(function(i){var r=Nr&&Nr.__createBinding||(Object.create?(function(v,y,w,_){_===void 0&&(_=w);var b=Object.getOwnPropertyDescriptor(y,w);(!b||("get"in b?!y.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(v,_,b)}):(function(v,y,w,_){_===void 0&&(_=w),v[_]=y[w]})),n=Nr&&Nr.__exportStar||function(v,y){for(var w in v)w!=="default"&&!Object.prototype.hasOwnProperty.call(y,w)&&r(y,v,w)},o=Nr&&Nr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const a=o(np());n(zg,i);var u=og();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var c=xp;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),n(gg,i);var f=np();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return o(f).default}});const p=(v,y,w)=>new a.default(v,y,w);i.createClient=p;function g(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}g()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Nr)),Nr}var Vg=D_();const Wg=sc(Vg),U_=ic({__proto__:null,default:Wg},[Vg]),{PostgrestError:jS,FunctionsHttpError:AS,FunctionsFetchError:NS,FunctionsRelayError:IS,FunctionsError:LS,FunctionRegion:DS,SupabaseClient:US,createClient:$_,GoTrueAdminApi:$S,GoTrueClient:MS,AuthAdminApi:FS,AuthClient:BS,navigatorLock:zS,NavigatorLockAcquireTimeoutError:VS,lockInternals:WS,processLock:HS,SIGN_OUT_SCOPES:qS,AuthError:KS,AuthApiError:GS,AuthUnknownError:JS,CustomAuthError:QS,AuthSessionMissingError:YS,AuthInvalidTokenResponseError:XS,AuthInvalidCredentialsError:ZS,AuthImplicitGrantRedirectError:eE,AuthPKCEGrantCodeExchangeError:tE,AuthRetryableFetchError:rE,AuthWeakPasswordError:nE,AuthInvalidJwtError:iE,isAuthError:sE,isAuthApiError:oE,isAuthSessionMissingError:aE,isAuthImplicitGrantRedirectError:lE,isAuthRetryableFetchError:uE,isAuthWeakPasswordError:cE,RealtimePresence:dE,RealtimeChannel:hE,RealtimeClient:fE,REALTIME_LISTEN_TYPES:pE,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:gE,REALTIME_PRESENCE_LISTEN_EVENTS:mE,REALTIME_SUBSCRIBE_STATES:vE,REALTIME_CHANNEL_STATES:yE}=Wg||U_,M_="https://rbtcxqsuwpcpcqmbzdef.supabase.co",F_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJidGN4cXN1d3BjcGNxbWJ6ZGVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzc4OTMsImV4cCI6MjA4MDYxMzg5M30.flfTVAf9hgLr_HRMcwj6Mnp7hu5cXu6bKkibObJaIOE",As=$_(M_,F_),B_=i=>i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9\s]/g,"").toUpperCase().trim(),kc=(i,r=3)=>{if(!i)return"";const n=B_(i);if(!n)return"";const o=n.split(/\s+/).filter(Boolean).map(c=>c.charAt(0)).join(""),a=n.replace(/\s+/g,"");return(o||a).slice(0,r)},wE=i=>kc(i,1),z_=i=>kc(i,3),V_=(i,r)=>r?.find(o=>o.tenPhong===i)?.maPhong||z_(i),W_=(i,r)=>r?.find(o=>o.tenChucVu===i)?.maChucVu||kc(i,1),H_=i=>Math.max(1,i).toString().padStart(4,"0").slice(-4),_E=({deptName:i,positionName:r,joinOrder:n,departments:o,positions:a})=>{const u=V_(i,o),c=W_(r,a);return`${u}${c}${H_(n)}`},bc=i=>{if(!i)return null;const r=i.match(/(\d{1,4})$/);if(!r)return null;const n=parseInt(r[1],10);return Number.isNaN(n)?null:n},SE=i=>i.map((r,n)=>{const o=r.joinOrder??bc(r.code)??n+1;return{...r,joinOrder:o}}),EE=i=>{const r=i.reduce((n,o)=>{const a=o.joinOrder??bc(o.code);return a&&a>n?a:n},0);return r===0?i.length+1:r+1},kE=()=>{try{if(typeof window>"u")return[];const i=localStorage.getItem("departmentsData");if(!i)return[];const r=JSON.parse(i);return Array.isArray(r)?r:[]}catch(i){return console.warn("Khng c c departmentsData:",i),[]}},bE=()=>{try{if(typeof window>"u")return[];const i=localStorage.getItem("positionsData");if(!i)return[];const r=JSON.parse(i);return Array.isArray(r)?r:[]}catch(i){return console.warn("Khng c c positionsData:",i),[]}},Hg="employeesData",Ln=()=>{if(typeof localStorage>"u")return[];const i=localStorage.getItem(Hg);if(!i)return[];try{return JSON.parse(i)}catch(r){return console.warn("Khng c c employeesData:",r),[]}},xi=i=>{typeof localStorage>"u"||localStorage.setItem(Hg,JSON.stringify(i))},sp=i=>i?Array.isArray(i)?i[0]??null:i:null,pa=i=>{const r=bc(i.employee_code)??void 0,n=sp(i.departments),o=sp(i.positions);return{id:i.id,code:i.employee_code,name:i.full_name,dept:n?.name??"",departmentId:i.department_id,position:o?.name??"",positionId:i.position_id,baseSalary:Number(i.base_salary),status:i.status,visible:!0,photo:i.photo_url??void 0,joinOrder:r,joinedAt:new Date(i.joined_at).toISOString(),taiKhoan:i.account,matKhau:i.password_hash,account:i.account,password:i.password_hash,createdAt:i.created_at,updatedAt:i.updated_at}},op={getLocalSnapshot:Ln,saveLocalSnapshot:xi,async authenticate(i,r){try{const{data:n,error:o}=await As.from("employees").select(`
          id,
          employee_code,
          full_name,
          department_id,
          position_id,
          base_salary,
          status,
          joined_at,
          account,
          password_hash,
          photo_url,
          created_at,
          updated_at,
          departments:department_id ( id, name ),
          positions:position_id ( id, name )
        `).eq("account",i).eq("password_hash",r).maybeSingle();if(o)throw o;if(!n)return null;const a=pa(n),u=Ln(),c=[a,...u.filter(f=>f.id!==a.id)];return xi(c),a}catch(n){return console.warn("Khng xc thc c nhn vin trn backend.",n),Ln().find(a=>a.taiKhoan===i&&a.matKhau===r)??null}},async list(){try{const{data:i,error:r}=await As.from("employees").select(`
          id,
          employee_code,
          full_name,
          department_id,
          position_id,
          base_salary,
          status,
          joined_at,
          account,
          password_hash,
          photo_url,
          created_at,
          updated_at,
          departments:department_id ( id, name ),
          positions:position_id ( id, name )
        `).order("created_at",{ascending:!1});if(r)throw r;const n=(i??[]).map(o=>pa(o));return xi(n),n}catch(i){return console.warn("Khng ti c danh sch nhn vin t backend, dng d liu offline.",i),Ln()}},async create(i){if(!i.departmentId||!i.positionId)return console.warn("Thiu phng ban hoc chc v khi to nhn vin."),null;const{data:r,error:n}=await As.from("employees").insert({employee_code:i.code,full_name:i.name,department_id:i.departmentId,position_id:i.positionId,base_salary:i.baseSalary,status:i.status,joined_at:i.joinedAt,account:i.taiKhoan,password_hash:i.matKhau,photo_url:i.photo??null}).select(`
        id,
        employee_code,
        full_name,
        department_id,
        position_id,
        base_salary,
        status,
        joined_at,
        account,
        password_hash,
        photo_url,
        created_at,
        updated_at,
        departments:department_id ( id, name ),
        positions:position_id ( id, name )
      `).single();if(n||!r)throw n??new Error("Khng th to nhn vin.");const o=pa(r),a=Ln();return xi([o,...a.filter(u=>u.id!==o.id)]),o},async update(i,r){const n={full_name:r.name,base_salary:r.baseSalary,status:r.status,account:r.taiKhoan,joined_at:r.joinedAt,photo_url:r.photo??null};r.code&&(n.employee_code=r.code),r.departmentId&&(n.department_id=r.departmentId),r.positionId&&(n.position_id=r.positionId),r.matKhau&&(n.password_hash=r.matKhau);try{const{data:o,error:a}=await As.from("employees").update(n).eq("id",i).select(`
          id,
          employee_code,
          full_name,
          department_id,
          position_id,
          base_salary,
          status,
          joined_at,
          account,
          password_hash,
          photo_url,
          created_at,
          updated_at,
          departments:department_id ( id, name ),
          positions:position_id ( id, name )
        `).single();if(a||!o)throw a??new Error("Khng th cp nht nhn vin.");const u=pa(o),c=Ln().map(f=>f.id===u.id?u:f);return xi(c),u}catch(o){return console.warn("Khng cp nht c nhn vin trn backend.",o),null}},async remove(i){try{const{error:r}=await As.from("employees").delete().eq("id",i);if(r)throw r;const n=Ln().filter(o=>o.id!==i);return xi(n),!0}catch(r){return console.warn("Khng xa c nhn vin trn backend.",r),!1}}},q_=()=>{const i=fc(),[r,n]=M.useState(!1),[o,a]=M.useState(!1),[u,c]=M.useState(ka.email),[f,p]=M.useState(ka.password),[g,v]=M.useState(null),[y,w]=M.useState(""),[_,b]=M.useState(""),[T,R]=M.useState(null),[$,U]=M.useState(!1),L=Y=>{Y.preventDefault(),xw(u,f)?(v(null),n(!1),i("/admin")):v("Email hoc mt khu khng ng.")},q=async Y=>{Y.preventDefault(),U(!0);try{const C=await op.authenticate(y,_);if(C&&C.id){localStorage.setItem("attendanceEmployeeId",C.id),R(null),a(!1),i("/attendance");return}R("Ti khon hoc mt khu khng ng.")}catch(C){console.warn("Khng xc thc c nhn vin trc khi ng nhp.",C),R("Khng th kim tra ti khon. Vui lng th li.")}finally{U(!1)}},ie=()=>{w(""),b(""),R(null),a(!0)};return M.useEffect(()=>{let Y=!0;return U(!0),(async()=>{try{await op.list()}catch(C){console.warn("Khng ng b c danh sch nhn vin khi m trang.",C)}finally{Y&&U(!1)}})(),()=>{Y=!1}},[]),D.jsx("div",{className:"nen-trang-chao",children:D.jsxs("div",{className:"khung-noi-dung-trang",children:[D.jsx("header",{className:"than-dieu-huong",children:D.jsxs("div",{className:"cum-can-giua",children:[D.jsx("div",{className:"logo-hr",children:"H"}),D.jsx("div",{className:"chu-logo",children:"HR Pro"})]})}),D.jsxs("section",{className:"phan-anh-hung",children:[D.jsxs("div",{className:"hang-chao-mung",children:[D.jsxs("div",{className:"noi-dung-anh-hung",children:[D.jsx("p",{className:"tieu-de-phu",children:"HR Pro Suite"}),D.jsx("h1",{className:"tieu-de-chao",children:"Cho mng n HR Pro"}),D.jsx("p",{className:"doan-mo-ta-chao",children:"Chm cng FaceID, tnh lng t ng, qun tr nhn s tp trung."})]}),D.jsx("div",{className:"hop-anh-thu-nho",children:D.jsx("div",{className:"the-thong-tin-nhan-vien",children:D.jsxs("div",{className:"the-nhan-dien-khuon-mat",children:[D.jsxs("div",{className:"dong-nhan-dien",children:[D.jsx("span",{children:"Nhn din khun mt"}),D.jsx("span",{children:"Confidence 98%"})]}),D.jsx("img",{src:Rw,alt:"Nhn din",className:"anh-nhan-dien"})]})})})]}),D.jsxs("div",{className:"vung-the-chuc-nang",children:[D.jsxs("div",{className:"the-cham-cong",children:[D.jsx("div",{className:"tieu-de-the",children:D.jsx("p",{className:"dong-tieu-de-the",children:"Chm cng - dnh cho Nhn vin"})}),D.jsx("h3",{className:"ten-the",children:"Chm cng"}),D.jsx("p",{className:"mo-ta-the",children:"Check-in/Check-out bng nhn din khun mt, nhanh v chnh xc."}),D.jsx("div",{className:"vung-nut-hanh-dong",children:D.jsx("button",{className:"nut-trang-cham-cong",onClick:ie,children:"Chm cng"})})]}),D.jsxs("div",{className:"the-quan-tri",children:[D.jsx("div",{className:"tieu-de-the",children:D.jsx("p",{className:"dong-tieu-de-the",children:"Qun tr - dnh cho Qun l"})}),D.jsx("h3",{className:"ten-the",children:"Qun tr"}),D.jsx("p",{className:"mo-ta-the",children:"Lch phng ban, chc v, lng, bo co theo thi gian thc."}),D.jsx("div",{className:"vung-nut-hanh-dong",children:D.jsx("button",{className:"nut-trang-quan-tri",onClick:()=>n(!0),children:"n bng Qun tr"})})]})]})]}),r&&D.jsx("div",{className:"lop-phu-dang-nhap",role:"dialog","aria-modal":"true",children:D.jsxs("div",{className:"hop-dang-nhap",children:[D.jsxs("div",{className:"phan-chao-dang-nhap",children:[D.jsx("p",{className:"tieu-de-dang-nhap",children:"HR Pro Admin"}),D.jsx("img",{src:Of,alt:"M t ng nhp",className:"anh-dang-nhap"})]}),D.jsxs("div",{className:"cot-dang-nhap",children:[D.jsx("button",{type:"button",className:"nut-dong-modal",onClick:()=>n(!1),"aria-label":"ng ng nhp",children:""}),D.jsxs("div",{className:"phan-dau-form",children:[D.jsx("p",{className:"nhan-form",children:"Cho mng quay li"}),D.jsx("h2",{className:"tieu-de-form",children:"ng nhp qun tr"})]}),D.jsxs("form",{className:"form-dang-nhap",onSubmit:L,children:[D.jsxs("label",{className:"nhan-truong",children:["Email",D.jsx("input",{className:"truong-nhap",type:"email",value:u,onChange:Y=>c(Y.target.value),placeholder:"admin@hrpro.vn"})]}),D.jsxs("label",{className:"nhan-truong",children:["Mt khu",D.jsx("input",{className:"truong-nhap",type:"password",value:f,onChange:Y=>p(Y.target.value),placeholder:""})]}),g&&D.jsx("p",{className:"thong-bao-loi",children:g}),D.jsx("div",{className:"dong-tuy-chon"}),D.jsx("button",{type:"submit",className:"nut-dang-nhap",children:"ng nhp"})]})]})]})}),o&&D.jsx("div",{className:"lop-phu-dang-nhap",role:"dialog","aria-modal":"true",children:D.jsxs("div",{className:"hop-dang-nhap",children:[D.jsxs("div",{className:"phan-chao-dang-nhap",children:[D.jsx("p",{className:"tieu-de-dang-nhap",children:"HR Pro Attendance"}),D.jsx("img",{src:Of,alt:"ng nhp nhn vin",className:"anh-dang-nhap"})]}),D.jsxs("div",{className:"cot-dang-nhap",children:[D.jsx("button",{type:"button",className:"nut-dong-modal",onClick:()=>a(!1),"aria-label":"ng ng nhp nhn vin",children:""}),D.jsxs("div",{className:"phan-dau-form",children:[D.jsx("p",{className:"nhan-form",children:"Xin cho"}),D.jsx("h2",{className:"tieu-de-form",children:"ng nhp chm cng"})]}),D.jsxs("form",{className:"form-dang-nhap",onSubmit:q,children:[D.jsxs("label",{className:"nhan-truong",children:["Ti khon",D.jsx("input",{className:"truong-nhap",type:"text",value:y,onChange:Y=>w(Y.target.value),placeholder:"VD: minhanh",disabled:$})]}),D.jsxs("label",{className:"nhan-truong",children:["Mt khu",D.jsx("input",{className:"truong-nhap",type:"password",value:_,onChange:Y=>b(Y.target.value),placeholder:"",disabled:$})]}),T&&D.jsx("p",{className:"thong-bao-loi",children:T}),$&&D.jsx("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:"ang ng b d liu nhn vin..."}),D.jsx("button",{type:"submit",className:"nut-dang-nhap",disabled:$,children:$?"ang kim tra...":"ng nhp & chm cng"})]})]})]})})]})})};function ap(i){return D.jsx("input",{...i,className:`w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-slate-900 placeholder:text-slate-500 shadow-sm
                 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 
                 read-only:bg-slate-100 read-only:text-slate-700 read-only:cursor-not-allowed
                 transition-shadow duration-200 ${i.className||""}`})}function K_({variant:i="primary",className:r="",children:n,...o}){const a="px-4 py-2 rounded-md font-medium shadow-sm focus:outline-none",u=i==="primary"?"bg-blue-600 text-white hover:bg-blue-700":i==="outline"?"border border-gray-300 text-gray-700 bg-white":"bg-transparent text-gray-700";return D.jsx("button",{className:`${a} ${u} ${r}`,...o,children:n})}const G_=()=>{const[i,r]=M.useState(""),[n,o]=M.useState(""),[a,u]=M.useState(!1),c=async f=>{f.preventDefault(),u(!0),setTimeout(()=>u(!1),1200)};return D.jsxs("div",{className:"min-h-screen bg-white text-gray-900 flex flex-col lg:flex-row",children:[D.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center border-b lg:border-b-0 lg:border-r border-gray-200 bg-white text-gray-900 p-10",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[D.jsx("div",{className:"h-12 w-12 rounded-2xl bg-white text-gray-900 border border-gray-300 flex items-center justify-center text-xl font-semibold",children:"HR"}),D.jsxs("div",{children:[D.jsx("p",{className:"text-lg font-semibold",children:"H thng qun l nhn s"}),D.jsx("p",{className:"text-sm text-gray-500",children:"ng nhp  bt u qun l"})]})]}),D.jsx("div",{className:"w-full max-w-md rounded-3xl border border-gray-200 bg-white p-6 shadow-sm",children:D.jsx("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&w=900&q=60",alt:"Minh ha vn phng",className:"rounded-2xl border border-gray-100"})})]}),D.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:D.jsxs("form",{onSubmit:c,className:"w-full max-w-sm space-y-6 rounded-2xl border border-gray-100 bg-white p-8 shadow-xl shadow-gray-100",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"ng nhp"}),D.jsx("p",{className:"text-sm text-gray-500",children:"Nhp email v mt khu do qun tr vin cung cp."})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),D.jsx(ap,{type:"email",placeholder:"nhanvien@congty.com",value:i,onChange:f=>r(f.target.value),required:!0})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mt khu"}),D.jsx(ap,{type:"password",placeholder:"",value:n,onChange:f=>o(f.target.value),required:!0})]}),D.jsx(K_,{type:"submit",className:"w-full justify-center",disabled:a,children:a?"ang x l...":"ng nhp"})]})})]})},J_=M.lazy(()=>Li(()=>import("./EmployeePage-Dek0d4D2.js"),__vite__mapDeps([0,1,2,3,4,5]))),Q_=M.lazy(()=>Li(()=>import("./DepartmentPage-CRQ9DlhP.js"),__vite__mapDeps([6,1,2,3,7]))),Y_=M.lazy(()=>Li(()=>import("./PositionPage-CNc-O431.js"),__vite__mapDeps([8,1,3,7,5]))),X_=M.lazy(()=>Li(()=>import("./IncomeReportPage-xdTzN2CE.js"),__vite__mapDeps([9,3]))),Z_=M.lazy(()=>Li(()=>import("./FaceAttendancePage-Btq68v21.js"),__vite__mapDeps([10,4,11]))),eS=M.lazy(()=>Li(()=>import("./index-BlI6ehuD.js"),[])),tS=cw([{path:"/",element:D.jsx(q_,{})},{path:"/login",element:D.jsx(G_,{})},{path:"/admin",element:D.jsx(Tw,{}),children:[{index:!0,element:D.jsx(J_,{})},{path:"departments",element:D.jsx(Q_,{})},{path:"positions",element:D.jsx(Y_,{})},{path:"reports/income",element:D.jsx(X_,{})},{path:"payroll",element:D.jsx(eS,{})}]},{path:"/attendance",element:D.jsx(Z_,{})}]),rS=()=>D.jsx(M.Suspense,{fallback:D.jsx("div",{children:"Loading..."}),children:D.jsx(ww,{router:tS})});function nS(){return D.jsx(Uv,{children:D.jsx(rS,{})})}Dv.createRoot(document.getElementById("root")).render(D.jsx(M.StrictMode,{children:D.jsx(nS,{})}));export{K_ as B,ap as I,Ou as L,Cv as R,bE as a,_E as b,op as c,z_ as d,bc as e,wE as f,EE as g,iS as h,sc as i,D as j,oS as k,kE as l,SE as n,M as r,As as s,fc as u};
